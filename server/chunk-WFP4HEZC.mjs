import './polyfills.server.mjs';
import{c as Y6}from"./chunk-KQCBERWQ.mjs";import{a as t8,b as f4,c as s8,d as K1,e as f1,f as t1,g as V3,h as a3,i as m4}from"./chunk-4KRFWWIY.mjs";import{$ as _2,$a as G1,$b as P3,A as y,Aa as T,B as X2,Ba as E6,Bb as q6,C as n4,Ca as I6,Cb as o4,D as b6,Da as P6,Db as L2,E as i4,Ea as Q4,Eb as j,F as J2,Fa as w,G as L,Ga as x1,Gb as $,H as l4,Ha as B,Hb as B6,I as H1,Ia as i3,J as F2,Ja as e1,K as B1,Ka as c1,L as M,La as f,Lb as l3,M as H2,Ma as m,Mb as i2,N as D,Na as g,Nb as j6,O as M1,Oa as A1,Ob as W6,P as r,Pa as V6,Pb as Q1,Q as e3,Qa as _,R as x6,Ra as F,Rb as K4,S as O,Sa as D6,Sb as G6,T as R2,Ta as T6,Tb as $6,U as X,Ua as W1,V as a4,Va as F6,W as c3,Wa as n2,X as R1,Xa as d,Y as h2,Ya as I,Yb as Q6,Z as n1,Za as I3,Zb as Z6,_ as i1,_a as H6,_b as K6,a as t2,aa as t3,ab as U,ac as X6,b as u2,ba as O2,bb as l1,c as F1,ca as s2,cb as $1,cc as T1,d as Y2,da as s3,db as R6,dc as Z1,e as S,ea as N6,eb as _1,ec as J6,f as b,fa as $4,fb as O1,fc as e8,g as A,ga as j1,gc as c8,h as K,i as M6,j as g6,jb as _6,k as J3,ka as m1,l as k,m as e4,n as D2,nb as O6,o as d2,p as c4,q as t4,qa as w6,r as s4,ra as n3,s as v6,sa as h,sb as C2,t as V1,ta as H,tb as D1,u as h1,ua as r4,ub as z1,v as G,va as k6,vb as U6,w as T2,wa as z2,wb as Z4,x as S6,xa as A6,y as p2,ya as y1,yb as a1,z as y6,za as b1}from"./chunk-5BJTEH4I.mjs";import{a as z,b as E,c as he,d as L6,h as m2}from"./chunk-5XUXGTUW.mjs";var n8=()=>{},C0={},k8={},A8=null,E8={mark:n8,measure:n8};try{typeof window<"u"&&(C0=window),typeof document<"u"&&(k8=document),typeof MutationObserver<"u"&&(A8=MutationObserver),typeof performance<"u"&&(E8=performance)}catch{}var{userAgent:i8=""}=C0.navigator||{},v2=C0,Y=k8,l8=A8,u4=E8,Fi=!!v2.document,r2=!!Y.documentElement&&!!Y.head&&typeof Y.addEventListener=="function"&&typeof Y.createElement=="function",I8=~i8.indexOf("MSIE")||~i8.indexOf("Trident/"),J="classic",P8="duotone",E1="sharp",I1="sharp-duotone",ze=[J,P8,E1,I1],Ce={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds"}},a8={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},Le=["kit"],Me=/fa(s|r|l|t|d|b|k|kd|ss|sr|sl|st|sds)?[\-\ ]/,ge=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,ve={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},Se={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds"}},ye={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds"}},be={classic:["fas","far","fal","fat"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds"]},xe={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid"}},Ne={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds"}},V8={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid"}},we=["solid","regular","light","thin","duotone","brands"],D8=[1,2,3,4,5,6,7,8,9,10],ke=D8.concat([11,12,13,14,15,16,17,18,19,20]),D3={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Ae=[...Object.keys(be),...we,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",D3.GROUP,D3.SWAP_OPACITY,D3.PRIMARY,D3.SECONDARY].concat(D8.map(s=>"".concat(s,"x"))).concat(ke.map(s=>"w-".concat(s))),Ee={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},Ie={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},Pe={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},r8={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},l2="___FONT_AWESOME___",t0=16,T8="fa",F8="svg-inline--fa",j2="data-fa-i2svg",s0="data-fa-pseudo-element",Ve="data-fa-pseudo-element-pending",L0="data-prefix",M0="data-icon",o8="fontawesome-i2svg",De="async",Te=["HTML","HEAD","STYLE","SCRIPT"],H8=(()=>{try{return process.env.NODE_ENV==="production"}catch{return!1}})(),R8=[J,E1,I1];function O3(s){return new Proxy(s,{get(c,n){return n in c?c[n]:c[J]}})}var _8=z({},V8);_8[J]=z(z(z({},V8[J]),a8.kit),a8["kit-duotone"]);var q2=O3(_8),n0=z({},Ne);n0[J]=z(z(z({},n0[J]),r8.kit),r8["kit-duotone"]);var R3=O3(n0),i0=z({},xe);i0[J]=z(z({},i0[J]),Pe.kit);var B2=O3(i0),l0=z({},ye);l0[J]=z(z({},l0[J]),Ie.kit);var Fe=O3(l0),He=Me,O8="fa-layers-text",Re=ge,_e=z({},Ce),Hi=O3(_e),Oe=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Y4=D3,f3=new Set;Object.keys(R3[J]).map(f3.add.bind(f3));Object.keys(R3[E1]).map(f3.add.bind(f3));Object.keys(R3[I1]).map(f3.add.bind(f3));var Ue=[...Le,...Ae],F3=v2.FontAwesomeConfig||{};function qe(s){var c=Y.querySelector("script["+s+"]");if(c)return c.getAttribute(s)}function Be(s){return s===""?!0:s==="false"?!1:s==="true"?!0:s}Y&&typeof Y.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(c=>{let[n,e]=c,t=Be(qe(n));t!=null&&(F3[e]=t)});var U8={styleDefault:"solid",familyDefault:"classic",cssPrefix:T8,replacementClass:F8,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};F3.familyPrefix&&(F3.cssPrefix=F3.familyPrefix);var m3=z(z({},U8),F3);m3.autoReplaceSvg||(m3.observeMutations=!1);var x={};Object.keys(U8).forEach(s=>{Object.defineProperty(x,s,{enumerable:!0,set:function(c){m3[s]=c,H3.forEach(n=>n(x))},get:function(){return m3[s]}})});Object.defineProperty(x,"familyPrefix",{enumerable:!0,set:function(s){m3.cssPrefix=s,H3.forEach(c=>c(x))},get:function(){return m3.cssPrefix}});v2.FontAwesomeConfig=x;var H3=[];function je(s){return H3.push(s),()=>{H3.splice(H3.indexOf(s),1)}}var M2=t0,Y1={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function We(s){if(!s||!r2)return;let c=Y.createElement("style");c.setAttribute("type","text/css"),c.innerHTML=s;let n=Y.head.childNodes,e=null;for(let t=n.length-1;t>-1;t--){let i=n[t],l=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(l)>-1&&(e=i)}return Y.head.insertBefore(c,e),s}var Ge="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function _3(){let s=12,c="";for(;s-- >0;)c+=Ge[Math.random()*62|0];return c}function u3(s){let c=[];for(let n=(s||[]).length>>>0;n--;)c[n]=s[n];return c}function g0(s){return s.classList?u3(s.classList):(s.getAttribute("class")||"").split(" ").filter(c=>c)}function q8(s){return"".concat(s).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function $e(s){return Object.keys(s||{}).reduce((c,n)=>c+"".concat(n,'="').concat(q8(s[n]),'" '),"").trim()}function C4(s){return Object.keys(s||{}).reduce((c,n)=>c+"".concat(n,": ").concat(s[n].trim(),";"),"")}function v0(s){return s.size!==Y1.size||s.x!==Y1.x||s.y!==Y1.y||s.rotate!==Y1.rotate||s.flipX||s.flipY}function Qe(s){let{transform:c,containerWidth:n,iconWidth:e}=s,t={transform:"translate(".concat(n/2," 256)")},i="translate(".concat(c.x*32,", ").concat(c.y*32,") "),l="scale(".concat(c.size/16*(c.flipX?-1:1),", ").concat(c.size/16*(c.flipY?-1:1),") "),a="rotate(".concat(c.rotate," 0 0)"),o={transform:"".concat(i," ").concat(l," ").concat(a)},u={transform:"translate(".concat(e/2*-1," -256)")};return{outer:t,inner:o,path:u}}function Ze(s){let{transform:c,width:n=t0,height:e=t0,startCentered:t=!1}=s,i="";return t&&I8?i+="translate(".concat(c.x/M2-n/2,"em, ").concat(c.y/M2-e/2,"em) "):t?i+="translate(calc(-50% + ".concat(c.x/M2,"em), calc(-50% + ").concat(c.y/M2,"em)) "):i+="translate(".concat(c.x/M2,"em, ").concat(c.y/M2,"em) "),i+="scale(".concat(c.size/M2*(c.flipX?-1:1),", ").concat(c.size/M2*(c.flipY?-1:1),") "),i+="rotate(".concat(c.rotate,"deg) "),i}var Ke=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function B8(){let s=T8,c=F8,n=x.cssPrefix,e=x.replacementClass,t=Ke;if(n!==s||e!==c){let i=new RegExp("\\.".concat(s,"\\-"),"g"),l=new RegExp("\\--".concat(s,"\\-"),"g"),a=new RegExp("\\.".concat(c),"g");t=t.replace(i,".".concat(n,"-")).replace(l,"--".concat(n,"-")).replace(a,".".concat(e))}return t}var f8=!1;function X4(){x.autoAddCss&&!f8&&(We(B8()),f8=!0)}var Ye={mixout(){return{dom:{css:B8,insertCss:X4}}},hooks(){return{beforeDOMElementCreation(){X4()},beforeI2svg(){X4()}}}},a2=v2||{};a2[l2]||(a2[l2]={});a2[l2].styles||(a2[l2].styles={});a2[l2].hooks||(a2[l2].hooks={});a2[l2].shims||(a2[l2].shims=[]);var X1=a2[l2],j8=[],W8=function(){Y.removeEventListener("DOMContentLoaded",W8),h4=1,j8.map(s=>s())},h4=!1;r2&&(h4=(Y.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Y.readyState),h4||Y.addEventListener("DOMContentLoaded",W8));function Xe(s){r2&&(h4?setTimeout(s,0):j8.push(s))}function U3(s){let{tag:c,attributes:n={},children:e=[]}=s;return typeof s=="string"?q8(s):"<".concat(c," ").concat($e(n),">").concat(e.map(U3).join(""),"</").concat(c,">")}function m8(s,c,n){if(s&&s[c]&&s[c][n])return{prefix:c,iconName:n,icon:s[c][n]}}var Je=function(c,n){return function(e,t,i,l){return c.call(n,e,t,i,l)}},J4=function(c,n,e,t){var i=Object.keys(c),l=i.length,a=t!==void 0?Je(n,t):n,o,u,p;for(e===void 0?(o=1,p=c[i[0]]):(o=0,p=e);o<l;o++)u=i[o],p=a(p,c[u],u,c);return p};function e9(s){let c=[],n=0,e=s.length;for(;n<e;){let t=s.charCodeAt(n++);if(t>=55296&&t<=56319&&n<e){let i=s.charCodeAt(n++);(i&64512)==56320?c.push(((t&1023)<<10)+(i&1023)+65536):(c.push(t),n--)}else c.push(t)}return c}function a0(s){let c=e9(s);return c.length===1?c[0].toString(16):null}function c9(s,c){let n=s.length,e=s.charCodeAt(c),t;return e>=55296&&e<=56319&&n>c+1&&(t=s.charCodeAt(c+1),t>=56320&&t<=57343)?(e-55296)*1024+t-56320+65536:e}function u8(s){return Object.keys(s).reduce((c,n)=>{let e=s[n];return!!e.icon?c[e.iconName]=e.icon:c[n]=e,c},{})}function r0(s,c){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{skipHooks:e=!1}=n,t=u8(c);typeof X1.hooks.addPack=="function"&&!e?X1.hooks.addPack(s,u8(c)):X1.styles[s]=z(z({},X1.styles[s]||{}),t),s==="fas"&&r0("fa",c)}var{styles:U2,shims:t9}=X1,s9={[J]:Object.values(B2[J]),[E1]:Object.values(B2[E1]),[I1]:Object.values(B2[I1])},S0=null,G8={},$8={},Q8={},Z8={},K8={},n9={[J]:Object.keys(q2[J]),[E1]:Object.keys(q2[E1]),[I1]:Object.keys(q2[I1])};function i9(s){return~Ue.indexOf(s)}function l9(s,c){let n=c.split("-"),e=n[0],t=n.slice(1).join("-");return e===s&&t!==""&&!i9(t)?t:null}var Y8=()=>{let s=e=>J4(U2,(t,i,l)=>(t[l]=J4(i,e,{}),t),{});G8=s((e,t,i)=>(t[3]&&(e[t[3]]=i),t[2]&&t[2].filter(a=>typeof a=="number").forEach(a=>{e[a.toString(16)]=i}),e)),$8=s((e,t,i)=>(e[i]=i,t[2]&&t[2].filter(a=>typeof a=="string").forEach(a=>{e[a]=i}),e)),K8=s((e,t,i)=>{let l=t[2];return e[i]=i,l.forEach(a=>{e[a]=i}),e});let c="far"in U2||x.autoFetchSvg,n=J4(t9,(e,t)=>{let i=t[0],l=t[1],a=t[2];return l==="far"&&!c&&(l="fas"),typeof i=="string"&&(e.names[i]={prefix:l,iconName:a}),typeof i=="number"&&(e.unicodes[i.toString(16)]={prefix:l,iconName:a}),e},{names:{},unicodes:{}});Q8=n.names,Z8=n.unicodes,S0=L4(x.styleDefault,{family:x.familyDefault})};je(s=>{S0=L4(s.styleDefault,{family:x.familyDefault})});Y8();function y0(s,c){return(G8[s]||{})[c]}function a9(s,c){return($8[s]||{})[c]}function g2(s,c){return(K8[s]||{})[c]}function X8(s){return Q8[s]||{prefix:null,iconName:null}}function r9(s){let c=Z8[s],n=y0("fas",s);return c||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function S2(){return S0}var b0=()=>({prefix:null,iconName:null,rest:[]});function L4(s){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{family:n=J}=c,e=q2[n][s],t=R3[n][s]||R3[n][e],i=s in X1.styles?s:null;return t||i||null}var o9={[J]:Object.keys(B2[J]),[E1]:Object.keys(B2[E1]),[I1]:Object.keys(B2[I1])};function M4(s){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{skipLookups:n=!1}=c,e={[J]:"".concat(x.cssPrefix,"-").concat(J),[E1]:"".concat(x.cssPrefix,"-").concat(E1),[I1]:"".concat(x.cssPrefix,"-").concat(I1)},t=null,i=J,l=ze.filter(o=>o!==P8);l.forEach(o=>{(s.includes(e[o])||s.some(u=>o9[o].includes(u)))&&(i=o)});let a=s.reduce((o,u)=>{let p=l9(x.cssPrefix,u);if(U2[u]?(u=s9[i].includes(u)?Fe[i][u]:u,t=u,o.prefix=u):n9[i].indexOf(u)>-1?(t=u,o.prefix=L4(u,{family:i})):p?o.iconName=p:u!==x.replacementClass&&!l.some(C=>u===e[C])&&o.rest.push(u),!n&&o.prefix&&o.iconName){let C=t==="fa"?X8(o.iconName):{},v=g2(o.prefix,o.iconName);C.prefix&&(t=null),o.iconName=C.iconName||v||o.iconName,o.prefix=C.prefix||o.prefix,o.prefix==="far"&&!U2.far&&U2.fas&&!x.autoFetchSvg&&(o.prefix="fas")}return o},b0());return(s.includes("fa-brands")||s.includes("fab"))&&(a.prefix="fab"),(s.includes("fa-duotone")||s.includes("fad"))&&(a.prefix="fad"),!a.prefix&&i===E1&&(U2.fass||x.autoFetchSvg)&&(a.prefix="fass",a.iconName=g2(a.prefix,a.iconName)||a.iconName),!a.prefix&&i===I1&&(U2.fasds||x.autoFetchSvg)&&(a.prefix="fasds",a.iconName=g2(a.prefix,a.iconName)||a.iconName),(a.prefix==="fa"||t==="fa")&&(a.prefix=S2()||"fas"),a}var o0=class{constructor(){this.definitions={}}add(){for(var c=arguments.length,n=new Array(c),e=0;e<c;e++)n[e]=arguments[e];let t=n.reduce(this._pullDefinitions,{});Object.keys(t).forEach(i=>{this.definitions[i]=z(z({},this.definitions[i]||{}),t[i]),r0(i,t[i]);let l=B2[J][i];l&&r0(l,t[i]),Y8()})}reset(){this.definitions={}}_pullDefinitions(c,n){let e=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(e).map(t=>{let{prefix:i,iconName:l,icon:a}=e[t],o=a[2];c[i]||(c[i]={}),o.length>0&&o.forEach(u=>{typeof u=="string"&&(c[i][u]=a)}),c[i][l]=a}),c}},d8=[],r3={},o3={},f9=Object.keys(o3);function m9(s,c){let{mixoutsTo:n}=c;return d8=s,r3={},Object.keys(o3).forEach(e=>{f9.indexOf(e)===-1&&delete o3[e]}),d8.forEach(e=>{let t=e.mixout?e.mixout():{};if(Object.keys(t).forEach(i=>{typeof t[i]=="function"&&(n[i]=t[i]),typeof t[i]=="object"&&Object.keys(t[i]).forEach(l=>{n[i]||(n[i]={}),n[i][l]=t[i][l]})}),e.hooks){let i=e.hooks();Object.keys(i).forEach(l=>{r3[l]||(r3[l]=[]),r3[l].push(i[l])})}e.provides&&e.provides(o3)}),n}function f0(s,c){for(var n=arguments.length,e=new Array(n>2?n-2:0),t=2;t<n;t++)e[t-2]=arguments[t];return(r3[s]||[]).forEach(l=>{c=l.apply(null,[c,...e])}),c}function W2(s){for(var c=arguments.length,n=new Array(c>1?c-1:0),e=1;e<c;e++)n[e-1]=arguments[e];(r3[s]||[]).forEach(i=>{i.apply(null,n)})}function y2(){let s=arguments[0],c=Array.prototype.slice.call(arguments,1);return o3[s]?o3[s].apply(null,c):void 0}function m0(s){s.prefix==="fa"&&(s.prefix="fas");let{iconName:c}=s,n=s.prefix||S2();if(c)return c=g2(n,c)||c,m8(J8.definitions,n,c)||m8(X1.styles,n,c)}var J8=new o0,u9=()=>{x.autoReplaceSvg=!1,x.observeMutations=!1,W2("noAuto")},d9={i2svg:function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return r2?(W2("beforeI2svg",s),y2("pseudoElements2svg",s),y2("i2svg",s)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:c}=s;x.autoReplaceSvg===!1&&(x.autoReplaceSvg=!0),x.observeMutations=!0,Xe(()=>{h9({autoReplaceSvgRoot:c}),W2("watch",s)})}},p9={icon:s=>{if(s===null)return null;if(typeof s=="object"&&s.prefix&&s.iconName)return{prefix:s.prefix,iconName:g2(s.prefix,s.iconName)||s.iconName};if(Array.isArray(s)&&s.length===2){let c=s[1].indexOf("fa-")===0?s[1].slice(3):s[1],n=L4(s[0]);return{prefix:n,iconName:g2(n,c)||c}}if(typeof s=="string"&&(s.indexOf("".concat(x.cssPrefix,"-"))>-1||s.match(He))){let c=M4(s.split(" "),{skipLookups:!0});return{prefix:c.prefix||S2(),iconName:g2(c.prefix,c.iconName)||c.iconName}}if(typeof s=="string"){let c=S2();return{prefix:c,iconName:g2(c,s)||s}}}},P1={noAuto:u9,config:x,dom:d9,parse:p9,library:J8,findIconDefinition:m0,toHtml:U3},h9=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:c=Y}=s;(Object.keys(X1.styles).length>0||x.autoFetchSvg)&&r2&&x.autoReplaceSvg&&P1.dom.i2svg({node:c})};function g4(s,c){return Object.defineProperty(s,"abstract",{get:c}),Object.defineProperty(s,"html",{get:function(){return s.abstract.map(n=>U3(n))}}),Object.defineProperty(s,"node",{get:function(){if(!r2)return;let n=Y.createElement("div");return n.innerHTML=s.html,n.children}}),s}function z9(s){let{children:c,main:n,mask:e,attributes:t,styles:i,transform:l}=s;if(v0(l)&&n.found&&!e.found){let{width:a,height:o}=n,u={x:a/o/2,y:.5};t.style=C4(E(z({},i),{"transform-origin":"".concat(u.x+l.x/16,"em ").concat(u.y+l.y/16,"em")}))}return[{tag:"svg",attributes:t,children:c}]}function C9(s){let{prefix:c,iconName:n,children:e,attributes:t,symbol:i}=s,l=i===!0?"".concat(c,"-").concat(x.cssPrefix,"-").concat(n):i;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:E(z({},t),{id:l}),children:e}]}]}function x0(s){let{icons:{main:c,mask:n},prefix:e,iconName:t,transform:i,symbol:l,title:a,maskId:o,titleId:u,extra:p,watchable:C=!1}=s,{width:v,height:P}=n.found?n:c,Q=e==="fak",V=[x.replacementClass,t?"".concat(x.cssPrefix,"-").concat(t):""].filter(c2=>p.classes.indexOf(c2)===-1).filter(c2=>c2!==""||!!c2).concat(p.classes).join(" "),p1={children:[],attributes:E(z({},p.attributes),{"data-prefix":e,"data-icon":t,class:V,role:p.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(v," ").concat(P)})},r1=Q&&!~p.classes.indexOf("fa-fw")?{width:"".concat(v/P*16*.0625,"em")}:{};C&&(p1.attributes[j2]=""),a&&(p1.children.push({tag:"title",attributes:{id:p1.attributes["aria-labelledby"]||"title-".concat(u||_3())},children:[a]}),delete p1.attributes.title);let o1=E(z({},p1),{prefix:e,iconName:t,main:c,mask:n,maskId:o,transform:i,symbol:l,styles:z(z({},r1),p.styles)}),{children:L1,attributes:q}=n.found&&c.found?y2("generateAbstractMask",o1)||{children:[],attributes:{}}:y2("generateAbstractIcon",o1)||{children:[],attributes:{}};return o1.children=L1,o1.attributes=q,l?C9(o1):z9(o1)}function p8(s){let{content:c,width:n,height:e,transform:t,title:i,extra:l,watchable:a=!1}=s,o=E(z(z({},l.attributes),i?{title:i}:{}),{class:l.classes.join(" ")});a&&(o[j2]="");let u=z({},l.styles);v0(t)&&(u.transform=Ze({transform:t,startCentered:!0,width:n,height:e}),u["-webkit-transform"]=u.transform);let p=C4(u);p.length>0&&(o.style=p);let C=[];return C.push({tag:"span",attributes:o,children:[c]}),i&&C.push({tag:"span",attributes:{class:"sr-only"},children:[i]}),C}function L9(s){let{content:c,title:n,extra:e}=s,t=E(z(z({},e.attributes),n?{title:n}:{}),{class:e.classes.join(" ")}),i=C4(e.styles);i.length>0&&(t.style=i);let l=[];return l.push({tag:"span",attributes:t,children:[c]}),n&&l.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),l}var{styles:e0}=X1;function u0(s){let c=s[0],n=s[1],[e]=s.slice(4),t=null;return Array.isArray(e)?t={tag:"g",attributes:{class:"".concat(x.cssPrefix,"-").concat(Y4.GROUP)},children:[{tag:"path",attributes:{class:"".concat(x.cssPrefix,"-").concat(Y4.SECONDARY),fill:"currentColor",d:e[0]}},{tag:"path",attributes:{class:"".concat(x.cssPrefix,"-").concat(Y4.PRIMARY),fill:"currentColor",d:e[1]}}]}:t={tag:"path",attributes:{fill:"currentColor",d:e}},{found:!0,width:c,height:n,icon:t}}var M9={found:!1,width:512,height:512};function g9(s,c){!H8&&!x.showMissingIcons&&s&&console.error('Icon with name "'.concat(s,'" and prefix "').concat(c,'" is missing.'))}function d0(s,c){let n=c;return c==="fa"&&x.styleDefault!==null&&(c=S2()),new Promise((e,t)=>{if(n==="fa"){let i=X8(s)||{};s=i.iconName||s,c=i.prefix||c}if(s&&c&&e0[c]&&e0[c][s]){let i=e0[c][s];return e(u0(i))}g9(s,c),e(E(z({},M9),{icon:x.showMissingIcons&&s?y2("missingIconAbstract")||{}:{}}))})}var h8=()=>{},p0=x.measurePerformance&&u4&&u4.mark&&u4.measure?u4:{mark:h8,measure:h8},T3='FA "6.6.0"',v9=s=>(p0.mark("".concat(T3," ").concat(s," begins")),()=>e5(s)),e5=s=>{p0.mark("".concat(T3," ").concat(s," ends")),p0.measure("".concat(T3," ").concat(s),"".concat(T3," ").concat(s," begins"),"".concat(T3," ").concat(s," ends"))},N0={begin:v9,end:e5},d4=()=>{};function z8(s){return typeof(s.getAttribute?s.getAttribute(j2):null)=="string"}function S9(s){let c=s.getAttribute?s.getAttribute(L0):null,n=s.getAttribute?s.getAttribute(M0):null;return c&&n}function y9(s){return s&&s.classList&&s.classList.contains&&s.classList.contains(x.replacementClass)}function b9(){return x.autoReplaceSvg===!0?p4.replace:p4[x.autoReplaceSvg]||p4.replace}function x9(s){return Y.createElementNS("http://www.w3.org/2000/svg",s)}function N9(s){return Y.createElement(s)}function c5(s){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{ceFn:n=s.tag==="svg"?x9:N9}=c;if(typeof s=="string")return Y.createTextNode(s);let e=n(s.tag);return Object.keys(s.attributes||[]).forEach(function(i){e.setAttribute(i,s.attributes[i])}),(s.children||[]).forEach(function(i){e.appendChild(c5(i,{ceFn:n}))}),e}function w9(s){let c=" ".concat(s.outerHTML," ");return c="".concat(c,"Font Awesome fontawesome.com "),c}var p4={replace:function(s){let c=s[0];if(c.parentNode)if(s[1].forEach(n=>{c.parentNode.insertBefore(c5(n),c)}),c.getAttribute(j2)===null&&x.keepOriginalSource){let n=Y.createComment(w9(c));c.parentNode.replaceChild(n,c)}else c.remove()},nest:function(s){let c=s[0],n=s[1];if(~g0(c).indexOf(x.replacementClass))return p4.replace(s);let e=new RegExp("".concat(x.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){let i=n[0].attributes.class.split(" ").reduce((l,a)=>(a===x.replacementClass||a.match(e)?l.toSvg.push(a):l.toNode.push(a),l),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),i.toNode.length===0?c.removeAttribute("class"):c.setAttribute("class",i.toNode.join(" "))}let t=n.map(i=>U3(i)).join(`
`);c.setAttribute(j2,""),c.innerHTML=t}};function C8(s){s()}function t5(s,c){let n=typeof c=="function"?c:d4;if(s.length===0)n();else{let e=C8;x.mutateApproach===De&&(e=v2.requestAnimationFrame||C8),e(()=>{let t=b9(),i=N0.begin("mutate");s.map(t),i(),n()})}}var w0=!1;function s5(){w0=!0}function h0(){w0=!1}var z4=null;function L8(s){if(!l8||!x.observeMutations)return;let{treeCallback:c=d4,nodeCallback:n=d4,pseudoElementsCallback:e=d4,observeMutationsRoot:t=Y}=s;z4=new l8(i=>{if(w0)return;let l=S2();u3(i).forEach(a=>{if(a.type==="childList"&&a.addedNodes.length>0&&!z8(a.addedNodes[0])&&(x.searchPseudoElements&&e(a.target),c(a.target)),a.type==="attributes"&&a.target.parentNode&&x.searchPseudoElements&&e(a.target.parentNode),a.type==="attributes"&&z8(a.target)&&~Oe.indexOf(a.attributeName))if(a.attributeName==="class"&&S9(a.target)){let{prefix:o,iconName:u}=M4(g0(a.target));a.target.setAttribute(L0,o||l),u&&a.target.setAttribute(M0,u)}else y9(a.target)&&n(a.target)})}),r2&&z4.observe(t,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function k9(){z4&&z4.disconnect()}function A9(s){let c=s.getAttribute("style"),n=[];return c&&(n=c.split(";").reduce((e,t)=>{let i=t.split(":"),l=i[0],a=i.slice(1);return l&&a.length>0&&(e[l]=a.join(":").trim()),e},{})),n}function E9(s){let c=s.getAttribute("data-prefix"),n=s.getAttribute("data-icon"),e=s.innerText!==void 0?s.innerText.trim():"",t=M4(g0(s));return t.prefix||(t.prefix=S2()),c&&n&&(t.prefix=c,t.iconName=n),t.iconName&&t.prefix||(t.prefix&&e.length>0&&(t.iconName=a9(t.prefix,s.innerText)||y0(t.prefix,a0(s.innerText))),!t.iconName&&x.autoFetchSvg&&s.firstChild&&s.firstChild.nodeType===Node.TEXT_NODE&&(t.iconName=s.firstChild.data)),t}function I9(s){let c=u3(s.attributes).reduce((t,i)=>(t.name!=="class"&&t.name!=="style"&&(t[i.name]=i.value),t),{}),n=s.getAttribute("title"),e=s.getAttribute("data-fa-title-id");return x.autoA11y&&(n?c["aria-labelledby"]="".concat(x.replacementClass,"-title-").concat(e||_3()):(c["aria-hidden"]="true",c.focusable="false")),c}function P9(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Y1,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function M8(s){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},{iconName:n,prefix:e,rest:t}=E9(s),i=I9(s),l=f0("parseNodeAttributes",{},s),a=c.styleParser?A9(s):[];return z({iconName:n,title:s.getAttribute("title"),titleId:s.getAttribute("data-fa-title-id"),prefix:e,transform:Y1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:t,styles:a,attributes:i}},l)}var{styles:V9}=X1;function n5(s){let c=x.autoReplaceSvg==="nest"?M8(s,{styleParser:!1}):M8(s);return~c.extra.classes.indexOf(O8)?y2("generateLayersText",s,c):y2("generateSvgReplacementMutation",s,c)}var J1=new Set;R8.map(s=>{J1.add("fa-".concat(s))});Object.keys(q2[J]).map(J1.add.bind(J1));Object.keys(q2[E1]).map(J1.add.bind(J1));Object.keys(q2[I1]).map(J1.add.bind(J1));J1=[...J1];function g8(s){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!r2)return Promise.resolve();let n=Y.documentElement.classList,e=p=>n.add("".concat(o8,"-").concat(p)),t=p=>n.remove("".concat(o8,"-").concat(p)),i=x.autoFetchSvg?J1:R8.map(p=>"fa-".concat(p)).concat(Object.keys(V9));i.includes("fa")||i.push("fa");let l=[".".concat(O8,":not([").concat(j2,"])")].concat(i.map(p=>".".concat(p,":not([").concat(j2,"])"))).join(", ");if(l.length===0)return Promise.resolve();let a=[];try{a=u3(s.querySelectorAll(l))}catch{}if(a.length>0)e("pending"),t("complete");else return Promise.resolve();let o=N0.begin("onTree"),u=a.reduce((p,C)=>{try{let v=n5(C);v&&p.push(v)}catch(v){H8||v.name==="MissingIcon"&&console.error(v)}return p},[]);return new Promise((p,C)=>{Promise.all(u).then(v=>{t5(v,()=>{e("active"),e("complete"),t("pending"),typeof c=="function"&&c(),o(),p()})}).catch(v=>{o(),C(v)})})}function D9(s){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;n5(s).then(n=>{n&&t5([n],c)})}function T9(s){return function(c){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=(c||{}).icon?c:m0(c||{}),{mask:t}=n;return t&&(t=(t||{}).icon?t:m0(t||{})),s(e,E(z({},n),{mask:t}))}}var F9=function(s){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:n=Y1,symbol:e=!1,mask:t=null,maskId:i=null,title:l=null,titleId:a=null,classes:o=[],attributes:u={},styles:p={}}=c;if(!s)return;let{prefix:C,iconName:v,icon:P}=s;return g4(z({type:"icon"},s),()=>(W2("beforeDOMElementCreation",{iconDefinition:s,params:c}),x.autoA11y&&(l?u["aria-labelledby"]="".concat(x.replacementClass,"-title-").concat(a||_3()):(u["aria-hidden"]="true",u.focusable="false")),x0({icons:{main:u0(P),mask:t?u0(t.icon):{found:!1,width:null,height:null,icon:{}}},prefix:C,iconName:v,transform:z(z({},Y1),n),symbol:e,title:l,maskId:i,titleId:a,extra:{attributes:u,styles:p,classes:o}})))},H9={mixout(){return{icon:T9(F9)}},hooks(){return{mutationObserverCallbacks(s){return s.treeCallback=g8,s.nodeCallback=D9,s}}},provides(s){s.i2svg=function(c){let{node:n=Y,callback:e=()=>{}}=c;return g8(n,e)},s.generateSvgReplacementMutation=function(c,n){let{iconName:e,title:t,titleId:i,prefix:l,transform:a,symbol:o,mask:u,maskId:p,extra:C}=n;return new Promise((v,P)=>{Promise.all([d0(e,l),u.iconName?d0(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(Q=>{let[V,p1]=Q;v([c,x0({icons:{main:V,mask:p1},prefix:l,iconName:e,transform:a,symbol:o,maskId:p,title:t,titleId:i,extra:C,watchable:!0})])}).catch(P)})},s.generateAbstractIcon=function(c){let{children:n,attributes:e,main:t,transform:i,styles:l}=c,a=C4(l);a.length>0&&(e.style=a);let o;return v0(i)&&(o=y2("generateAbstractTransformGrouping",{main:t,transform:i,containerWidth:t.width,iconWidth:t.width})),n.push(o||t.icon),{children:n,attributes:e}}}},R9={mixout(){return{layer(s){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{classes:n=[]}=c;return g4({type:"layer"},()=>{W2("beforeDOMElementCreation",{assembler:s,params:c});let e=[];return s(t=>{Array.isArray(t)?t.map(i=>{e=e.concat(i.abstract)}):e=e.concat(t.abstract)}),[{tag:"span",attributes:{class:["".concat(x.cssPrefix,"-layers"),...n].join(" ")},children:e}]})}}}},_9={mixout(){return{counter(s){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{title:n=null,classes:e=[],attributes:t={},styles:i={}}=c;return g4({type:"counter",content:s},()=>(W2("beforeDOMElementCreation",{content:s,params:c}),L9({content:s.toString(),title:n,extra:{attributes:t,styles:i,classes:["".concat(x.cssPrefix,"-layers-counter"),...e]}})))}}}},O9={mixout(){return{text(s){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:n=Y1,title:e=null,classes:t=[],attributes:i={},styles:l={}}=c;return g4({type:"text",content:s},()=>(W2("beforeDOMElementCreation",{content:s,params:c}),p8({content:s,transform:z(z({},Y1),n),title:e,extra:{attributes:i,styles:l,classes:["".concat(x.cssPrefix,"-layers-text"),...t]}})))}}},provides(s){s.generateLayersText=function(c,n){let{title:e,transform:t,extra:i}=n,l=null,a=null;if(I8){let o=parseInt(getComputedStyle(c).fontSize,10),u=c.getBoundingClientRect();l=u.width/o,a=u.height/o}return x.autoA11y&&!e&&(i.attributes["aria-hidden"]="true"),Promise.resolve([c,p8({content:c.innerHTML,width:l,height:a,transform:t,title:e,extra:i,watchable:!0})])}}},U9=new RegExp('"',"ug"),v8=[1105920,1112319],S8=z(z(z({FontAwesome:{normal:"fas",400:"fas"}},Se),ve),Ee),z0=Object.keys(S8).reduce((s,c)=>(s[c.toLowerCase()]=S8[c],s),{}),q9=Object.keys(z0).reduce((s,c)=>{let n=z0[c];return s[c]=n[900]||[...Object.entries(n)][0][1],s},{});function B9(s){let c=s.replace(U9,""),n=c9(c,0),e=n>=v8[0]&&n<=v8[1],t=c.length===2?c[0]===c[1]:!1;return{value:a0(t?c[0]:c),isSecondary:e||t}}function j9(s,c){let n=s.replace(/^['"]|['"]$/g,"").toLowerCase(),e=parseInt(c),t=isNaN(e)?"normal":e;return(z0[n]||{})[t]||q9[n]}function y8(s,c){let n="".concat(Ve).concat(c.replace(":","-"));return new Promise((e,t)=>{if(s.getAttribute(n)!==null)return e();let l=u3(s.children).filter(v=>v.getAttribute(s0)===c)[0],a=v2.getComputedStyle(s,c),o=a.getPropertyValue("font-family"),u=o.match(Re),p=a.getPropertyValue("font-weight"),C=a.getPropertyValue("content");if(l&&!u)return s.removeChild(l),e();if(u&&C!=="none"&&C!==""){let v=a.getPropertyValue("content"),P=j9(o,p),{value:Q,isSecondary:V}=B9(v),p1=u[0].startsWith("FontAwesome"),r1=y0(P,Q),o1=r1;if(p1){let L1=r9(Q);L1.iconName&&L1.prefix&&(r1=L1.iconName,P=L1.prefix)}if(r1&&!V&&(!l||l.getAttribute(L0)!==P||l.getAttribute(M0)!==o1)){s.setAttribute(n,o1),l&&s.removeChild(l);let L1=P9(),{extra:q}=L1;q.attributes[s0]=c,d0(r1,P).then(c2=>{let de=x0(E(z({},L1),{icons:{main:c2,mask:b0()},prefix:P,iconName:o1,extra:q,watchable:!0})),G4=Y.createElementNS("http://www.w3.org/2000/svg","svg");c==="::before"?s.insertBefore(G4,s.firstChild):s.appendChild(G4),G4.outerHTML=de.map(pe=>U3(pe)).join(`
`),s.removeAttribute(n),e()}).catch(t)}else e()}else e()})}function W9(s){return Promise.all([y8(s,"::before"),y8(s,"::after")])}function G9(s){return s.parentNode!==document.head&&!~Te.indexOf(s.tagName.toUpperCase())&&!s.getAttribute(s0)&&(!s.parentNode||s.parentNode.tagName!=="svg")}function b8(s){if(r2)return new Promise((c,n)=>{let e=u3(s.querySelectorAll("*")).filter(G9).map(W9),t=N0.begin("searchPseudoElements");s5(),Promise.all(e).then(()=>{t(),h0(),c()}).catch(()=>{t(),h0(),n()})})}var $9={hooks(){return{mutationObserverCallbacks(s){return s.pseudoElementsCallback=b8,s}}},provides(s){s.pseudoElements2svg=function(c){let{node:n=Y}=c;x.searchPseudoElements&&b8(n)}}},x8=!1,Q9={mixout(){return{dom:{unwatch(){s5(),x8=!0}}}},hooks(){return{bootstrap(){L8(f0("mutationObserverCallbacks",{}))},noAuto(){k9()},watch(s){let{observeMutationsRoot:c}=s;x8?h0():L8(f0("mutationObserverCallbacks",{observeMutationsRoot:c}))}}}},N8=s=>{let c={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return s.toLowerCase().split(" ").reduce((n,e)=>{let t=e.toLowerCase().split("-"),i=t[0],l=t.slice(1).join("-");if(i&&l==="h")return n.flipX=!0,n;if(i&&l==="v")return n.flipY=!0,n;if(l=parseFloat(l),isNaN(l))return n;switch(i){case"grow":n.size=n.size+l;break;case"shrink":n.size=n.size-l;break;case"left":n.x=n.x-l;break;case"right":n.x=n.x+l;break;case"up":n.y=n.y-l;break;case"down":n.y=n.y+l;break;case"rotate":n.rotate=n.rotate+l;break}return n},c)},Z9={mixout(){return{parse:{transform:s=>N8(s)}}},hooks(){return{parseNodeAttributes(s,c){let n=c.getAttribute("data-fa-transform");return n&&(s.transform=N8(n)),s}}},provides(s){s.generateAbstractTransformGrouping=function(c){let{main:n,transform:e,containerWidth:t,iconWidth:i}=c,l={transform:"translate(".concat(t/2," 256)")},a="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),u="rotate(".concat(e.rotate," 0 0)"),p={transform:"".concat(a," ").concat(o," ").concat(u)},C={transform:"translate(".concat(i/2*-1," -256)")},v={outer:l,inner:p,path:C};return{tag:"g",attributes:z({},v.outer),children:[{tag:"g",attributes:z({},v.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:z(z({},n.icon.attributes),v.path)}]}]}}}},c0={x:0,y:0,width:"100%",height:"100%"};function w8(s){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return s.attributes&&(s.attributes.fill||c)&&(s.attributes.fill="black"),s}function K9(s){return s.tag==="g"?s.children:[s]}var Y9={hooks(){return{parseNodeAttributes(s,c){let n=c.getAttribute("data-fa-mask"),e=n?M4(n.split(" ").map(t=>t.trim())):b0();return e.prefix||(e.prefix=S2()),s.mask=e,s.maskId=c.getAttribute("data-fa-mask-id"),s}}},provides(s){s.generateAbstractMask=function(c){let{children:n,attributes:e,main:t,mask:i,maskId:l,transform:a}=c,{width:o,icon:u}=t,{width:p,icon:C}=i,v=Qe({transform:a,containerWidth:p,iconWidth:o}),P={tag:"rect",attributes:E(z({},c0),{fill:"white"})},Q=u.children?{children:u.children.map(w8)}:{},V={tag:"g",attributes:z({},v.inner),children:[w8(z({tag:u.tag,attributes:z(z({},u.attributes),v.path)},Q))]},p1={tag:"g",attributes:z({},v.outer),children:[V]},r1="mask-".concat(l||_3()),o1="clip-".concat(l||_3()),L1={tag:"mask",attributes:E(z({},c0),{id:r1,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[P,p1]},q={tag:"defs",children:[{tag:"clipPath",attributes:{id:o1},children:K9(C)},L1]};return n.push(q,{tag:"rect",attributes:z({fill:"currentColor","clip-path":"url(#".concat(o1,")"),mask:"url(#".concat(r1,")")},c0)}),{children:n,attributes:e}}}},X9={provides(s){let c=!1;v2.matchMedia&&(c=v2.matchMedia("(prefers-reduced-motion: reduce)").matches),s.missingIconAbstract=function(){let n=[],e={fill:"currentColor"},t={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:E(z({},e),{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});let i=E(z({},t),{attributeName:"opacity"}),l={tag:"circle",attributes:E(z({},e),{cx:"256",cy:"364",r:"28"}),children:[]};return c||l.children.push({tag:"animate",attributes:E(z({},t),{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:E(z({},i),{values:"1;0;1;1;0;1;"})}),n.push(l),n.push({tag:"path",attributes:E(z({},e),{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:c?[]:[{tag:"animate",attributes:E(z({},i),{values:"1;0;0;0;0;1;"})}]}),c||n.push({tag:"path",attributes:E(z({},e),{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:E(z({},i),{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},J9={hooks(){return{parseNodeAttributes(s,c){let n=c.getAttribute("data-fa-symbol"),e=n===null?!1:n===""?!0:n;return s.symbol=e,s}}}},ec=[Ye,H9,R9,_9,O9,$9,Q9,Z9,Y9,X9,J9];m9(ec,{mixoutsTo:P1});var Ri=P1.noAuto,i5=P1.config,_i=P1.library,l5=P1.dom,a5=P1.parse,Oi=P1.findIconDefinition,Ui=P1.toHtml,r5=P1.icon,qi=P1.layer,cc=P1.text,tc=P1.counter;var sc=["*"],nc=s=>{throw new Error(`Could not find icon with iconName=${s.iconName} and prefix=${s.prefix} in the icon library.`)},ic=()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")},lc=s=>{let c={[`fa-${s.animation}`]:s.animation!=null&&!s.animation.startsWith("spin"),"fa-spin":s.animation==="spin"||s.animation==="spin-reverse","fa-spin-pulse":s.animation==="spin-pulse"||s.animation==="spin-pulse-reverse","fa-spin-reverse":s.animation==="spin-reverse"||s.animation==="spin-pulse-reverse","fa-pulse":s.animation==="spin-pulse"||s.animation==="spin-pulse-reverse","fa-fw":s.fixedWidth,"fa-border":s.border,"fa-inverse":s.inverse,"fa-layers-counter":s.counter,"fa-flip-horizontal":s.flip==="horizontal"||s.flip==="both","fa-flip-vertical":s.flip==="vertical"||s.flip==="both",[`fa-${s.size}`]:s.size!==null,[`fa-rotate-${s.rotate}`]:s.rotate!==null,[`fa-pull-${s.pull}`]:s.pull!==null,[`fa-stack-${s.stackItemSize}`]:s.stackItemSize!=null};return Object.keys(c).map(n=>c[n]?n:null).filter(n=>n)},k0=new WeakSet,o5="fa-auto-css";function ac(s,c){if(!c.autoAddCss||k0.has(s))return;if(s.getElementById(o5)!=null){c.autoAddCss=!1,k0.add(s);return}let n=s.createElement("style");n.setAttribute("type","text/css"),n.setAttribute("id",o5),n.innerHTML=l5.css();let e=s.head.childNodes,t=null;for(let i=e.length-1;i>-1;i--){let l=e[i],a=l.nodeName.toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(t=l)}s.head.insertBefore(n,t),c.autoAddCss=!1,k0.add(s)}var rc=s=>s.prefix!==void 0&&s.iconName!==void 0,oc=(s,c)=>rc(s)?s:Array.isArray(s)&&s.length===2?{prefix:s[0],iconName:s[1]}:{prefix:c,iconName:s},A0=(()=>{let c=class c{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null,this._autoAddCss=!0}set autoAddCss(e){i5.autoAddCss=e,this._autoAddCss=e}get autoAddCss(){return this._autoAddCss}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),E0=(()=>{let c=class c{constructor(){this.definitions={}}addIcons(...e){for(let t of e){t.prefix in this.definitions||(this.definitions[t.prefix]={}),this.definitions[t.prefix][t.iconName]=t;for(let i of t.icon[2])typeof i=="string"&&(this.definitions[t.prefix][i]=t)}}addIconPacks(...e){for(let t of e){let i=Object.keys(t).map(l=>t[l]);this.addIcons(...i)}}getIconDefinition(e,t){return e in this.definitions&&t in this.definitions[e]?this.definitions[e][t]:null}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),fc=(()=>{let c=class c{constructor(){this.stackItemSize="1x"}ngOnChanges(e){if("size"in e)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}};c.\u0275fac=function(t){return new(t||c)},c.\u0275dir=X({type:c,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},standalone:!0,features:[h2]});let s=c;return s})(),mc=(()=>{let c=class c{constructor(e,t){this.renderer=e,this.elementRef=t}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(e){"size"in e&&(e.size.currentValue!=null&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${e.size.currentValue}`),e.size.previousValue!=null&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${e.size.previousValue}`))}};c.\u0275fac=function(t){return new(t||c)(H(z2),H(j1))},c.\u0275cmp=O({type:c,selectors:[["fa-stack"]],inputs:{size:"size"},standalone:!0,features:[h2,U],ngContentSelectors:sc,decls:1,vars:0,template:function(t,i){t&1&&(D6(),T6(0))},encapsulation:2});let s=c;return s})(),C1=(()=>{let c=class c{constructor(e,t,i,l,a){this.sanitizer=e,this.config=t,this.iconLibrary=i,this.stackItem=l,this.document=r(a1),a!=null&&l==null&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(e){if(this.icon==null&&this.config.fallbackIcon==null){ic();return}if(e){let t=this.findIconDefinition(this.icon??this.config.fallbackIcon);if(t!=null){let i=this.buildParams();ac(this.document,this.config);let l=r5(t,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(l.html.join(`
`))}}}render(){this.ngOnChanges({})}findIconDefinition(e){let t=oc(e,this.config.defaultPrefix);if("icon"in t)return t;let i=this.iconLibrary.getIconDefinition(t.prefix,t.iconName);return i??(nc(t),null)}buildParams(){let e={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:typeof this.fixedWidth=="boolean"?this.fixedWidth:this.config.fixedWidth,stackItemSize:this.stackItem!=null?this.stackItem.stackItemSize:null},t=typeof this.transform=="string"?a5.transform(this.transform):this.transform;return{title:this.title,transform:t,classes:lc(e),mask:this.mask!=null?this.findIconDefinition(this.mask):null,symbol:this.symbol,attributes:{role:this.a11yRole}}}};c.\u0275fac=function(t){return new(t||c)(H(Z6),H(A0),H(E0),H(fc,8),H(mc,8))},c.\u0275cmp=O({type:c,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(t,i){t&2&&(V6("innerHTML",i.renderedIconHTML,w6),Q4("title",i.title))},inputs:{icon:"icon",title:"title",animation:"animation",mask:"mask",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",transform:"transform",a11yRole:"a11yRole"},standalone:!0,features:[h2,U],decls:0,vars:0,template:function(t,i){},encapsulation:2});let s=c;return s})();var f5={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z"]};var I0={prefix:"fas",iconName:"cart-shopping",icon:[576,512,[128722,"shopping-cart"],"f07a","M0 24C0 10.7 10.7 0 24 0L69.5 0c22 0 41.5 12.8 50.6 32l411 0c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3l-288.5 0 5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5L488 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-288.3 0c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5L24 48C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"]},m5=I0;var u5={prefix:"fas",iconName:"truck-fast",icon:[640,512,["shipping-fast"],"f48b","M112 0C85.5 0 64 21.5 64 48l0 48L16 96c-8.8 0-16 7.2-16 16s7.2 16 16 16l48 0 208 0c8.8 0 16 7.2 16 16s-7.2 16-16 16L64 160l-16 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l16 0 176 0c8.8 0 16 7.2 16 16s-7.2 16-16 16L64 224l-48 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l48 0 144 0c8.8 0 16 7.2 16 16s-7.2 16-16 16L64 288l0 128c0 53 43 96 96 96s96-43 96-96l128 0c0 53 43 96 96 96s96-43 96-96l32 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l0-64 0-32 0-18.7c0-17-6.7-33.3-18.7-45.3L512 114.7c-12-12-28.3-18.7-45.3-18.7L416 96l0-48c0-26.5-21.5-48-48-48L112 0zM544 237.3l0 18.7-128 0 0-96 50.7 0L544 237.3zM160 368a48 48 0 1 1 0 96 48 48 0 1 1 0-96zm272 48a48 48 0 1 1 96 0 48 48 0 1 1 -96 0z"]};var d5={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]};var p5={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]};var h5={prefix:"fab",iconName:"facebook",icon:[512,512,[62e3],"f09a","M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256C0 376 82.7 476.8 194.2 504.5V334.2H141.4V256h52.8V222.3c0-87.1 39.4-127.5 125-127.5c16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1c-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287V510.1C413.8 494.8 512 386.9 512 256h0z"]};var z5={prefix:"fab",iconName:"youtube",icon:[576,512,[61802],"f167","M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"]};var C5={prefix:"fab",iconName:"twitter",icon:[512,512,[],"f099","M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"]};var L5={prefix:"far",iconName:"circle-check",icon:[512,512,[61533,"check-circle"],"f058","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-111 111-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64c9.4 9.4 24.6 9.4 33.9 0L369 209z"]};var M5=[f5,I0,u5,z5,h5,C5,d5,p5,m5,L5];function uc(s,c,n){var e;if(n===void 0&&(n={}),!c.codes){c.codes={};for(var t=0;t<c.chars.length;++t)c.codes[c.chars[t]]=t}if(!n.loose&&s.length*c.bits&7)throw new SyntaxError("Invalid padding");for(var i=s.length;s[i-1]==="=";)if(--i,!n.loose&&!((s.length-i)*c.bits&7))throw new SyntaxError("Invalid padding");for(var l=new((e=n.out)!=null?e:Uint8Array)(i*c.bits/8|0),a=0,o=0,u=0,p=0;p<i;++p){var C=c.codes[s[p]];if(C===void 0)throw new SyntaxError("Invalid character "+s[p]);o=o<<c.bits|C,a+=c.bits,a>=8&&(a-=8,l[u++]=255&o>>a)}if(a>=c.bits||255&o<<8-a)throw new SyntaxError("Unexpected end of data");return l}function dc(s,c,n){n===void 0&&(n={});for(var e=n,t=e.pad,i=t===void 0?!0:t,l=(1<<c.bits)-1,a="",o=0,u=0,p=0;p<s.length;++p)for(u=u<<8|255&s[p],o+=8;o>c.bits;)o-=c.bits,a+=c.chars[l&u>>o];if(o&&(a+=c.chars[l&u<<c.bits-o]),i)for(;a.length*c.bits&7;)a+="=";return a}var g5={chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bits:6};var v5={parse:function(c,n){return uc(c,g5,n)},stringify:function(c,n){return dc(c,g5,n)}};function P0(s){s||(R1(P0),s=r(O2));let c=new t2(n=>s.onDestroy(n.next.bind(n)));return n=>n.pipe(l4(c))}function b2(s,c){!c?.injector&&R1(b2);let n=c?.injector??r(t3),e=new Y2(1),t=z1(()=>{let i;try{i=s()}catch(l){D1(()=>e.error(l));return}D1(()=>e.next(i))},{injector:n,manualCleanup:!0});return n.get(O2).onDestroy(()=>{t.destroy(),e.complete()}),e.asObservable()}function N1(s,c){let n=!c?.manualCleanup;n&&!c?.injector&&R1(N1);let e=n?c?.injector?.get(O2)??r(O2):null,t=pc(c?.equal),i;c?.requireSync?i=y1({kind:0},{equal:t}):i=y1({kind:1,value:c?.initialValue},{equal:t});let l=s.subscribe({next:a=>i.set({kind:1,value:a}),error:a=>{if(c?.rejectErrors)throw a;i.set({kind:2,error:a})}});if(c?.requireSync&&i().kind===0)throw new F2(601,!1);return e?.onDestroy(l.unsubscribe.bind(l)),C2(()=>{let a=i();switch(a.kind){case 1:return a.value;case 2:throw a.error;case 0:throw new F2(601,!1)}},{equal:c?.equal})}function pc(s=Object.is){return(c,n)=>c.kind===1&&n.kind===1&&s(c.value,n.value)}var v4=class{},D0=class{constructor(c){this.passedConfigs=c}loadConfigs(){return Array.isArray(this.passedConfigs)?b(this.passedConfigs):b([this.passedConfigs])}};function hc(s){if(!s?.config)throw new Error("No config provided!");return new D0(s.config)}var S5=new D("PASSED_CONFIG"),w5=(()=>{let c=class c{};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),zc=(()=>{let c=class c{logError(e,...t){console.error(e,...t)}logWarning(e,...t){console.warn(e,...t)}logDebug(e,...t){console.debug(e,...t)}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),y4=(()=>{let c=class c{};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),Cc=(()=>{let c=class c{read(e){return sessionStorage.getItem(e)}write(e,t){sessionStorage.setItem(e,t)}remove(e){sessionStorage.removeItem(e)}clear(){sessionStorage.clear()}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})();function k5(s){return a4([...Lc(s)])}function Lc(s){return[{provide:S5,useValue:s},s?.loader||{provide:v4,useFactory:hc,deps:[S5]},{provide:y4,useClass:Cc},{provide:w5,useClass:zc}]}var G2=function(s){return s[s.None=0]="None",s[s.Debug=1]="Debug",s[s.Warn=2]="Warn",s[s.Error=3]="Error",s}(G2||{}),R=(()=>{let c=class c{constructor(){this.abstractLoggerService=r(w5)}logError(e,t,...i){if(this.loggingIsTurnedOff(e))return;let{configId:l}=e,a=this.isObject(t)?JSON.stringify(t):t;i&&i.length?this.abstractLoggerService.logError(`[ERROR] ${l} - ${a}`,...i):this.abstractLoggerService.logError(`[ERROR] ${l} - ${a}`)}logWarning(e,t,...i){if(!this.logLevelIsSet(e)||this.loggingIsTurnedOff(e)||!this.currentLogLevelIsEqualOrSmallerThan(e,G2.Warn))return;let{configId:l}=e,a=this.isObject(t)?JSON.stringify(t):t;i&&i.length?this.abstractLoggerService.logWarning(`[WARN] ${l} - ${a}`,...i):this.abstractLoggerService.logWarning(`[WARN] ${l} - ${a}`)}logDebug(e,t,...i){if(!e||!this.logLevelIsSet(e)||this.loggingIsTurnedOff(e)||!this.currentLogLevelIsEqualOrSmallerThan(e,G2.Debug))return;let{configId:l}=e,a=this.isObject(t)?JSON.stringify(t):t;i&&i.length?this.abstractLoggerService.logDebug(`[DEBUG] ${l} - ${a}`,...i):this.abstractLoggerService.logDebug(`[DEBUG] ${l} - ${a}`)}currentLogLevelIsEqualOrSmallerThan(e,t){let{logLevel:i}=e||{};return i?i<=t:!1}logLevelIsSet(e){let{logLevel:t}=e||{};return t===null?!1:t!==void 0}loggingIsTurnedOff(e){let{logLevel:t}=e||{};return t===G2.None}isObject(e){return Object.prototype.toString.call(e)==="[object Object]"}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),Mc=(()=>{let c=class c{constructor(){this.loggerService=r(R),this.abstractSecurityStorage=r(y4)}read(e,t){let{configId:i}=t;if(!i)return this.loggerService.logDebug(t,`Wanted to read '${e}' but configId was '${i}'`),null;if(!this.hasStorage())return this.loggerService.logDebug(t,`Wanted to read '${e}' but Storage was undefined`),null;let l=this.abstractSecurityStorage.read(i);return l?JSON.parse(l):null}write(e,t){let{configId:i}=t;return i?this.hasStorage()?(e=e||null,this.abstractSecurityStorage.write(i,JSON.stringify(e)),!0):(this.loggerService.logDebug(t,"Wanted to write but Storage was falsy"),!1):(this.loggerService.logDebug(t,`Wanted to write but configId was '${i}'`),!1)}remove(e,t){return this.hasStorage()?(this.abstractSecurityStorage.remove(e),!0):(this.loggerService.logDebug(t,`Wanted to remove '${e}' but Storage was falsy`),!1)}clear(e){return this.hasStorage()?(this.abstractSecurityStorage.clear(),!0):(this.loggerService.logDebug(e,"Wanted to clear storage but Storage was falsy"),!1)}hasStorage(){return typeof Storage<"u"}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),u1=(()=>{let c=class c{constructor(){this.browserStorageService=r(Mc)}read(e,t){return(this.browserStorageService.read(e,t)||{})[e]}write(e,t,i){let l=this.browserStorageService.read(e,i)||{};return l[e]=t,this.browserStorageService.write(l,i)}remove(e,t){let i=this.browserStorageService.read(e,t)||{};delete i[e],this.browserStorageService.write(i,t)}clear(e){this.browserStorageService.clear(e)}resetStorageFlowData(e){this.remove("session_state",e),this.remove("storageSilentRenewRunning",e),this.remove("storageCodeFlowInProgress",e),this.remove("codeVerifier",e),this.remove("userData",e),this.remove("storageCustomParamsAuthRequest",e),this.remove("access_token_expires_at",e),this.remove("storageCustomParamsRefresh",e),this.remove("storageCustomParamsEndSession",e),this.remove("reusable_refresh_token",e)}resetAuthStateInStorage(e){this.remove("authzData",e),this.remove("reusable_refresh_token",e),this.remove("authnResult",e)}getAccessToken(e){return this.read("authzData",e)}getIdToken(e){return this.read("authnResult",e)?.id_token}getRefreshToken(e){let t=this.read("authnResult",e)?.refresh_token;return!t&&e.allowUnsafeReuseRefreshToken?this.read("reusable_refresh_token",e):t}getAuthenticationResult(e){return this.read("authnResult",e)}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),V0="redirect",gc=(()=>{let c=class c{constructor(){this.storageService=r(u1),this.router=r(T1)}checkSavedRedirectRouteAndNavigate(e){if(!e)return;let t=this.getStoredRedirectRoute(e);t!=null&&(this.deleteStoredRedirectRoute(e),this.router.navigateByUrl(t))}saveRedirectRoute(e,t){e&&this.storageService.write(V0,t,e)}getStoredRedirectRoute(e){return this.storageService.read(V0,e)}deleteStoredRedirectRoute(e){this.storageService.remove(V0,e)}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),x2=(()=>{let c=class c{isCurrentFlowCodeFlow(e){return this.currentFlowIs("code",e)}isCurrentFlowAnyImplicitFlow(e){return this.isCurrentFlowImplicitFlowWithAccessToken(e)||this.isCurrentFlowImplicitFlowWithoutAccessToken(e)}isCurrentFlowCodeFlowWithRefreshTokens(e){if(!e)return!1;let{useRefreshToken:t}=e;return this.isCurrentFlowCodeFlow(e)&&!!t}isCurrentFlowImplicitFlowWithAccessToken(e){return this.currentFlowIs("id_token token",e)}currentFlowIs(e,t){let{responseType:i}=t;return Array.isArray(e)?e.some(l=>i===l):i===e}isCurrentFlowImplicitFlowWithoutAccessToken(e){return this.currentFlowIs("id_token",e)}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),F0=(()=>{let c=class c{constructor(){this.document=r(a1)}getCrypto(){return this.document.defaultView?.crypto||this.document.defaultView?.msCrypto}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),vc=(()=>{let c=class c{constructor(){this.loggerService=r(R),this.cryptoService=r(F0)}createRandom(e,t){if(e<=0)return"";e>0&&e<7&&(this.loggerService.logWarning(t,`RandomService called with ${e} but 7 chars is the minimum, returning 10 chars`),e=10);let i=e-6,l=new Uint8Array(Math.floor(i/2)),a=this.cryptoService.getCrypto();return a&&a.getRandomValues(l),Array.from(l,this.toHex).join("")+this.randomString(7)}toHex(e){return("0"+e.toString(16)).substr(-2)}randomString(e){let t="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",l=new Uint32Array(e),a=this.cryptoService.getCrypto();if(a){a.getRandomValues(l);for(let o=0;o<e;o++)t+=i[l[o]%i.length]}return t}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),k1=(()=>{let c=class c{constructor(){this.loggerService=r(R),this.storagePersistenceService=r(u1),this.randomService=r(vc)}createNonce(e){let t=this.randomService.createRandom(40,e);return this.loggerService.logDebug(e,"Nonce created. nonce:"+t),this.setNonce(t,e),t}setNonce(e,t){this.storagePersistenceService.write("authNonce",e,t)}getAuthStateControl(e){return e?this.storagePersistenceService.read("authStateControl",e):""}setAuthStateControl(e,t){return t?this.storagePersistenceService.write("authStateControl",e,t):!1}getExistingOrCreateAuthStateControl(e){let t=this.storagePersistenceService.read("authStateControl",e);return t||(t=this.randomService.createRandom(40,e),this.storagePersistenceService.write("authStateControl",t,e)),t}setSessionState(e,t){this.storagePersistenceService.write("session_state",e,t)}resetStorageFlowData(e){this.storagePersistenceService.resetStorageFlowData(e)}getCodeVerifier(e){return this.storagePersistenceService.read("codeVerifier",e)}createCodeVerifier(e){let t=this.randomService.createRandom(67,e);return this.storagePersistenceService.write("codeVerifier",t,e),t}isCodeFlowInProgress(e){return!!this.storagePersistenceService.read("storageCodeFlowInProgress",e)}setCodeFlowInProgress(e){this.storagePersistenceService.write("storageCodeFlowInProgress",!0,e)}resetCodeFlowInProgress(e){this.storagePersistenceService.write("storageCodeFlowInProgress",!1,e)}isSilentRenewRunning(e){let{configId:t,silentRenewTimeoutInSeconds:i}=e,l=this.getSilentRenewRunningStorageEntry(e);if(!l||l.state==="not-running")return!1;let a=(i??0)*1e3,o=Date.parse(l.dateOfLaunchedProcessUtc),u=Date.parse(new Date().toISOString());return Math.abs(u-o)>a?(this.loggerService.logDebug(e,"silent renew process is probably stuck, state will be reset.",t),this.resetSilentRenewRunning(e),!1):l.state==="running"}setSilentRenewRunning(e){let t={state:"running",dateOfLaunchedProcessUtc:new Date().toISOString()};this.storagePersistenceService.write("storageSilentRenewRunning",JSON.stringify(t),e)}resetSilentRenewRunning(e){e&&this.storagePersistenceService.write("storageSilentRenewRunning","",e)}getSilentRenewRunningStorageEntry(e){let t=this.storagePersistenceService.read("storageSilentRenewRunning",e);return t?JSON.parse(t):{dateOfLaunchedProcessUtc:"",state:"not-running"}}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),A5=(()=>{let c=class c{constructor(){this.cryptoService=r(F0)}generateCodeChallenge(e){return this.calcHash(e).pipe(k(t=>this.base64UrlEncode(t)))}generateAtHash(e,t){return this.calcHash(e,t).pipe(k(i=>{let l=i.substr(0,i.length/2);return btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}))}calcHash(e,t="SHA-256"){let i=new TextEncoder().encode(e);return S(this.cryptoService.getCrypto().subtle.digest(t,i)).pipe(k(l=>{let a=l,o=Array.from(new Uint8Array(a));return this.toHashString(o)}))}toHashString(e){let t="";for(let i of e)t+=String.fromCharCode(i);return t}base64UrlEncode(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),T0=class{encodeKey(c){return encodeURIComponent(c)}encodeValue(c){return encodeURIComponent(c)}decodeKey(c){return decodeURIComponent(c)}decodeValue(c){return decodeURIComponent(c)}},Sc=["code","state","token","id_token"],yc="auth0.com",e2=(()=>{let c=class c{constructor(){this.loggerService=r(R),this.flowsDataService=r(k1),this.flowHelper=r(x2),this.storagePersistenceService=r(u1),this.jwtWindowCryptoService=r(A5)}getUrlParameter(e,t){if(!e||!t)return"";t=t.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");let l=new RegExp("[\\?&#]"+t+"=([^&#]*)").exec(e);return l===null?"":decodeURIComponent(l[1])}isCallbackFromSts(e){return Sc.some(t=>!!this.getUrlParameter(e,t))}getRefreshSessionSilentRenewUrl(e,t){return this.flowHelper.isCurrentFlowCodeFlow(e)?this.createUrlCodeFlowWithSilentRenew(e,t):b(this.createUrlImplicitFlowWithSilentRenew(e,t))}getAuthorizeParUrl(e,t){let i=this.storagePersistenceService.read("authWellKnownEndPoints",t);if(!i)return this.loggerService.logError(t,"authWellKnownEndpoints is undefined"),null;let l=i.authorizationEndpoint;if(!l)return this.loggerService.logError(t,`Can not create an authorize URL when authorizationEndpoint is '${l}'`),null;let{clientId:a}=t;if(!a)return this.loggerService.logError(t,"getAuthorizeParUrl could not add clientId because it was: ",a),null;let o=l.split("?"),u=o[0],p=o[1],C=this.createHttpParams(p);return C=C.set("request_uri",e),C=C.append("client_id",a),`${u}?${C}`}getAuthorizeUrl(e,t){return e?this.flowHelper.isCurrentFlowCodeFlow(e)?this.createUrlCodeFlowAuthorize(e,t):b(this.createUrlImplicitFlowAuthorize(e,t)||""):b(null)}getEndSessionEndpoint(e){let i=this.storagePersistenceService.read("authWellKnownEndPoints",e)?.endSessionEndpoint;if(!i)return{url:"",existingParams:""};let l=i.split("?"),a=l[0],o=l[1]??"";return{url:a,existingParams:o}}getEndSessionUrl(e,t){if(!e)return null;let i=this.storagePersistenceService.getIdToken(e),{customParamsEndSessionRequest:l}=e,a=z(z({},l),t);return this.createEndSessionUrl(i,e,a)}createRevocationEndpointBodyAccessToken(e,t){let i=this.getClientId(t);if(!i)return null;let l=this.createHttpParams();return l=l.set("client_id",i),l=l.set("token",e),l=l.set("token_type_hint","access_token"),l.toString()}createRevocationEndpointBodyRefreshToken(e,t){let i=this.getClientId(t);if(!i)return null;let l=this.createHttpParams();return l=l.set("client_id",i),l=l.set("token",e),l=l.set("token_type_hint","refresh_token"),l.toString()}getRevocationEndpointUrl(e){let i=this.storagePersistenceService.read("authWellKnownEndPoints",e)?.revocationEndpoint;return i?i.split("?")[0]:null}createBodyForCodeFlowCodeRequest(e,t,i){let l=this.getClientId(t);if(!l)return null;let a=this.createHttpParams();if(a=a.set("grant_type","authorization_code"),a=a.set("client_id",l),!t.disablePkce){let p=this.flowsDataService.getCodeVerifier(t);if(!p)return this.loggerService.logError(t,"CodeVerifier is not set ",p),null;a=a.set("code_verifier",p)}a=a.set("code",e),i&&(a=this.appendCustomParams(z({},i),a));let o=this.getSilentRenewUrl(t);if(this.flowsDataService.isSilentRenewRunning(t)&&o)return a=a.set("redirect_uri",o),a.toString();let u=this.getRedirectUrl(t);return u?(a=a.set("redirect_uri",u),a.toString()):null}createBodyForCodeFlowRefreshTokensRequest(e,t,i){let l=this.getClientId(t);if(!l)return null;let a=this.createHttpParams();return a=a.set("grant_type","refresh_token"),a=a.set("client_id",l),a=a.set("refresh_token",e),i&&(a=this.appendCustomParams(z({},i),a)),a.toString()}createBodyForParCodeFlowRequest(e,t){let i=this.getRedirectUrl(e,t);if(!i)return b(null);let l=this.flowsDataService.getExistingOrCreateAuthStateControl(e),a=this.flowsDataService.createNonce(e);this.loggerService.logDebug(e,"Authorize created. adding myautostate: "+l);let o=this.flowsDataService.createCodeVerifier(e);return this.jwtWindowCryptoService.generateCodeChallenge(o).pipe(k(u=>{let{clientId:p,responseType:C,scope:v,hdParam:P,customParamsAuthRequest:Q}=e,V=this.createHttpParams("");return V=V.set("client_id",p??""),V=V.append("redirect_uri",i),V=V.append("response_type",C??""),V=V.append("scope",v??""),V=V.append("nonce",a),V=V.append("state",l),V=V.append("code_challenge",u),V=V.append("code_challenge_method","S256"),P&&(V=V.append("hd",P)),Q&&(V=this.appendCustomParams(z({},Q),V)),t?.customParams&&(V=this.appendCustomParams(z({},t.customParams),V)),V.toString()}))}getPostLogoutRedirectUrl(e){let{postLogoutRedirectUri:t}=e;return t||(this.loggerService.logError(e,"could not get postLogoutRedirectUri, was: ",t),null)}createEndSessionUrl(e,t,i){if(this.isAuth0Endpoint(t))return this.composeAuth0Endpoint(t);let{url:l,existingParams:a}=this.getEndSessionEndpoint(t);if(!l)return null;let o=this.createHttpParams(a);e&&(o=o.set("id_token_hint",e));let u=this.getPostLogoutRedirectUrl(t);return u&&(o=o.append("post_logout_redirect_uri",u)),i&&(o=this.appendCustomParams(z({},i),o)),`${l}?${o}`}createAuthorizeUrl(e,t,i,l,a,o,u){let C=this.storagePersistenceService.read("authWellKnownEndPoints",a)?.authorizationEndpoint;if(!C)return this.loggerService.logError(a,`Can not create an authorize URL when authorizationEndpoint is '${C}'`),"";let{clientId:v,responseType:P,scope:Q,hdParam:V,customParamsAuthRequest:p1}=a;if(!v)return this.loggerService.logError(a,"createAuthorizeUrl could not add clientId because it was: ",v),"";if(!P)return this.loggerService.logError(a,"createAuthorizeUrl could not add responseType because it was: ",P),"";if(!Q)return this.loggerService.logError(a,"createAuthorizeUrl could not add scope because it was: ",Q),"";let r1=C.split("?"),o1=r1[0],L1=r1[1],q=this.createHttpParams(L1);q=q.set("client_id",v),q=q.append("redirect_uri",t),q=q.append("response_type",P),q=q.append("scope",Q),q=q.append("nonce",i),q=q.append("state",l),this.flowHelper.isCurrentFlowCodeFlow(a)&&(q=q.append("code_challenge",e),q=q.append("code_challenge_method","S256"));let c2=z(z({},p1),u);return Object.keys(c2).length>0&&(q=this.appendCustomParams(z({},c2),q)),o&&(q=this.overWriteParam(q,"prompt",o)),V&&(q=q.append("hd",V)),`${o1}?${q}`}createUrlImplicitFlowWithSilentRenew(e,t){let i=this.flowsDataService.getExistingOrCreateAuthStateControl(e),l=this.flowsDataService.createNonce(e),a=this.getSilentRenewUrl(e);return a?(this.loggerService.logDebug(e,"RefreshSession created. adding myautostate: ",i),this.storagePersistenceService.read("authWellKnownEndPoints",e)?this.createAuthorizeUrl("",a,l,i,e,"none",t):(this.loggerService.logError(e,"authWellKnownEndpoints is undefined"),null)):null}createUrlCodeFlowWithSilentRenew(e,t){let i=this.flowsDataService.getExistingOrCreateAuthStateControl(e),l=this.flowsDataService.createNonce(e);this.loggerService.logDebug(e,"RefreshSession created. adding myautostate: "+i);let a=this.flowsDataService.createCodeVerifier(e);return this.jwtWindowCryptoService.generateCodeChallenge(a).pipe(k(o=>{let u=this.getSilentRenewUrl(e);return u?this.storagePersistenceService.read("authWellKnownEndPoints",e)?this.createAuthorizeUrl(o,u,l,i,e,"none",t):(this.loggerService.logWarning(e,"authWellKnownEndpoints is undefined"),""):""}))}createUrlImplicitFlowAuthorize(e,t){let i=this.flowsDataService.getExistingOrCreateAuthStateControl(e),l=this.flowsDataService.createNonce(e);this.loggerService.logDebug(e,"Authorize created. adding myautostate: "+i);let a=this.getRedirectUrl(e,t);if(!a)return null;if(this.storagePersistenceService.read("authWellKnownEndPoints",e)){let{customParams:u}=t||{};return this.createAuthorizeUrl("",a,l,i,e,"",u)}return this.loggerService.logError(e,"authWellKnownEndpoints is undefined"),null}createUrlCodeFlowAuthorize(e,t){let i=this.flowsDataService.getExistingOrCreateAuthStateControl(e),l=this.flowsDataService.createNonce(e);this.loggerService.logDebug(e,"Authorize created. adding myautostate: "+i);let a=this.getRedirectUrl(e,t);return a?this.getCodeChallenge(e).pipe(k(o=>{if(this.storagePersistenceService.read("authWellKnownEndPoints",e)){let{customParams:p}=t||{};return this.createAuthorizeUrl(o,a,l,i,e,"",p)}return this.loggerService.logError(e,"authWellKnownEndpoints is undefined"),""})):b(null)}getCodeChallenge(e){if(e.disablePkce)return b("");let t=this.flowsDataService.createCodeVerifier(e);return this.jwtWindowCryptoService.generateCodeChallenge(t)}getRedirectUrl(e,t){let{redirectUrl:i}=e;return t?.redirectUrl&&(i=t.redirectUrl),i||(this.loggerService.logError(e,"could not get redirectUrl, was: ",i),null)}getSilentRenewUrl(e){let{silentRenewUrl:t}=e;return t||(this.loggerService.logError(e,"could not get silentRenewUrl, was: ",t),null)}getClientId(e){let{clientId:t}=e;return t||(this.loggerService.logError(e,"could not get clientId, was: ",t),null)}appendCustomParams(e,t){for(let[i,l]of Object.entries(z({},e)))t=t.append(i,l.toString());return t}overWriteParam(e,t,i){return e.set(t,i)}createHttpParams(e){return e=e??"",new i2({fromString:e,encoder:new T0})}isAuth0Endpoint(e){let{authority:t,useCustomAuth0Domain:i}=e;return t?t.endsWith(yc)||!!i:!1}composeAuth0Endpoint(e){let{authority:t,clientId:i}=e,l=this.getPostLogoutRedirectUrl(e);return`${t}/v2/logout?client_id=${i}&returnTo=${l}`}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),bc=(()=>{let c=class c{constructor(){this.http=r(Q1)}get(e,t){return this.http.get(e,t)}post(e,t,i){return this.http.post(e,t,i)}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),xc="ngsw-bypass",$2=(()=>{let c=class c{constructor(){this.httpClient=r(bc)}get(e,t,i){let l=this.prepareHeaders(i),a=this.prepareParams(t);return this.httpClient.get(e,{headers:l,params:a})}post(e,t,i,l){let a=l||this.prepareHeaders(),o=this.prepareParams(i);return this.httpClient.post(e??"",t,{headers:a,params:o})}prepareHeaders(e){let t=new l3;return t=t.set("Accept","application/json"),e&&(t=t.set("Authorization","Bearer "+decodeURIComponent(e))),t}prepareParams(e){let t=new i2,{ngswBypass:i}=e;return i&&(t=t.set(xc,"")),t}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),E5=(()=>{let c=class c{extractJwk(e,t,i=!0){if(e.length===0)throw Nc;let l=e.filter(a=>t?.kid?a.kid===t.kid:!0).filter(a=>t?.use?a.use===t.use:!0).filter(a=>t?.kty?a.kty===t.kty:!0);if(l.length===0&&i)throw wc;if(l.length>1&&t==null)throw kc;return l}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})();function H0(s){return E5.name+": "+s}var Nc={name:H0("InvalidArgumentError"),message:"Array of keys was empty. Unable to extract"},wc={name:H0("NoMatchingKeysError"),message:"No key found matching the spec"},kc={name:H0("SeveralMatchingKeysError"),message:"More than one key found. Please use spec to filter"},y5=3,b4=(()=>{let c=class c{constructor(){this.loggerService=r(R),this.document=r(a1)}getTokenExpirationDate(e){if(!Object.prototype.hasOwnProperty.call(e,"exp"))return new Date(new Date().toUTCString());let t=new Date(0);return t.setUTCSeconds(e.exp),t}getSigningInputFromToken(e,t,i){if(!this.tokenIsValid(e,i))return"";let l=this.getHeaderFromToken(e,t,i),a=this.getPayloadFromToken(e,t,i);return[l,a].join(".")}getHeaderFromToken(e,t,i){return this.tokenIsValid(e,i)?this.getPartOfToken(e,0,t):{}}getPayloadFromToken(e,t,i){return i?this.tokenIsValid(e,i)?this.getPartOfToken(e,1,t):{}:{}}getSignatureFromToken(e,t,i){return this.tokenIsValid(e,i)?this.getPartOfToken(e,2,t):{}}getPartOfToken(e,t,i){let l=this.extractPartOfToken(e,t);if(i)return l;let a=this.urlBase64Decode(l);return JSON.parse(a)}urlBase64Decode(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("Illegal base64url string!")}let i=typeof this.document.defaultView<"u"?this.document.defaultView?.atob(t):Buffer.from(t,"base64").toString("binary");if(!i)return"";try{return decodeURIComponent(i.split("").map(l=>"%"+("00"+l.charCodeAt(0).toString(16)).slice(-2)).join(""))}catch{return i}}tokenIsValid(e,t){return e?e.includes(".")?e.split(".").length!==y5?(this.loggerService.logError(t,`token '${e}' is not valid --> token has to have exactly ${y5-1} dots`),!1):!0:(this.loggerService.logError(t,`token '${e}' is not valid --> no dots included`),!1):(this.loggerService.logError(t,`token '${e}' is not valid --> token falsy`),!1)}extractPartOfToken(e,t){return e.split(".")[t]}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),Ac=(()=>{let c=class c{constructor(){this.cryptoService=r(F0)}importVerificationKey(e,t){return this.cryptoService.getCrypto().subtle.importKey("jwk",e,t,!1,["verify"])}verifyKey(e,t,i,l){return this.cryptoService.getCrypto().subtle.verify(e,t,i,new TextEncoder().encode(l))}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})();function Ec(s){switch(s.charAt(0)){case"R":return{name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"};case"E":return s.includes("256")?{name:"ECDSA",hash:"SHA-256"}:s.includes("384")?{name:"ECDSA",hash:"SHA-384"}:null;default:return null}}function Ic(s){switch(s.charAt(0)){case"R":return"RSA";case"E":return"EC";default:throw new Error("Cannot infer kty from alg: "+s)}}function Pc(s){switch(s.charAt(0)){case"R":return s.includes("256")?{name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"}:s.includes("384")?{name:"RSASSA-PKCS1-v1_5",hash:"SHA-384"}:s.includes("512")?{name:"RSASSA-PKCS1-v1_5",hash:"SHA-512"}:null;case"E":return s.includes("256")?{name:"ECDSA",namedCurve:"P-256"}:s.includes("384")?{name:"ECDSA",namedCurve:"P-384"}:null;default:return null}}var x4=(()=>{let c=class c{constructor(){this.keyAlgorithms=["HS256","HS384","HS512","RS256","RS384","RS512","ES256","ES384","PS256","PS384","PS512"],this.tokenHelperService=r(b4),this.loggerService=r(R),this.jwkExtractor=r(E5),this.jwkWindowCryptoService=r(Ac),this.jwtWindowCryptoService=r(A5)}hasIdTokenExpired(e,t,i){let l=this.tokenHelperService.getPayloadFromToken(e,!1,t);return!this.validateIdTokenExpNotExpired(l,t,i)}validateIdTokenExpNotExpired(e,t,i){let l=this.tokenHelperService.getTokenExpirationDate(e);if(i=i||0,!l)return!1;let a=l.valueOf(),o=this.calculateNowWithOffset(i),u=a>o;return this.loggerService.logDebug(t,`Has idToken expired: ${!u} --> expires in ${this.millisToMinutesAndSeconds(a-o)} , ${new Date(a).toLocaleTimeString()} > ${new Date(o).toLocaleTimeString()}`),u}validateAccessTokenNotExpired(e,t,i){if(!e)return!0;i=i||0;let l=e.valueOf(),a=this.calculateNowWithOffset(i),o=l>a;return this.loggerService.logDebug(t,`Has accessToken expired: ${!o} --> expires in ${this.millisToMinutesAndSeconds(l-a)} , ${new Date(l).toLocaleTimeString()} > ${new Date(a).toLocaleTimeString()}`),o}validateRequiredIdToken(e,t){let i=!0;return Object.prototype.hasOwnProperty.call(e,"iss")||(i=!1,this.loggerService.logWarning(t,"iss is missing, this is required in the id_token")),Object.prototype.hasOwnProperty.call(e,"sub")||(i=!1,this.loggerService.logWarning(t,"sub is missing, this is required in the id_token")),Object.prototype.hasOwnProperty.call(e,"aud")||(i=!1,this.loggerService.logWarning(t,"aud is missing, this is required in the id_token")),Object.prototype.hasOwnProperty.call(e,"exp")||(i=!1,this.loggerService.logWarning(t,"exp is missing, this is required in the id_token")),Object.prototype.hasOwnProperty.call(e,"iat")||(i=!1,this.loggerService.logWarning(t,"iat is missing, this is required in the id_token")),i}validateIdTokenIatMaxOffset(e,t,i,l){if(i)return!0;if(!Object.prototype.hasOwnProperty.call(e,"iat"))return!1;let a=new Date(0);a.setUTCSeconds(e.iat),t=t||0;let u=new Date(new Date().toUTCString()).valueOf()-a.valueOf(),p=t*1e3;return this.loggerService.logDebug(l,`validate id token iat max offset ${u} < ${p}`),u>0?u<p:-u<p}validateIdTokenNonce(e,t,i,l){return!((e.nonce===void 0||i)&&t===c.refreshTokenNoncePlaceholder)&&e.nonce!==t?(this.loggerService.logDebug(l,"Validate_id_token_nonce failed, dataIdToken.nonce: "+e.nonce+" local_nonce:"+t),!1):!0}validateIdTokenIss(e,t,i){return e.iss!==t?(this.loggerService.logDebug(i,"Validate_id_token_iss failed, dataIdToken.iss: "+e.iss+" authWellKnownEndpoints issuer:"+t),!1):!0}validateIdTokenAud(e,t,i){return Array.isArray(e.aud)?e.aud.includes(t)?!0:(this.loggerService.logDebug(i,"Validate_id_token_aud array failed, dataIdToken.aud: "+e.aud+" client_id:"+t),!1):e.aud!==t?(this.loggerService.logDebug(i,"Validate_id_token_aud failed, dataIdToken.aud: "+e.aud+" client_id:"+t),!1):!0}validateIdTokenAzpExistsIfMoreThanOneAud(e){return e?!(Array.isArray(e.aud)&&e.aud.length>1&&!e.azp):!1}validateIdTokenAzpValid(e,t){return e?.azp?e.azp===t:!0}validateStateFromHashCallback(e,t,i){return e!==t?(this.loggerService.logDebug(i,"ValidateStateFromHashCallback failed, state: "+e+" local_state:"+t),!1):!0}validateSignatureIdToken(e,t,i){if(!e)return b(!0);if(!t||!t.keys)return b(!1);let l=this.tokenHelperService.getHeaderFromToken(e,!1,i);if(Object.keys(l).length===0&&l.constructor===Object)return this.loggerService.logWarning(i,"id token has no header data"),b(!1);let a=l.kid,o=l.alg,u=t.keys,p,C;if(!this.keyAlgorithms.includes(o))return this.loggerService.logWarning(i,"alg not supported",o),b(!1);let v=Ic(o),P="sig";try{p=a?this.jwkExtractor.extractJwk(u,{kid:a,kty:v,use:P},!1):this.jwkExtractor.extractJwk(u,{kty:v,use:P},!1),p.length===0&&(p=a?this.jwkExtractor.extractJwk(u,{kid:a,kty:v}):this.jwkExtractor.extractJwk(u,{kty:v})),C=p[0]}catch(r1){return this.loggerService.logError(i,r1),b(!1)}let Q=Pc(o),V=this.tokenHelperService.getSigningInputFromToken(e,!0,i),p1=this.tokenHelperService.getSignatureFromToken(e,!0,i);return S(this.jwkWindowCryptoService.importVerificationKey(C,Q)).pipe(D2(r1=>{let o1=v5.parse(p1,{loose:!0}),L1=Ec(o);return S(this.jwkWindowCryptoService.verifyKey(L1,r1,o1,V))}),H1(r1=>{r1||this.loggerService.logWarning(i,"incorrect Signature, validation failed for id_token")}))}validateIdTokenAtHash(e,t,i,l){this.loggerService.logDebug(l,"at_hash from the server:"+t);let a="SHA-256";return i.includes("384")?a="SHA-384":i.includes("512")&&(a="SHA-512"),this.jwtWindowCryptoService.generateAtHash(""+e,a).pipe(D2(o=>(this.loggerService.logDebug(l,"at_hash client validation not decoded:"+o),o===t?b(!0):this.jwtWindowCryptoService.generateAtHash(""+decodeURIComponent(e),a).pipe(k(u=>(this.loggerService.logDebug(l,"-gen access--"+o),u===t))))))}millisToMinutesAndSeconds(e){let t=Math.floor(e/6e4),i=(e%6e4/1e3).toFixed(0);return t+":"+(+i<10?"0":"")+i}calculateNowWithOffset(e){return new Date(new Date().toUTCString()).valueOf()+e*1e3}};c.refreshTokenNoncePlaceholder="--RefreshToken--",c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),I5=s=>!!s&&s instanceof W6&&(s.error instanceof ProgressEvent&&s.error.type==="error"||s.status===0&&!!s.error),Vc=(()=>{let c=class c{constructor(){this.urlService=r(e2),this.loggerService=r(R),this.tokenValidationService=r(x4),this.flowsDataService=r(k1),this.storagePersistenceService=r(u1),this.dataService=r($2)}codeFlowCallback(e,t){let i=this.urlService.getUrlParameter(e,"code"),l=this.urlService.getUrlParameter(e,"state"),a=this.urlService.getUrlParameter(e,"session_state");return l?i?(this.loggerService.logDebug(t,"running validation for callback",e),b({code:i,refreshToken:"",state:l,sessionState:a,authResult:null,isRenewProcess:!1,jwtKeys:null,validationResult:null,existingIdToken:null})):(this.loggerService.logDebug(t,"no code in url"),A(()=>new Error("no code in url"))):(this.loggerService.logDebug(t,"no state in url"),A(()=>new Error("no state in url")))}codeFlowCodeRequest(e,t){let i=this.flowsDataService.getAuthStateControl(t);if(!this.tokenValidationService.validateStateFromHashCallback(e.state,i,t))return A(()=>new Error("codeFlowCodeRequest incorrect state"));let o=this.storagePersistenceService.read("authWellKnownEndPoints",t)?.tokenEndpoint;if(!o)return A(()=>new Error("Token Endpoint not defined"));let u=new l3;u=u.set("Content-Type","application/x-www-form-urlencoded");let p=this.urlService.createBodyForCodeFlowCodeRequest(e.code,t,t?.customParamsCodeRequest);return this.dataService.post(o,p,t,u).pipe(L(C=>{if(C){let v=E(z({},C),{state:e.state,session_state:e.sessionState});e.authResult=v}return b(e)}),n4(C=>this.handleRefreshRetry(C,t)),h1(C=>{let{authority:v}=t,P=`OidcService code request ${v}`;return this.loggerService.logError(t,P,C),A(()=>new Error(P))}))}handleRefreshRetry(e,t){return e.pipe(D2(i=>{if(I5(i)){let{authority:l,refreshTokenRetryInSeconds:a}=t,o=`OidcService code request ${l} - no internet connection`;return this.loggerService.logWarning(t,o,i),t4((a??0)*1e3)}return A(()=>i)}))}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),w1=function(s){return s[s.ConfigLoaded=0]="ConfigLoaded",s[s.CheckingAuth=1]="CheckingAuth",s[s.CheckingAuthFinished=2]="CheckingAuthFinished",s[s.CheckingAuthFinishedWithError=3]="CheckingAuthFinishedWithError",s[s.ConfigLoadingFailed=4]="ConfigLoadingFailed",s[s.CheckSessionReceived=5]="CheckSessionReceived",s[s.UserDataChanged=6]="UserDataChanged",s[s.NewAuthenticationResult=7]="NewAuthenticationResult",s[s.TokenExpired=8]="TokenExpired",s[s.IdTokenExpired=9]="IdTokenExpired",s[s.SilentRenewStarted=10]="SilentRenewStarted",s[s.SilentRenewFailed=11]="SilentRenewFailed",s}(w1||{}),Q2=(()=>{let c=class c{constructor(){this.notify=new Y2(1)}fireEvent(e,t){this.notify.next({type:e,value:t})}registerForEvents(){return this.notify.asObservable()}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),Dc={isAuthenticated:!1,allConfigsAuthenticated:[]},U1=(()=>{let c=class c{constructor(){this.storagePersistenceService=r(u1),this.loggerService=r(R),this.publicEventsService=r(Q2),this.tokenValidationService=r(x4),this.authenticatedInternal$=new F1(Dc)}get authenticated$(){return this.authenticatedInternal$.asObservable().pipe(p2())}setAuthenticatedAndFireEvent(e){let t=this.composeAuthenticatedResult(e);this.authenticatedInternal$.next(t)}setUnauthenticatedAndFireEvent(e,t){this.storagePersistenceService.resetAuthStateInStorage(e);let i=this.composeUnAuthenticatedResult(t);this.authenticatedInternal$.next(i)}updateAndPublishAuthState(e){this.publicEventsService.fireEvent(w1.NewAuthenticationResult,e)}setAuthorizationData(e,t,i,l){this.loggerService.logDebug(i,`storing the accessToken '${e}'`),this.storagePersistenceService.write("authzData",e,i),this.persistAccessTokenExpirationTime(t,i),this.setAuthenticatedAndFireEvent(l)}getAccessToken(e){if(!e||!this.isAuthenticated(e))return"";let t=this.storagePersistenceService.getAccessToken(e);return this.decodeURIComponentSafely(t)}getIdToken(e){if(!e||!this.isAuthenticated(e))return"";let t=this.storagePersistenceService.getIdToken(e);return this.decodeURIComponentSafely(t)}getRefreshToken(e){if(!e||!this.isAuthenticated(e))return"";let t=this.storagePersistenceService.getRefreshToken(e);return this.decodeURIComponentSafely(t)}getAuthenticationResult(e){return!e||!this.isAuthenticated(e)?null:this.storagePersistenceService.getAuthenticationResult(e)}areAuthStorageTokensValid(e){return!e||!this.isAuthenticated(e)?!1:this.hasIdTokenExpiredAndRenewCheckIsEnabled(e)?(this.loggerService.logDebug(e,"persisted idToken is expired"),!1):this.hasAccessTokenExpiredIfExpiryExists(e)?(this.loggerService.logDebug(e,"persisted accessToken is expired"),!1):(this.loggerService.logDebug(e,"persisted idToken and accessToken are valid"),!0)}hasIdTokenExpiredAndRenewCheckIsEnabled(e){let{renewTimeBeforeTokenExpiresInSeconds:t,triggerRefreshWhenIdTokenExpired:i,disableIdTokenValidation:l}=e;if(!i||l)return!1;let a=this.storagePersistenceService.getIdToken(e),o=this.tokenValidationService.hasIdTokenExpired(a,e,t);return o&&this.publicEventsService.fireEvent(w1.IdTokenExpired,o),o}hasAccessTokenExpiredIfExpiryExists(e){let{renewTimeBeforeTokenExpiresInSeconds:t}=e,i=this.storagePersistenceService.read("access_token_expires_at",e),a=!this.tokenValidationService.validateAccessTokenNotExpired(i,e,t);return a&&this.publicEventsService.fireEvent(w1.TokenExpired,a),a}isAuthenticated(e){if(!e)return A(()=>new Error("Please provide a configuration before setting up the module")),!1;let t=!!this.storagePersistenceService.getAccessToken(e),i=!!this.storagePersistenceService.getIdToken(e);return t&&i}decodeURIComponentSafely(e){return e?decodeURIComponent(e):""}persistAccessTokenExpirationTime(e,t){if(e?.expires_in){let i=new Date(new Date().toUTCString()).valueOf()+e.expires_in*1e3;this.storagePersistenceService.write("access_token_expires_at",i,t)}}composeAuthenticatedResult(e){if(e.length===1){let{configId:t}=e[0];return{isAuthenticated:!0,allConfigsAuthenticated:[{configId:t??"",isAuthenticated:!0}]}}return this.checkAllConfigsIfTheyAreAuthenticated(e)}composeUnAuthenticatedResult(e){if(e.length===1){let{configId:t}=e[0];return{isAuthenticated:!1,allConfigsAuthenticated:[{configId:t??"",isAuthenticated:!1}]}}return this.checkAllConfigsIfTheyAreAuthenticated(e)}checkAllConfigsIfTheyAreAuthenticated(e){let t=e.map(l=>({configId:l.configId??"",isAuthenticated:this.isAuthenticated(l)})),i=t.every(l=>!!l.isAuthenticated);return{allConfigsAuthenticated:t,isAuthenticated:i}}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),s1=function(s){return s.NotSet="NotSet",s.StatesDoNotMatch="StatesDoNotMatch",s.SignatureFailed="SignatureFailed",s.IncorrectNonce="IncorrectNonce",s.RequiredPropertyMissing="RequiredPropertyMissing",s.MaxOffsetExpired="MaxOffsetExpired",s.IssDoesNotMatchIssuer="IssDoesNotMatchIssuer",s.NoAuthWellKnownEndPoints="NoAuthWellKnownEndPoints",s.IncorrectAud="IncorrectAud",s.IncorrectIdTokenClaimsAfterRefresh="IncorrectIdTokenClaimsAfterRefresh",s.IncorrectAzp="IncorrectAzp",s.TokenExpired="TokenExpired",s.IncorrectAtHash="IncorrectAtHash",s.Ok="Ok",s.LoginRequired="LoginRequired",s.SecureTokenServerError="SecureTokenServerError",s}(s1||{}),Tc={userData:null,allUserData:[]},d3=(()=>{let c=class c{constructor(){this.userDataInternal$=new F1(Tc),this.loggerService=r(R),this.tokenHelperService=r(b4),this.flowHelper=r(x2),this.oidcDataService=r($2),this.storagePersistenceService=r(u1),this.eventService=r(Q2)}get userData$(){return this.userDataInternal$.asObservable()}getAndPersistUserDataInStore(e,t,i=!1,l,a){l=l||this.storagePersistenceService.getIdToken(e),a=a||this.tokenHelperService.getPayloadFromToken(l,!1,e);let o=this.getUserDataFromStore(e),u=!!o,p=this.flowHelper.isCurrentFlowImplicitFlowWithAccessToken(e),C=this.flowHelper.isCurrentFlowCodeFlow(e),v=this.storagePersistenceService.getAccessToken(e);if(!(p||C))return this.loggerService.logDebug(e,`authCallback idToken flow with accessToken ${v}`),this.setUserDataToStore(a,e,t),b(a);let{renewUserInfoAfterTokenRenew:P}=e;return!i||P||!u?this.getUserDataOidcFlowAndSave(a.sub,e,t).pipe(L(Q=>(this.loggerService.logDebug(e,"Received user data: ",Q),Q?(this.loggerService.logDebug(e,"accessToken: ",v),b(Q)):A(()=>new Error("Received no user data, request failed"))))):b(o)}getUserDataFromStore(e){return e?this.storagePersistenceService.read("userData",e)||null:A(()=>new Error("Please provide a configuration before setting up the module"))}publishUserDataIfExists(e,t){let i=this.getUserDataFromStore(e);i&&this.fireUserDataEvent(e,t,i)}setUserDataToStore(e,t,i){this.storagePersistenceService.write("userData",e,t),this.fireUserDataEvent(t,i,e)}resetUserDataInStore(e,t){this.storagePersistenceService.remove("userData",e),this.fireUserDataEvent(e,t,null)}getUserDataOidcFlowAndSave(e,t,i){return this.getIdentityUserData(t).pipe(k(l=>this.validateUserDataSubIdToken(t,e,l?.sub)?(this.setUserDataToStore(l,t,i),l):(this.loggerService.logWarning(t,"User data sub does not match sub in id_token, resetting"),this.resetUserDataInStore(t,i),null)))}getIdentityUserData(e){let t=this.storagePersistenceService.getAccessToken(e),i=this.storagePersistenceService.read("authWellKnownEndPoints",e);if(!i)return this.loggerService.logWarning(e,"init check session: authWellKnownEndpoints is undefined"),A(()=>new Error("authWellKnownEndpoints is undefined"));let l=i.userInfoEndpoint;return l?this.oidcDataService.get(l,e,t).pipe(X2(2)):(this.loggerService.logError(e,"init check session: authWellKnownEndpoints.userinfo_endpoint is undefined; set auto_userinfo = false in config"),A(()=>new Error("authWellKnownEndpoints.userinfo_endpoint is undefined")))}validateUserDataSubIdToken(e,t,i){return!t||!i?!1:t.toString()!==i.toString()?(this.loggerService.logDebug(e,"validateUserDataSubIdToken failed",t,i),!1):!0}fireUserDataEvent(e,t,i){let l=this.composeSingleOrMultipleUserDataObject(e,t,i);this.userDataInternal$.next(l);let{configId:a}=e;this.eventService.fireEvent(w1.UserDataChanged,{configId:a,userData:i})}composeSingleOrMultipleUserDataObject(e,t,i){if(!(t.length>1)){let{configId:o}=e;return this.composeSingleUserDataResult(o??"",i)}return{userData:null,allUserData:t.map(o=>{let u=e.configId??"",p=o.configId??"";if(this.currentConfigIsToUpdate(u,o))return{configId:p,userData:i};let C=this.storagePersistenceService.read("userData",o)||null;return{configId:p,userData:C}})}}composeSingleUserDataResult(e,t){return{userData:t,allUserData:[{configId:e,userData:t}]}}currentConfigIsToUpdate(e,t){return t.configId===e}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),N2=(()=>{let c=class c{constructor(){this.loggerService=r(R),this.userService=r(d3),this.flowsDataService=r(k1),this.authStateService=r(U1)}resetAuthorizationData(e,t){e&&(this.userService.resetUserDataInStore(e,t),this.flowsDataService.resetStorageFlowData(e),this.authStateService.setUnauthenticatedAndFireEvent(e,t),this.loggerService.logDebug(e,"Local Login information cleaned up and event fired"))}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),Fc=(()=>{let c=class c{constructor(){this.loggerService=r(R),this.storagePersistenceService=r(u1),this.dataService=r($2)}getSigningKeys(e){let i=this.storagePersistenceService.read("authWellKnownEndPoints",e)?.jwksUri;if(!i){let l=`getSigningKeys: authWellKnownEndpoints.jwksUri is: '${i}'`;return this.loggerService.logWarning(e,l),A(()=>new Error(l))}return this.loggerService.logDebug(e,"Getting signinkeys from ",i),this.dataService.get(i,e).pipe(X2(2),h1(l=>this.handleErrorGetSigningKeys(l,e)))}handleErrorGetSigningKeys(e,t){let i="";if(e instanceof j6){let l=e.body||{},a=JSON.stringify(l),{status:o,statusText:u}=e;i=`${o||""} - ${u||""} ${a||""}`}else{let{message:l}=e;i=l||`${e}`}return this.loggerService.logError(t,i),A(()=>new Error(i))}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),b5="jwtKeys",Hc=(()=>{let c=class c{constructor(){this.loggerService=r(R),this.authStateService=r(U1),this.flowsDataService=r(k1),this.signInKeyDataService=r(Fc),this.storagePersistenceService=r(u1),this.resetAuthDataService=r(N2),this.document=r(a1)}callbackHistoryAndResetJwtKeys(e,t,i){let l=z({},e.authResult);if(!this.responseHasIdToken(e)){let a=this.storagePersistenceService.getIdToken(t);l=E(z({},l),{id_token:a})}if(this.storagePersistenceService.write("authnResult",l,t),t.allowUnsafeReuseRefreshToken&&e.authResult?.refresh_token&&this.storagePersistenceService.write("reusable_refresh_token",e.authResult.refresh_token,t),this.historyCleanUpTurnedOn(t)&&!e.isRenewProcess?this.resetBrowserHistory():this.loggerService.logDebug(t,"history clean up inactive"),e.authResult?.error){let a=`AuthCallback AuthResult came with error: ${e.authResult.error}`;return this.loggerService.logDebug(t,a),this.resetAuthDataService.resetAuthorizationData(t,i),this.flowsDataService.setNonce("",t),this.handleResultErrorFromCallback(e.authResult,e.isRenewProcess),A(()=>new Error(a))}return this.loggerService.logDebug(t,`AuthResult '${JSON.stringify(e.authResult,null,2)}'.
      AuthCallback created, begin token validation`),this.signInKeyDataService.getSigningKeys(t).pipe(H1(a=>this.storeSigningKeys(a,t)),h1(a=>{let o=this.readSigningKeys(t);return o?(this.loggerService.logWarning(t,"Failed to retrieve signing keys, fallback to stored keys"),b(o)):A(()=>new Error(a))}),L(a=>{if(a)return e.jwtKeys=a,b(e);let o="Failed to retrieve signing key";return this.loggerService.logWarning(t,o),A(()=>new Error(o))}),h1(a=>{let o=`Failed to retrieve signing key with error: ${a}`;return this.loggerService.logWarning(t,o),A(()=>new Error(o))}))}responseHasIdToken(e){return!!e?.authResult?.id_token}handleResultErrorFromCallback(e,t){let i=s1.SecureTokenServerError;e&&typeof e=="object"&&"error"in e&&e.error==="login_required"&&(i=s1.LoginRequired),this.authStateService.updateAndPublishAuthState({isAuthenticated:!1,validationResult:i,isRenewProcess:t})}historyCleanUpTurnedOn(e){let{historyCleanupOff:t}=e;return!t}resetBrowserHistory(){this.document.defaultView?.history.replaceState({},this.document.title,this.document.defaultView.location.origin+this.document.defaultView.location.pathname)}storeSigningKeys(e,t){this.storagePersistenceService.write(b5,e,t)}readSigningKeys(e){return this.storagePersistenceService.read(b5,e)}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),Rc=(()=>{let c=class c{constructor(){this.loggerService=r(R),this.resetAuthDataService=r(N2),this.flowsDataService=r(k1),this.document=r(a1)}implicitFlowCallback(e,t,i){let l=this.flowsDataService.isSilentRenewRunning(e);this.loggerService.logDebug(e,"BEGIN callback, no auth data"),l||this.resetAuthDataService.resetAuthorizationData(e,t),i=i||this.document.location.hash.substring(1);let o={code:"",refreshToken:"",state:"",sessionState:null,authResult:i.split("&").reduce((u,p)=>{let C=p.split("=");return u[C.shift()]=C.join("="),u},{}),isRenewProcess:l,jwtKeys:null,validationResult:null,existingIdToken:null};return b(o)}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),_c=(()=>{let c=class c{constructor(){this.loggerService=r(R),this.authStateService=r(U1),this.flowsDataService=r(k1)}refreshSessionWithRefreshTokens(e){let t=this.flowsDataService.getExistingOrCreateAuthStateControl(e);this.loggerService.logDebug(e,"RefreshSession created. Adding myautostate: "+t);let i=this.authStateService.getRefreshToken(e),l=this.authStateService.getIdToken(e);if(i){let a={code:"",refreshToken:i,state:t,sessionState:null,authResult:null,isRenewProcess:!0,jwtKeys:null,validationResult:null,existingIdToken:l};return this.loggerService.logDebug(e,"found refresh code, obtaining new credentials with refresh code"),this.flowsDataService.setNonce(x4.refreshTokenNoncePlaceholder,e),b(a)}else{let a="no refresh token found, please login";return this.loggerService.logError(e,a),A(()=>new Error(a))}}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),Oc=(()=>{let c=class c{constructor(){this.urlService=r(e2),this.loggerService=r(R),this.dataService=r($2),this.storagePersistenceService=r(u1)}refreshTokensRequestTokens(e,t,i){let l=new l3;l=l.set("Content-Type","application/x-www-form-urlencoded");let o=this.storagePersistenceService.read("authWellKnownEndPoints",t)?.tokenEndpoint;if(!o)return A(()=>new Error("Token Endpoint not defined"));let u=this.urlService.createBodyForCodeFlowRefreshTokensRequest(e.refreshToken,t,i);return this.dataService.post(o,u,t,l).pipe(L(p=>(this.loggerService.logDebug(t,`token refresh response: ${p}`),p&&(p.state=e.state),e.authResult=p,b(e))),n4(p=>this.handleRefreshRetry(p,t)),h1(p=>{let{authority:C}=t,v=`OidcService code request ${C}`;return this.loggerService.logError(t,v,p),A(()=>new Error(v))}))}handleRefreshRetry(e,t){return e.pipe(D2(i=>{if(I5(i)){let{authority:l,refreshTokenRetryInSeconds:a}=t,o=`OidcService code request ${l} - no internet connection`;return this.loggerService.logWarning(t,o,i),t4((a??0)*1e3)}return A(()=>i)}))}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),Uc=(()=>{let c=class c{isStringEqualOrNonOrderedArrayEqual(e,t){return this.isNullOrUndefined(e)||this.isNullOrUndefined(t)||this.oneValueIsStringAndTheOtherIsArray(e,t)?!1:this.bothValuesAreStrings(e,t)?e===t:this.arraysHaveEqualContent(e,t)}areEqual(e,t){if(!e||!t)return!1;if(this.bothValuesAreArrays(e,t))return this.arraysStrictEqual(e,t);if(this.bothValuesAreStrings(e,t))return e===t;if(this.bothValuesAreObjects(e,t))return JSON.stringify(e).toLowerCase()===JSON.stringify(t).toLowerCase();if(this.oneValueIsStringAndTheOtherIsArray(e,t)){if(Array.isArray(e)&&this.valueIsString(t))return e[0]===t;if(Array.isArray(t)&&this.valueIsString(e))return t[0]===e}return e===t}oneValueIsStringAndTheOtherIsArray(e,t){return Array.isArray(e)&&this.valueIsString(t)||Array.isArray(t)&&this.valueIsString(e)}bothValuesAreObjects(e,t){return this.valueIsObject(e)&&this.valueIsObject(t)}bothValuesAreStrings(e,t){return this.valueIsString(e)&&this.valueIsString(t)}bothValuesAreArrays(e,t){return Array.isArray(e)&&Array.isArray(t)}valueIsString(e){return typeof e=="string"||e instanceof String}valueIsObject(e){return typeof e=="object"}arraysStrictEqual(e,t){if(e.length!==t.length)return!1;for(let i=e.length;i--;)if(e[i]!==t[i])return!1;return!0}arraysHaveEqualContent(e,t){return e.length!==t.length?!1:e.some(i=>t.includes(i))}isNullOrUndefined(e){return e==null}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),S4=class{constructor(c="",n="",e=!1,t={at_hash:""},i=s1.NotSet){this.accessToken=c,this.idToken=n,this.authResponseIsValid=e,this.decodedIdToken=t,this.state=i}},qc=(()=>{let c=class c{constructor(){this.storagePersistenceService=r(u1),this.tokenValidationService=r(x4),this.tokenHelperService=r(b4),this.loggerService=r(R),this.equalityService=r(Uc),this.flowHelper=r(x2)}getValidatedStateResult(e,t){let i=!!e.authResult?.error;return!!!e||i?b(new S4("","",!1,{})):this.validateState(e,t)}validateState(e,t){let i=new S4,l=this.storagePersistenceService.read("authStateControl",t);if(!this.tokenValidationService.validateStateFromHashCallback(e.authResult?.state,l,t))return this.loggerService.logWarning(t,"authCallback incorrect state"),i.state=s1.StatesDoNotMatch,this.handleUnsuccessfulValidation(t),b(i);let a=this.flowHelper.isCurrentFlowImplicitFlowWithAccessToken(t),o=this.flowHelper.isCurrentFlowCodeFlow(t);if((a||o)&&(i.accessToken=e.authResult?.access_token??""),t.disableIdTokenValidation)return i.state=s1.Ok,i.authResponseIsValid=!0,b(i);let p=e.isRenewProcess&&!!e.refreshToken,C=!!e.authResult?.id_token;if(p&&!C)return i.state=s1.Ok,i.authResponseIsValid=!0,b(i);if(C){let{clientId:v,issValidationOff:P,maxIdTokenIatOffsetAllowedInSeconds:Q,disableIatOffsetValidation:V,ignoreNonceAfterRefresh:p1,renewTimeBeforeTokenExpiresInSeconds:r1}=t;return i.idToken=e.authResult?.id_token??"",i.decodedIdToken=this.tokenHelperService.getPayloadFromToken(i.idToken,!1,t),this.tokenValidationService.validateSignatureIdToken(i.idToken,e.jwtKeys,t).pipe(D2(o1=>{if(!o1)return this.loggerService.logDebug(t,"authCallback Signature validation failed id_token"),i.state=s1.SignatureFailed,this.handleUnsuccessfulValidation(t),b(i);let L1=this.storagePersistenceService.read("authNonce",t);if(!this.tokenValidationService.validateIdTokenNonce(i.decodedIdToken,L1,!!p1,t))return this.loggerService.logWarning(t,"authCallback incorrect nonce, did you call the checkAuth() method multiple times?"),i.state=s1.IncorrectNonce,this.handleUnsuccessfulValidation(t),b(i);if(!this.tokenValidationService.validateRequiredIdToken(i.decodedIdToken,t))return this.loggerService.logDebug(t,"authCallback Validation, one of the REQUIRED properties missing from id_token"),i.state=s1.RequiredPropertyMissing,this.handleUnsuccessfulValidation(t),b(i);if(!p&&!this.tokenValidationService.validateIdTokenIatMaxOffset(i.decodedIdToken,Q??120,!!V,t))return this.loggerService.logWarning(t,"authCallback Validation, iat rejected id_token was issued too far away from the current time"),i.state=s1.MaxOffsetExpired,this.handleUnsuccessfulValidation(t),b(i);let q=this.storagePersistenceService.read("authWellKnownEndPoints",t);if(q){if(P)this.loggerService.logDebug(t,"iss validation is turned off, this is not recommended!");else if(!P&&!this.tokenValidationService.validateIdTokenIss(i.decodedIdToken,q.issuer,t))return this.loggerService.logWarning(t,"authCallback incorrect iss does not match authWellKnownEndpoints issuer"),i.state=s1.IssDoesNotMatchIssuer,this.handleUnsuccessfulValidation(t),b(i)}else return this.loggerService.logWarning(t,"authWellKnownEndpoints is undefined"),i.state=s1.NoAuthWellKnownEndPoints,this.handleUnsuccessfulValidation(t),b(i);return this.tokenValidationService.validateIdTokenAud(i.decodedIdToken,v,t)?this.tokenValidationService.validateIdTokenAzpExistsIfMoreThanOneAud(i.decodedIdToken)?this.tokenValidationService.validateIdTokenAzpValid(i.decodedIdToken,v)?this.isIdTokenAfterRefreshTokenRequestValid(e,i.decodedIdToken,t)?!p&&!this.tokenValidationService.validateIdTokenExpNotExpired(i.decodedIdToken,t,r1)?(this.loggerService.logWarning(t,"authCallback id token expired"),i.state=s1.TokenExpired,this.handleUnsuccessfulValidation(t),b(i)):this.validateDefault(a,o,i,t,e):(this.loggerService.logWarning(t,"authCallback pre, post id_token claims do not match in refresh"),i.state=s1.IncorrectIdTokenClaimsAfterRefresh,this.handleUnsuccessfulValidation(t),b(i)):(this.loggerService.logWarning(t,"authCallback incorrect azp"),i.state=s1.IncorrectAzp,this.handleUnsuccessfulValidation(t),b(i)):(this.loggerService.logWarning(t,"authCallback missing azp"),i.state=s1.IncorrectAzp,this.handleUnsuccessfulValidation(t),b(i)):(this.loggerService.logWarning(t,"authCallback incorrect aud"),i.state=s1.IncorrectAud,this.handleUnsuccessfulValidation(t),b(i))}))}else this.loggerService.logDebug(t,"No id_token found, skipping id_token validation");return this.validateDefault(a,o,i,t,e)}validateDefault(e,t,i,l,a){if(!e&&!t)return i.authResponseIsValid=!0,i.state=s1.Ok,this.handleSuccessfulValidation(l),this.handleUnsuccessfulValidation(l),b(i);if(a.authResult?.id_token){let o=this.tokenHelperService.getHeaderFromToken(i.idToken,!1,l);if(t&&!i.decodedIdToken.at_hash)this.loggerService.logDebug(l,"Code Flow active, and no at_hash in the id_token, skipping check!");else return this.tokenValidationService.validateIdTokenAtHash(i.accessToken,i.decodedIdToken.at_hash,o.alg,l).pipe(k(u=>!u||!i.accessToken?(this.loggerService.logWarning(l,"authCallback incorrect at_hash"),i.state=s1.IncorrectAtHash,this.handleUnsuccessfulValidation(l),i):(i.authResponseIsValid=!0,i.state=s1.Ok,this.handleSuccessfulValidation(l),i)))}return i.authResponseIsValid=!0,i.state=s1.Ok,this.handleSuccessfulValidation(l),b(i)}isIdTokenAfterRefreshTokenRequestValid(e,t,i){let{useRefreshToken:l,disableRefreshIdTokenAuthTimeValidation:a}=i;if(!l||!e.existingIdToken)return!0;let o=this.tokenHelperService.getPayloadFromToken(e.existingIdToken,!1,i);return o.iss!==t.iss?(this.loggerService.logDebug(i,`iss do not match: ${o.iss} ${t.iss}`),!1):o.azp!==t.azp?(this.loggerService.logDebug(i,`azp do not match: ${o.azp} ${t.azp}`),!1):o.sub!==t.sub?(this.loggerService.logDebug(i,`sub do not match: ${o.sub} ${t.sub}`),!1):this.equalityService.isStringEqualOrNonOrderedArrayEqual(o?.aud,t?.aud)?a?!0:o.auth_time!==t.auth_time?(this.loggerService.logDebug(i,`auth_time do not match: ${o.auth_time} ${t.auth_time}`),!1):!0:(this.loggerService.logDebug(i,`aud in new id_token is not valid: '${o?.aud}' '${t.aud}'`),!1)}handleSuccessfulValidation(e){let{autoCleanStateAfterAuthentication:t}=e;this.storagePersistenceService.write("authNonce",null,e),t&&this.storagePersistenceService.write("authStateControl","",e),this.loggerService.logDebug(e,"authCallback token(s) validated, continue")}handleUnsuccessfulValidation(e){let{autoCleanStateAfterAuthentication:t}=e;this.storagePersistenceService.write("authNonce",null,e),t&&this.storagePersistenceService.write("authStateControl","",e),this.loggerService.logDebug(e,"authCallback token(s) invalid")}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),Bc=(()=>{let c=class c{constructor(){this.loggerService=r(R),this.stateValidationService=r(qc),this.authStateService=r(U1),this.resetAuthDataService=r(N2),this.document=r(a1)}callbackStateValidation(e,t,i){return this.stateValidationService.getValidatedStateResult(e,t).pipe(k(l=>{if(e.validationResult=l,l.authResponseIsValid)return this.authStateService.setAuthorizationData(l.accessToken,e.authResult,t,i),e;{let a=`authorizedCallback, token(s) validation failed, resetting. Hash: ${this.document.location.hash}`;throw this.loggerService.logWarning(t,a),this.resetAuthDataService.resetAuthorizationData(t,i),this.publishUnauthorizedState(e.validationResult,e.isRenewProcess),new Error(a)}}))}publishUnauthorizedState(e,t){this.authStateService.updateAndPublishAuthState({isAuthenticated:!1,validationResult:e.state,isRenewProcess:t})}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),jc=(()=>{let c=class c{constructor(){this.loggerService=r(R),this.authStateService=r(U1),this.flowsDataService=r(k1),this.userService=r(d3),this.resetAuthDataService=r(N2)}callbackUser(e,t,i){let{isRenewProcess:l,validationResult:a,authResult:o,refreshToken:u}=e,{autoUserInfo:p,renewUserInfoAfterTokenRenew:C}=t;return p?this.userService.getAndPersistUserDataInStore(t,i,l,a?.idToken,a?.decodedIdToken).pipe(L(v=>{if(v)return u||this.flowsDataService.setSessionState(o?.session_state,t),this.publishAuthState(a,l),b(e);{this.resetAuthDataService.resetAuthorizationData(t,i),this.publishUnauthenticatedState(a,l);let P=`Called for userData but they were ${v}`;return this.loggerService.logWarning(t,P),A(()=>new Error(P))}}),h1(v=>{let P=`Failed to retrieve user info with error:  ${v}`;return this.loggerService.logWarning(t,P),A(()=>new Error(P))})):((!l||C)&&a?.decodedIdToken&&this.userService.setUserDataToStore(a.decodedIdToken,t,i),!l&&!u&&this.flowsDataService.setSessionState(o?.session_state,t),this.publishAuthState(a,l),b(e))}publishAuthState(e,t){e&&this.authStateService.updateAndPublishAuthState({isAuthenticated:!0,validationResult:e.state,isRenewProcess:t})}publishUnauthenticatedState(e,t){e&&this.authStateService.updateAndPublishAuthState({isAuthenticated:!1,validationResult:e.state,isRenewProcess:t})}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),N4=(()=>{let c=class c{constructor(){this.codeFlowCallbackHandlerService=r(Vc),this.implicitFlowCallbackHandlerService=r(Rc),this.historyJwtKeysCallbackHandlerService=r(Hc),this.userHandlerService=r(jc),this.stateValidationCallbackHandlerService=r(Bc),this.refreshSessionCallbackHandlerService=r(_c),this.refreshTokenCallbackHandlerService=r(Oc)}processCodeFlowCallback(e,t,i){return this.codeFlowCallbackHandlerService.codeFlowCallback(e,t).pipe(G(l=>this.codeFlowCallbackHandlerService.codeFlowCodeRequest(l,t)),G(l=>this.historyJwtKeysCallbackHandlerService.callbackHistoryAndResetJwtKeys(l,t,i)),G(l=>this.stateValidationCallbackHandlerService.callbackStateValidation(l,t,i)),G(l=>this.userHandlerService.callbackUser(l,t,i)))}processSilentRenewCodeFlowCallback(e,t,i){return this.codeFlowCallbackHandlerService.codeFlowCodeRequest(e,t).pipe(G(l=>this.historyJwtKeysCallbackHandlerService.callbackHistoryAndResetJwtKeys(l,t,i)),G(l=>this.stateValidationCallbackHandlerService.callbackStateValidation(l,t,i)),G(l=>this.userHandlerService.callbackUser(l,t,i)))}processImplicitFlowCallback(e,t,i){return this.implicitFlowCallbackHandlerService.implicitFlowCallback(e,t,i).pipe(G(l=>this.historyJwtKeysCallbackHandlerService.callbackHistoryAndResetJwtKeys(l,e,t)),G(l=>this.stateValidationCallbackHandlerService.callbackStateValidation(l,e,t)),G(l=>this.userHandlerService.callbackUser(l,e,t)))}processRefreshToken(e,t,i){return this.refreshSessionCallbackHandlerService.refreshSessionWithRefreshTokens(e).pipe(G(l=>this.refreshTokenCallbackHandlerService.refreshTokensRequestTokens(l,e,i)),G(l=>this.historyJwtKeysCallbackHandlerService.callbackHistoryAndResetJwtKeys(l,e,t)),G(l=>this.stateValidationCallbackHandlerService.callbackStateValidation(l,e,t)),G(l=>this.userHandlerService.callbackUser(l,e,t)))}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),q3=(()=>{let c=class c{constructor(){this.zone=r(s3),this.document=r(a1),this.runTokenValidationRunning=null}isTokenValidationRunning(){return!!this.runTokenValidationRunning}stopPeriodicTokenCheck(){this.runTokenValidationRunning&&(this.runTokenValidationRunning.unsubscribe(),this.runTokenValidationRunning=null)}startPeriodicTokenCheck(e){let t=e*1e3;return new t2(i=>{let l;return this.zone.runOutsideAngular(()=>{l=this.document?.defaultView?.setInterval(()=>this.zone.run(()=>i.next()),t)}),()=>{clearInterval(l)}})}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),Wc=(()=>{let c=class c{constructor(){this.flowsService=r(N4),this.router=r(T1),this.flowsDataService=r(k1),this.intervalService=r(q3)}authenticatedCallbackWithCode(e,t,i){let l=this.flowsDataService.isSilentRenewRunning(t),{triggerAuthorizationResultEvent:a}=t,o=t.postLoginRoute||"/",u=t.unauthorizedRoute||"/";return this.flowsService.processCodeFlowCallback(e,t,i).pipe(H1(p=>{this.flowsDataService.resetCodeFlowInProgress(t),!a&&!p.isRenewProcess&&this.router.navigateByUrl(o)}),h1(p=>(this.flowsDataService.resetSilentRenewRunning(t),this.flowsDataService.resetCodeFlowInProgress(t),this.intervalService.stopPeriodicTokenCheck(),!a&&!l&&this.router.navigateByUrl(u),A(()=>new Error(p)))))}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),P5=(()=>{let c=class c{constructor(){this.flowsService=r(N4),this.router=r(T1),this.flowsDataService=r(k1),this.intervalService=r(q3)}authenticatedImplicitFlowCallback(e,t,i){let l=this.flowsDataService.isSilentRenewRunning(e),a=!!e.triggerAuthorizationResultEvent,o=e.postLoginRoute??"",u=e.unauthorizedRoute??"";return this.flowsService.processImplicitFlowCallback(e,t,i).pipe(H1(p=>{!a&&!p.isRenewProcess&&this.router.navigateByUrl(o)}),h1(p=>(this.flowsDataService.resetSilentRenewRunning(e),this.intervalService.stopPeriodicTokenCheck(),!a&&!l&&this.router.navigateByUrl(u),A(()=>new Error(p)))))}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),V5=(()=>{let c=class c{constructor(){this.urlService=r(e2),this.flowHelper=r(x2),this.implicitFlowCallbackService=r(P5),this.codeFlowCallbackService=r(Wc),this.stsCallbackInternal$=new u2}get stsCallback$(){return this.stsCallbackInternal$.asObservable()}isCallback(e){return e?this.urlService.isCallbackFromSts(e):!1}handleCallbackAndFireEvents(e,t,i){let l=new t2;if(this.flowHelper.isCurrentFlowCodeFlow(t))l=this.codeFlowCallbackService.authenticatedCallbackWithCode(e,t,i);else if(this.flowHelper.isCurrentFlowAnyImplicitFlow(t))if(e?.includes("#")){let a=e.substring(e.indexOf("#")+1);l=this.implicitFlowCallbackService.authenticatedImplicitFlowCallback(t,i,a)}else l=this.implicitFlowCallbackService.authenticatedImplicitFlowCallback(t,i);return l.pipe(H1(()=>this.stsCallbackInternal$.next()))}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),Gc=(()=>{let c=class c{constructor(){this.platformId=r(m1)}isBrowser(){return $(this.platformId)}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),$c="/.well-known/openid-configuration",Qc=(()=>{let c=class c{constructor(){this.loggerService=r(R),this.http=r($2)}getWellKnownEndPointsForConfig(e){let{authWellknownEndpointUrl:t}=e;if(!t){let i="no authWellknownEndpoint given!";return this.loggerService.logError(e,i),A(()=>new Error(i))}return this.getWellKnownDocument(t,e).pipe(k(i=>({issuer:i.issuer,jwksUri:i.jwks_uri,authorizationEndpoint:i.authorization_endpoint,tokenEndpoint:i.token_endpoint,userInfoEndpoint:i.userinfo_endpoint,endSessionEndpoint:i.end_session_endpoint,checkSessionIframe:i.check_session_iframe,revocationEndpoint:i.revocation_endpoint,introspectionEndpoint:i.introspection_endpoint,parEndpoint:i.pushed_authorization_request_endpoint})))}getWellKnownDocument(e,t){let i=e,l=t.authWellknownUrlSuffix||$c;return e.includes(l)||(i=`${e}${l}`),this.http.get(i,t).pipe(X2(2))}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),p3=(()=>{let c=class c{constructor(){this.dataService=r(Qc),this.publicEventsService=r(Q2),this.storagePersistenceService=r(u1)}storeWellKnownEndpoints(e,t){this.storagePersistenceService.write("authWellKnownEndPoints",t,e)}queryAndStoreAuthWellKnownEndPoints(e){return e?this.dataService.getWellKnownEndPointsForConfig(e).pipe(H1(t=>this.storeWellKnownEndpoints(e,t)),h1(t=>(this.publicEventsService.fireEvent(w1.ConfigLoadingFailed,null),A(()=>new Error(t))))):A(()=>new Error("Please provide a configuration before setting up the module"))}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),Zc={authority:"https://please_set",authWellknownEndpointUrl:"",authWellknownEndpoints:void 0,redirectUrl:"https://please_set",clientId:"please_set",responseType:"code",scope:"openid email profile",hdParam:"",postLogoutRedirectUri:"https://please_set",startCheckSession:!1,silentRenew:!1,silentRenewUrl:"https://please_set",silentRenewTimeoutInSeconds:20,renewTimeBeforeTokenExpiresInSeconds:0,useRefreshToken:!1,usePushedAuthorisationRequests:!1,ignoreNonceAfterRefresh:!1,postLoginRoute:"/",forbiddenRoute:"/forbidden",unauthorizedRoute:"/unauthorized",autoUserInfo:!0,autoCleanStateAfterAuthentication:!0,triggerAuthorizationResultEvent:!1,logLevel:G2.Warn,issValidationOff:!1,historyCleanupOff:!1,maxIdTokenIatOffsetAllowedInSeconds:120,disableIatOffsetValidation:!1,customParamsAuthRequest:{},customParamsRefreshTokenRequest:{},customParamsEndSessionRequest:{},customParamsCodeRequest:{},disableRefreshIdTokenAuthTimeValidation:!1,triggerRefreshWhenIdTokenExpired:!0,tokenRefreshInSeconds:4,refreshTokenRetryInSeconds:3,ngswBypass:!1},h3={result:!0,messages:[],level:"none"},Kc=s=>s.authority?h3:{result:!1,messages:["The authority URL MUST be provided in the configuration! "],level:"error"},Yc=s=>s.clientId?h3:{result:!1,messages:["The clientId is required and missing from your config!"],level:"error"},Xc=s=>{if(!s)return"";let{authority:c,clientId:n,scope:e}=s;return`${c}${n}${e}`},Jc=s=>new Set(s).size!==s.length,et=s=>{let c=s.map(t=>Xc(t));return c.some(t=>t==="")?{result:!1,messages:["Please make sure you add an object with a 'config' property: ....({ config }) instead of ...(config)"],level:"error"}:Jc(c)?{result:!1,messages:["You added multiple configs with the same authority, clientId and scope"],level:"warning"}:h3},ct=s=>s.redirectUrl?h3:{result:!1,messages:["The redirectUrl is required and missing from your config"],level:"error"},tt=s=>{let c=s.silentRenew,n=s.useRefreshToken,e=s.silentRenewUrl;return c&&!n&&!e?{result:!1,messages:["Please provide a silent renew URL if using renew and not refresh tokens"],level:"error"}:h3},st=s=>{let c=s.useRefreshToken,n=s.silentRenew,t=(s.scope||"").split(" ").includes("offline_access");return c&&n&&!t?{result:!1,messages:["When using silent renew and refresh tokens please set the `offline_access` scope"],level:"warning"}:h3},nt=[Kc,st,ct,Yc,tt],it=[et],lt=(()=>{let c=class c{constructor(){this.loggerService=r(R)}validateConfigs(e){return this.validateConfigsInternal(e??[],it)}validateConfig(e){return this.validateConfigInternal(e,nt)}validateConfigsInternal(e,t){if(e.length===0)return!1;let i=t.map(a=>a(e)),l=0;return e.forEach(a=>{let o=this.processValidationResultsAndGetErrorCount(i,a);l+=o}),l===0}validateConfigInternal(e,t){let i=t.map(a=>a(e));return this.processValidationResultsAndGetErrorCount(i,e)===0}processValidationResultsAndGetErrorCount(e,t){let i=e.filter(o=>o.messages.length>0),l=this.getAllMessagesOfType("error",i),a=this.getAllMessagesOfType("warning",i);return l.forEach(o=>this.loggerService.logError(t,o)),a.forEach(o=>this.loggerService.logWarning(t,o)),l.length}getAllMessagesOfType(e,t){return t.filter(l=>l.level===e).map(l=>l.messages).reduce((l,a)=>l.concat(a),[])}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),R0=(()=>{let c=class c{constructor(){this.loggerService=r(R),this.publicEventsService=r(Q2),this.storagePersistenceService=r(u1),this.platformProvider=r(Gc),this.authWellKnownService=r(p3),this.loader=r(v4),this.configValidationService=r(lt),this.configsInternal={}}hasManyConfigs(){return Object.keys(this.configsInternal).length>1}getAllConfigurations(){return Object.values(this.configsInternal)}getOpenIDConfiguration(e){return this.configsAlreadySaved()?b(this.getConfig(e)):this.getOpenIDConfigurations(e).pipe(k(t=>t.currentConfig))}getOpenIDConfigurations(e){return this.loadConfigs().pipe(G(t=>this.prepareAndSaveConfigs(t)),k(t=>({allConfigs:t,currentConfig:this.getConfig(e)})))}hasAtLeastOneConfig(){return Object.keys(this.configsInternal).length>0}saveConfig(e){let{configId:t}=e;this.configsInternal[t]=e}loadConfigs(){return this.loader.loadConfigs()}configsAlreadySaved(){return this.hasAtLeastOneConfig()}getConfig(e){if(e)return this.configsInternal[e]||null;let[,t]=Object.entries(this.configsInternal)[0]||[[null,null]];return t||null}prepareAndSaveConfigs(e){if(!this.configValidationService.validateConfigs(e))return b([]);this.createUniqueIds(e);let t=e.map(l=>this.handleConfig(l));return d2(t).pipe(k(l=>l.filter(a=>!!a)),k(l=>l))}createUniqueIds(e){e.forEach((t,i)=>{t.configId||(t.configId=`${i}-${t.clientId}`)})}handleConfig(e){if(!this.configValidationService.validateConfig(e))return this.loggerService.logError(e,"Validation of config rejected with errors. Config is NOT set."),b(null);e.authWellknownEndpointUrl||(e.authWellknownEndpointUrl=e.authority);let t=this.prepareConfig(e);this.saveConfig(t);let i=this.enhanceConfigWithWellKnownEndpoint(t);return this.publicEventsService.fireEvent(w1.ConfigLoaded,i),b(t)}enhanceConfigWithWellKnownEndpoint(e){let t=this.storagePersistenceService.read("authWellKnownEndPoints",e);if(t)return e.authWellknownEndpoints=t,e;let i=e.authWellknownEndpoints;return i&&(this.authWellKnownService.storeWellKnownEndpoints(e,i),e.authWellknownEndpoints=i),e}prepareConfig(e){let t=z(z({},Zc),e);return this.setSpecialCases(t),t}setSpecialCases(e){this.platformProvider.isBrowser()||(e.startCheckSession=!1,e.silentRenew=!1,e.useRefreshToken=!1,e.usePushedAuthorisationRequests=!1)}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),D5=(()=>{let c=class c{constructor(){this.document=r(a1),this.loggerService=r(R)}getExistingIFrame(e){let t=this.getIFrameFromParentWindow(e);if(this.isIFrameElement(t))return t;let i=this.getIFrameFromWindow(e);return this.isIFrameElement(i)?i:null}addIFrameToWindowBody(e,t){let i=this.document.createElement("iframe");return i.id=e,i.title=e,this.loggerService.logDebug(t,i),i.style.display="none",this.document.body.appendChild(i),i}getIFrameFromParentWindow(e){try{let t=this.document.defaultView?.parent.document.getElementById(e);return this.isIFrameElement(t)?t:null}catch{return null}}getIFrameFromWindow(e){let t=this.document.getElementById(e);return this.isIFrameElement(t)?t:null}isIFrameElement(e){return!!e&&e instanceof HTMLIFrameElement}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),x5="myiFrameForSilentRenew",_0=(()=>{let c=class c{constructor(){this.refreshSessionWithIFrameCompletedInternal$=new u2,this.loggerService=r(R),this.iFrameService=r(D5),this.flowsService=r(N4),this.resetAuthDataService=r(N2),this.flowsDataService=r(k1),this.authStateService=r(U1),this.flowHelper=r(x2),this.implicitFlowCallbackService=r(P5),this.intervalService=r(q3)}get refreshSessionWithIFrameCompleted$(){return this.refreshSessionWithIFrameCompletedInternal$.asObservable()}getOrCreateIframe(e){let t=this.getExistingIframe();return t||this.iFrameService.addIFrameToWindowBody(x5,e)}isSilentRenewConfigured(e){let{useRefreshToken:t,silentRenew:i}=e;return!t&&!!i}codeFlowCallbackSilentRenewIframe(e,t,i){let l=new i2({fromString:e[1]}),a=l.get("error");if(a)return this.authStateService.updateAndPublishAuthState({isAuthenticated:!1,validationResult:s1.LoginRequired,isRenewProcess:!0}),this.resetAuthDataService.resetAuthorizationData(t,i),this.flowsDataService.setNonce("",t),this.intervalService.stopPeriodicTokenCheck(),A(()=>new Error(a));let o=l.get("code")??"",u=l.get("state")??"",p=l.get("session_state"),C={code:o,refreshToken:"",state:u,sessionState:p,authResult:null,isRenewProcess:!0,jwtKeys:null,validationResult:null,existingIdToken:null};return this.flowsService.processSilentRenewCodeFlowCallback(C,t,i).pipe(h1(v=>(this.intervalService.stopPeriodicTokenCheck(),this.resetAuthDataService.resetAuthorizationData(t,i),A(()=>new Error(v)))))}silentRenewEventHandler(e,t,i){if(this.loggerService.logDebug(t,"silentRenewEventHandler"),!e.detail)return;let l;if(this.flowHelper.isCurrentFlowCodeFlow(t)){let o=e.detail.toString().split("?");l=this.codeFlowCallbackSilentRenewIframe(o,t,i)}else l=this.implicitFlowCallbackService.authenticatedImplicitFlowCallback(t,i,e.detail);l.subscribe({next:o=>{this.refreshSessionWithIFrameCompletedInternal$.next(o),this.flowsDataService.resetSilentRenewRunning(t)},error:o=>{this.loggerService.logError(t,"Error: "+o),this.refreshSessionWithIFrameCompletedInternal$.next(null),this.flowsDataService.resetSilentRenewRunning(t)}})}getExistingIframe(){return this.iFrameService.getExistingIFrame(x5)}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),T5=(()=>{let c=class c{constructor(){this.renderer=r(k6).createRenderer(null,null),this.loggerService=r(R),this.urlService=r(e2),this.silentRenewService=r(_0),this.document=r(a1)}refreshSessionWithIframe(e,t,i){return this.loggerService.logDebug(e,"BEGIN refresh session Authorize Iframe renew"),this.urlService.getRefreshSessionSilentRenewUrl(e,i).pipe(L(l=>this.sendAuthorizeRequestUsingSilentRenew(l,e,t)))}sendAuthorizeRequestUsingSilentRenew(e,t,i){let l=this.silentRenewService.getOrCreateIframe(t);return this.initSilentRenewRequest(t,i),this.loggerService.logDebug(t,`sendAuthorizeRequestUsingSilentRenew for URL: ${e}`),new t2(a=>{let o=()=>{l.removeEventListener("load",o),this.loggerService.logDebug(t,"removed event listener from IFrame"),a.next(!0),a.complete()};l.addEventListener("load",o),l.contentWindow?.location.replace(e??"")})}initSilentRenewRequest(e,t){let i=Math.random(),l=this.renderer.listen("window","oidc-silent-renew-init",o=>{o.detail!==i&&(l(),a())}),a=this.renderer.listen("window","oidc-silent-renew-message",o=>this.silentRenewService.silentRenewEventHandler(o,e,t));this.document.defaultView?.dispatchEvent(new CustomEvent("oidc-silent-renew-init",{detail:i}))}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),F5=(()=>{let c=class c{constructor(){this.loggerService=r(R),this.resetAuthDataService=r(N2),this.flowsService=r(N4),this.intervalService=r(q3)}refreshSessionWithRefreshTokens(e,t,i){this.loggerService.logDebug(e,"BEGIN refresh session Authorize");let l=!1;return this.flowsService.processRefreshToken(e,t,i).pipe(h1(a=>(this.resetAuthDataService.resetAuthorizationData(e,t),l=!0,A(()=>new Error(a)))),y6(()=>l&&this.intervalService.stopPeriodicTokenCheck()))}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),at=(()=>{let c=class c{constructor(){this.resetAuthDataService=r(N2),this.flowHelper=r(x2),this.flowsDataService=r(k1),this.loggerService=r(R),this.userService=r(d3),this.authStateService=r(U1),this.refreshSessionIframeService=r(T5),this.refreshSessionRefreshTokenService=r(F5),this.intervalService=r(q3),this.storagePersistenceService=r(u1),this.publicEventsService=r(Q2),this.configurationService=r(R0)}startTokenValidationPeriodically(e,t){let i=this.getConfigsWithSilentRenewEnabled(e);if(i.length<=0||this.intervalService.isTokenValidationRunning())return;let l=this.getSmallestRefreshTimeFromConfigs(i),a=this.intervalService.startPeriodicTokenCheck(l).pipe(L(()=>{let o={};return i.forEach(u=>{let p=u.configId,C=this.getRefreshEvent(u,e);o[p]=C}),d2(o)}));this.intervalService.runTokenValidationRunning=a.pipe(h1(o=>A(()=>new Error(o)))).subscribe({next:o=>{for(let[u,p]of Object.entries(o))this.configurationService.getOpenIDConfiguration(u).subscribe(C=>{this.loggerService.logDebug(C,"silent renew, periodic check finished!"),this.flowHelper.isCurrentFlowCodeFlowWithRefreshTokens(C)&&this.flowsDataService.resetSilentRenewRunning(C)})},error:o=>{this.loggerService.logError(t,"silent renew failed!",o)}})}getRefreshEvent(e,t){if(!this.shouldStartPeriodicallyCheckForConfig(e))return b(null);let l=this.createRefreshEventForConfig(e,t);return this.publicEventsService.fireEvent(w1.SilentRenewStarted),l.pipe(h1(a=>(this.loggerService.logError(e,"silent renew failed!",a),this.publicEventsService.fireEvent(w1.SilentRenewFailed,a),this.flowsDataService.resetSilentRenewRunning(e),A(()=>new Error(a)))))}getSmallestRefreshTimeFromConfigs(e){return e.reduce((i,l)=>(i.tokenRefreshInSeconds??0)<(l.tokenRefreshInSeconds??0)?i:l).tokenRefreshInSeconds??0}getConfigsWithSilentRenewEnabled(e){return e.filter(t=>t.silentRenew)}createRefreshEventForConfig(e,t){return this.loggerService.logDebug(e,"starting silent renew..."),this.configurationService.getOpenIDConfiguration(e.configId).pipe(L(i=>{if(!i?.silentRenew)return this.resetAuthDataService.resetAuthorizationData(i,t),b(null);if(this.flowsDataService.setSilentRenewRunning(i),this.flowHelper.isCurrentFlowCodeFlowWithRefreshTokens(i)){let a=this.storagePersistenceService.read("storageCustomParamsRefresh",i)||{},{customParamsRefreshTokenRequest:o}=i,u=z(z({},o),a);return this.refreshSessionRefreshTokenService.refreshSessionWithRefreshTokens(i,t,u)}let l=this.storagePersistenceService.read("storageCustomParamsAuthRequest",i);return this.refreshSessionIframeService.refreshSessionWithIframe(i,t,l)}))}shouldStartPeriodicallyCheckForConfig(e){let t=this.authStateService.getIdToken(e),i=this.flowsDataService.isSilentRenewRunning(e),l=this.flowsDataService.isCodeFlowInProgress(e),a=this.userService.getUserDataFromStore(e);if(this.loggerService.logDebug(e,`Checking: silentRenewRunning: ${i}, isCodeFlowInProgress: ${l} - has idToken: ${!!t} - has userData: ${!!a}`),!(!!a&&!i&&!!t&&!l))return!1;let u=this.authStateService.hasIdTokenExpiredAndRenewCheckIsEnabled(e),p=this.authStateService.hasAccessTokenExpiredIfExpiryExists(e);return u||p}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),rt=3,H5=(()=>{let c=class c{constructor(){this.flowHelper=r(x2),this.flowsDataService=r(k1),this.loggerService=r(R),this.silentRenewService=r(_0),this.authStateService=r(U1),this.authWellKnownService=r(p3),this.refreshSessionIframeService=r(T5),this.storagePersistenceService=r(u1),this.refreshSessionRefreshTokenService=r(F5),this.userService=r(d3)}userForceRefreshSession(e,t,i){return e?(this.persistCustomParams(i,e),this.forceRefreshSession(e,t,i).pipe(H1(()=>this.flowsDataService.resetSilentRenewRunning(e)))):A(()=>new Error("Please provide a configuration before setting up the module"))}forceRefreshSession(e,t,i){let{customParamsRefreshTokenRequest:l,configId:a}=e,o=z(z({},l),i);if(this.flowHelper.isCurrentFlowCodeFlowWithRefreshTokens(e))return this.startRefreshSession(e,t,o).pipe(k(()=>{let C=this.authStateService.areAuthStorageTokensValid(e);return C?{idToken:this.authStateService.getIdToken(e),accessToken:this.authStateService.getAccessToken(e),userData:this.userService.getUserDataFromStore(e),isAuthenticated:C,configId:a}:{isAuthenticated:!1,errorMessage:"",userData:null,idToken:"",accessToken:"",configId:a}}));let{silentRenewTimeoutInSeconds:u}=e,p=(u??0)*1e3;return d2([this.startRefreshSession(e,t,i),this.silentRenewService.refreshSessionWithIFrameCompleted$.pipe(T2(1))]).pipe(J3(p),n4(C=>C.pipe(D2((v,P)=>{let V=P+1;return!(v instanceof g6)||V>rt?A(()=>new Error(v)):(this.loggerService.logDebug(e,`forceRefreshSession timeout. Attempt #${V}`),this.flowsDataService.resetSilentRenewRunning(e),t4(V*1e3))}))),k(([C,v])=>{let P=this.authStateService.areAuthStorageTokensValid(e);return P?{idToken:v?.authResult?.id_token??"",accessToken:v?.authResult?.access_token??"",userData:this.userService.getUserDataFromStore(e),isAuthenticated:P,configId:a}:{isAuthenticated:!1,errorMessage:"",userData:null,idToken:"",accessToken:"",configId:a}}))}persistCustomParams(e,t){let{useRefreshToken:i}=t;e&&(i?this.storagePersistenceService.write("storageCustomParamsRefresh",e,t):this.storagePersistenceService.write("storageCustomParamsAuthRequest",e,t))}startRefreshSession(e,t,i){let l=this.flowsDataService.isSilentRenewRunning(e);return this.loggerService.logDebug(e,`Checking: silentRenewRunning: ${l}`),!l?this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(e).pipe(L(()=>(this.flowsDataService.setSilentRenewRunning(e),this.flowHelper.isCurrentFlowCodeFlowWithRefreshTokens(e)?this.refreshSessionRefreshTokenService.refreshSessionWithRefreshTokens(e,t,i):this.refreshSessionIframeService.refreshSessionWithIframe(e,t,i)))):b(null)}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),N5="myiFrameForCheckSession",O0=(()=>{let c=class c{constructor(){this.loggerService=r(R),this.storagePersistenceService=r(u1),this.iFrameService=r(D5),this.eventService=r(Q2),this.zone=r(s3),this.document=r(a1),this.checkSessionReceived=!1,this.scheduledHeartBeatRunning=null,this.lastIFrameRefresh=0,this.outstandingMessages=0,this.heartBeatInterval=3e3,this.iframeRefreshInterval=6e4,this.checkSessionChangedInternal$=new F1(!1)}get checkSessionChanged$(){return this.checkSessionChangedInternal$.asObservable()}ngOnDestroy(){this.stop();let e=this.document.defaultView;e&&this.iframeMessageEventListener&&e.removeEventListener("message",this.iframeMessageEventListener,!1)}isCheckSessionConfigured(e){let{startCheckSession:t}=e;return!!t}start(e){if(this.scheduledHeartBeatRunning)return;let{clientId:t}=e;this.pollServerSession(t,e)}stop(){this.scheduledHeartBeatRunning&&(this.clearScheduledHeartBeat(),this.checkSessionReceived=!1)}serverStateChanged(e){let{startCheckSession:t}=e;return!!t&&this.checkSessionReceived}getExistingIframe(){return this.iFrameService.getExistingIFrame(N5)}init(e){if(this.lastIFrameRefresh+this.iframeRefreshInterval>Date.now())return b(void 0);let t=this.storagePersistenceService.read("authWellKnownEndPoints",e);if(!t)return this.loggerService.logWarning(e,"CheckSession - init check session: authWellKnownEndpoints is undefined. Returning."),b();let i=this.getOrCreateIframe(e);this.bindMessageEventToIframe(e);let l=t.checkSessionIframe,a=i.contentWindow;return l||this.loggerService.logWarning(e,"CheckSession - init check session: checkSessionIframe is not configured to run"),a?a.location.replace(l):this.loggerService.logWarning(e,"CheckSession - init check session: IFrame contentWindow does not exist"),new t2(o=>{i.onload=()=>{this.lastIFrameRefresh=Date.now(),o.next(),o.complete()}})}pollServerSession(e,t){this.outstandingMessages=0;let i=()=>{this.init(t).pipe(T2(1)).subscribe(()=>{let l=this.getExistingIframe();if(l&&e){this.loggerService.logDebug(t,`CheckSession - clientId : '${e}' - existingIframe: '${l}'`);let a=this.storagePersistenceService.read("session_state",t),o=this.storagePersistenceService.read("authWellKnownEndPoints",t),u=l.contentWindow;if(a&&o?.checkSessionIframe&&u){let p=new URL(o.checkSessionIframe)?.origin;this.outstandingMessages++,u.postMessage(e+" "+a,p)}else this.loggerService.logDebug(t,`CheckSession - session_state is '${a}' - AuthWellKnownEndPoints is '${JSON.stringify(o,null,2)}'`),this.checkSessionChangedInternal$.next(!0)}else this.loggerService.logWarning(t,`CheckSession - OidcSecurityCheckSession pollServerSession checkSession IFrame does not exist:
               clientId : '${e}' - existingIframe: '${l}'`);this.outstandingMessages>3&&this.loggerService.logError(t,`CheckSession - OidcSecurityCheckSession not receiving check session response messages.
                            Outstanding messages: '${this.outstandingMessages}'. Server unreachable?`),this.zone.runOutsideAngular(()=>{this.scheduledHeartBeatRunning=this.document?.defaultView?.setTimeout(()=>this.zone.run(i),this.heartBeatInterval)??null})})};i()}clearScheduledHeartBeat(){this.scheduledHeartBeatRunning!==null&&(clearTimeout(this.scheduledHeartBeatRunning),this.scheduledHeartBeatRunning=null)}messageHandler(e,t){let i=this.getExistingIframe(),a=!!this.storagePersistenceService.read("authWellKnownEndPoints",e)?.checkSessionIframe?.startsWith(t.origin);this.outstandingMessages=0,i&&a&&t.source===i.contentWindow&&(t.data==="error"?this.loggerService.logWarning(e,"CheckSession - error from check session messageHandler"):t.data==="changed"?(this.loggerService.logDebug(e,`CheckSession - ${t} from check session messageHandler`),this.checkSessionReceived=!0,this.eventService.fireEvent(w1.CheckSessionReceived,t.data),this.checkSessionChangedInternal$.next(!0)):(this.eventService.fireEvent(w1.CheckSessionReceived,t.data),this.loggerService.logDebug(e,`CheckSession - ${t.data} from check session messageHandler`)))}bindMessageEventToIframe(e){this.iframeMessageEventListener=this.messageHandler.bind(this,e);let t=this.document.defaultView;t&&t.addEventListener("message",this.iframeMessageEventListener,!1)}getOrCreateIframe(e){return this.getExistingIframe()||this.iFrameService.addIFrameToWindowBody(N5,e)}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),w4=(()=>{let c=class c{constructor(){this.loggerService=r(R),this.storagePersistenceService=r(u1),this.document=r(a1),this.STORAGE_IDENTIFIER="popupauth",this.popUp=null,this.handle=-1,this.resultInternal$=new u2}get result$(){return this.resultInternal$.asObservable()}get windowInternal(){return this.document.defaultView}isCurrentlyInPopup(e){if(this.canAccessSessionStorage()){let t=this.storagePersistenceService.read(this.STORAGE_IDENTIFIER,e),i=this.windowInternal;return i?!!i.opener&&i.opener!==i&&!!t:!1}return!1}openPopUp(e,t,i){let l=this.getOptions(t);this.storagePersistenceService.write(this.STORAGE_IDENTIFIER,"true",i);let a=this.windowInternal;if(!a)return;if(!e){this.loggerService.logError(i,"Could not open popup, url is empty");return}if(this.popUp=a.open(e,"_blank",l),!this.popUp){this.storagePersistenceService.remove(this.STORAGE_IDENTIFIER,i),this.loggerService.logError(i,"Could not open popup");return}this.loggerService.logDebug(i,"Opened popup with url "+e);let o=u=>{if(!u?.data||typeof u.data!="string"){this.cleanUp(o,i);return}this.loggerService.logDebug(i,"Received message from popup with url "+u.data),this.resultInternal$.next({userClosed:!1,receivedUrl:u.data}),this.cleanUp(o,i)};a.addEventListener("message",o,!1),this.handle=a.setInterval(()=>{this.popUp?.closed&&(this.resultInternal$.next({userClosed:!0,receivedUrl:""}),this.cleanUp(o,i))},200)}sendMessageToMainWindow(e,t){let i=this.windowInternal;if(i&&i.opener){let l=i.location.href;this.sendMessage(e,l,t)}}cleanUp(e,t){let i=this.windowInternal;i&&(i.removeEventListener("message",e,!1),i.clearInterval(this.handle),this.popUp&&(this.storagePersistenceService.remove(this.STORAGE_IDENTIFIER,t),this.popUp.close(),this.popUp=null))}sendMessage(e,t,i){let l=this.windowInternal;if(l){if(!e){this.loggerService.logDebug(i,`Can not send message to parent, no url: '${e}'`);return}l.opener.postMessage(e,t)}}getOptions(e){let t={width:500,height:500,left:50,top:50},i=z(z({},t),e||{}),l=this.windowInternal;if(!l)return"";let a=i.width||t.width,o=i.height||t.height,u=l.screenLeft+(l.outerWidth-a)/2,p=l.screenTop+(l.outerHeight-o)/2;return i.left=u,i.top=p,Object.entries(i).map(([C,v])=>`${encodeURIComponent(C)}=${encodeURIComponent(v)}`).join(",")}canAccessSessionStorage(){return typeof navigator<"u"&&navigator.cookieEnabled&&typeof Storage<"u"}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),ot=(()=>{let c=class c{constructor(){this.document=r(a1)}getStateParamFromCurrentUrl(e){let t=e||this.getCurrentUrl();if(!t)return null;let i=new URL(t);return new URLSearchParams(i.search).get("state")}getCurrentUrl(){return this.document?.defaultView?.location.toString()??null}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),U0=(()=>{let c=class c{constructor(){this.checkSessionService=r(O0),this.currentUrlService=r(ot),this.silentRenewService=r(_0),this.userService=r(d3),this.loggerService=r(R),this.authStateService=r(U1),this.callbackService=r(V5),this.refreshSessionService=r(H5),this.periodicallyTokenCheckService=r(at),this.popupService=r(w4),this.autoLoginService=r(gc),this.storagePersistenceService=r(u1),this.publicEventsService=r(Q2)}getConfig(e,t){let i=this.currentUrlService.getStateParamFromCurrentUrl(t);return i?this.getConfigurationWithUrlState([e],i):e}checkAuth(e,t,i){if(!e)return A(()=>new Error("Please provide a configuration before setting up the module"));this.publicEventsService.fireEvent(w1.CheckingAuth);let l=this.currentUrlService.getStateParamFromCurrentUrl(i);return this.getConfig(e,i)?this.checkAuthWithConfig(e,t,i):A(()=>new Error(`could not find matching config for state ${l}`))}checkAuthMultiple(e,t){let i=this.currentUrlService.getStateParamFromCurrentUrl(t);if(i){let o=this.getConfigurationWithUrlState(e,i);return o?this.composeMultipleLoginResults(e,o,t):A(()=>new Error(`could not find matching config for state ${i}`))}let l=e,a=l.map(o=>this.checkAuthWithConfig(o,l,t));return d2(a)}checkAuthIncludingServer(e,t){return e?this.checkAuthWithConfig(e,t).pipe(L(i=>{let{isAuthenticated:l}=i;return l?b(i):this.refreshSessionService.forceRefreshSession(e,t).pipe(H1(a=>{a?.isAuthenticated&&this.startCheckSessionAndValidation(e,t)}))})):A(()=>new Error("Please provide a configuration before setting up the module"))}checkAuthWithConfig(e,t,i){if(!e){let C="Please provide at least one configuration before setting up the module";return this.loggerService.logError(e,C),b({isAuthenticated:!1,errorMessage:C,userData:null,idToken:"",accessToken:"",configId:""})}let l=i||this.currentUrlService.getCurrentUrl();if(!l){let C="No URL found!";return this.loggerService.logError(e,C),b({isAuthenticated:!1,errorMessage:C,userData:null,idToken:"",accessToken:"",configId:""})}let{configId:a,authority:o}=e;if(this.loggerService.logDebug(e,`Working with config '${a}' using '${o}'`),this.popupService.isCurrentlyInPopup(e))return this.popupService.sendMessageToMainWindow(l,e),b({isAuthenticated:!1,errorMessage:"",userData:null,idToken:"",accessToken:"",configId:""});let u=this.callbackService.isCallback(l);return this.loggerService.logDebug(e,`currentUrl to check auth with: '${l}'`),(u?this.callbackService.handleCallbackAndFireEvents(l,e,t):b({})).pipe(k(()=>{let C=this.authStateService.areAuthStorageTokensValid(e);return this.loggerService.logDebug(e,`checkAuth completed. Firing events now. isAuthenticated: ${C}`),C&&(this.startCheckSessionAndValidation(e,t),u||(this.authStateService.setAuthenticatedAndFireEvent(t),this.userService.publishUserDataIfExists(e,t))),this.publicEventsService.fireEvent(w1.CheckingAuthFinished),{isAuthenticated:C,userData:this.userService.getUserDataFromStore(e),accessToken:this.authStateService.getAccessToken(e),idToken:this.authStateService.getIdToken(e),configId:a}}),H1(({isAuthenticated:C})=>{C&&this.autoLoginService.checkSavedRedirectRouteAndNavigate(e)}),h1(({message:C})=>(this.loggerService.logError(e,C),this.publicEventsService.fireEvent(w1.CheckingAuthFinishedWithError,C),b({isAuthenticated:!1,errorMessage:C,userData:null,idToken:"",accessToken:"",configId:a}))))}startCheckSessionAndValidation(e,t){this.checkSessionService.isCheckSessionConfigured(e)&&this.checkSessionService.start(e),this.periodicallyTokenCheckService.startTokenValidationPeriodically(t,e),this.silentRenewService.isSilentRenewConfigured(e)&&this.silentRenewService.getOrCreateIframe(e)}getConfigurationWithUrlState(e,t){if(!t)return null;for(let i of e)if(this.storagePersistenceService.read("authStateControl",i)===t)return i;return null}composeMultipleLoginResults(e,t,i){let l=e.filter(u=>u.configId!==t.configId),a=this.checkAuthWithConfig(t,e,i),o=l.map(u=>{let{redirectUrl:p}=u;return this.checkAuthWithConfig(u,e,p)});return d2([a,...o])}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),q0=(()=>{let c=class c{constructor(){this.document=r(a1)}redirectTo(e){this.document.location.href=e}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),B0=(()=>{let c=class c{constructor(){this.loggerService=r(R),this.flowHelper=r(x2)}hasConfigValidResponseType(e){return this.flowHelper.isCurrentFlowAnyImplicitFlow(e)||this.flowHelper.isCurrentFlowCodeFlow(e)?!0:(this.loggerService.logWarning(e,"module configured incorrectly, invalid response_type. Check the responseType in the config"),!1)}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),ft=(()=>{let c=class c{constructor(){this.loggerService=r(R),this.urlService=r(e2),this.dataService=r($2),this.storagePersistenceService=r(u1)}postParRequest(e,t){let i=new l3;i=i.set("Content-Type","application/x-www-form-urlencoded");let l=this.storagePersistenceService.read("authWellKnownEndPoints",e);if(!l)return A(()=>new Error("Could not read PAR endpoint because authWellKnownEndPoints are not given"));let a=l.parEndpoint;return a?this.urlService.createBodyForParCodeFlowRequest(e,t).pipe(L(o=>this.dataService.post(a,o,e,i).pipe(X2(2),k(u=>(this.loggerService.logDebug(e,"par response: ",u),{expiresIn:u.expires_in,requestUri:u.request_uri})),h1(u=>{let p="There was an error on ParService postParRequest";return this.loggerService.logError(e,p,u),A(()=>new Error(p))})))):A(()=>new Error("Could not read PAR endpoint from authWellKnownEndpoints"))}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),mt=(()=>{let c=class c{constructor(){this.loggerService=r(R),this.responseTypeValidationService=r(B0),this.urlService=r(e2),this.redirectService=r(q0),this.authWellKnownService=r(p3),this.popupService=r(w4),this.checkAuthService=r(U0),this.parService=r(ft)}loginPar(e,t){if(!this.responseTypeValidationService.hasConfigValidResponseType(e)){this.loggerService.logError(e,"Invalid response type!");return}this.loggerService.logDebug(e,"BEGIN Authorize OIDC Flow, no auth data"),this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(e).pipe(L(()=>this.parService.postParRequest(e,t))).subscribe(i=>{this.loggerService.logDebug(e,"par response: ",i);let l=this.urlService.getAuthorizeParUrl(i.requestUri,e);if(this.loggerService.logDebug(e,"par request url: ",l),!l){this.loggerService.logError(e,`Could not create URL with param ${i.requestUri}: '${l}'`);return}t?.urlHandler?t.urlHandler(l):this.redirectService.redirectTo(l)})}loginWithPopUpPar(e,t,i,l){let{configId:a}=e;if(!this.responseTypeValidationService.hasConfigValidResponseType(e)){let o="Invalid response type!";return this.loggerService.logError(e,o),A(()=>new Error(o))}return this.loggerService.logDebug(e,"BEGIN Authorize OIDC Flow with popup, no auth data"),this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(e).pipe(L(()=>this.parService.postParRequest(e,i)),L(o=>{this.loggerService.logDebug(e,`par response: ${o}`);let u=this.urlService.getAuthorizeParUrl(o.requestUri,e);if(this.loggerService.logDebug(e,"par request url: ",u),!u){let p=`Could not create URL with param ${o.requestUri}: 'url'`;return this.loggerService.logError(e,p),A(()=>new Error(p))}return this.popupService.openPopUp(u,l,e),this.popupService.result$.pipe(T2(1),L(p=>{let{userClosed:C,receivedUrl:v}=p;return C?b({isAuthenticated:!1,errorMessage:"User closed popup",userData:null,idToken:"",accessToken:"",configId:a}):this.checkAuthService.checkAuth(e,t,v)}))}))}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),ut=(()=>{let c=class c{constructor(){this.loggerService=r(R),this.responseTypeValidationService=r(B0),this.urlService=r(e2),this.authWellKnownService=r(p3),this.popupService=r(w4),this.checkAuthService=r(U0)}loginWithPopUpStandard(e,t,i,l){let{configId:a}=e;if(!this.responseTypeValidationService.hasConfigValidResponseType(e)){let o="Invalid response type!";return this.loggerService.logError(e,o),A(()=>new Error(o))}return this.loggerService.logDebug(e,"BEGIN Authorize OIDC Flow with popup, no auth data"),this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(e).pipe(L(()=>this.urlService.getAuthorizeUrl(e,i)),H1(o=>this.popupService.openPopUp(o,l,e)),L(()=>this.popupService.result$.pipe(T2(1),L(o=>{let{userClosed:u,receivedUrl:p}=o;return u?b({isAuthenticated:!1,errorMessage:"User closed popup",userData:null,idToken:"",accessToken:"",configId:a}):this.checkAuthService.checkAuth(e,t,p)}))))}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),dt=(()=>{let c=class c{constructor(){this.loggerService=r(R),this.responseTypeValidationService=r(B0),this.urlService=r(e2),this.redirectService=r(q0),this.authWellKnownService=r(p3),this.flowsDataService=r(k1)}loginStandard(e,t){if(!this.responseTypeValidationService.hasConfigValidResponseType(e)){this.loggerService.logError(e,"Invalid response type!");return}this.loggerService.logDebug(e,"BEGIN Authorize OIDC Flow, no auth data"),this.flowsDataService.setCodeFlowInProgress(e),this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(e).subscribe(()=>{let{urlHandler:i}=t||{};this.flowsDataService.resetSilentRenewRunning(e),this.urlService.getAuthorizeUrl(e,t).subscribe(l=>{if(!l){this.loggerService.logError(e,"Could not create URL",l);return}i?i(l):this.redirectService.redirectTo(l)})})}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),pt=(()=>{let c=class c{constructor(){this.parLoginService=r(mt),this.popUpLoginService=r(ut),this.standardLoginService=r(dt),this.storagePersistenceService=r(u1),this.popupService=r(w4)}login(e,t){if(!e)throw new Error("Please provide a configuration before setting up the module");let{usePushedAuthorisationRequests:i}=e;return t?.customParams&&this.storagePersistenceService.write("storageCustomParamsAuthRequest",t.customParams,e),i?this.parLoginService.loginPar(e,t):this.standardLoginService.loginStandard(e,t)}loginWithPopUp(e,t,i,l){if(!e)throw new Error("Please provide a configuration before setting up the module");if(this.popupService.isCurrentlyInPopup(e))return b({errorMessage:"There is already a popup open."});let{usePushedAuthorisationRequests:o}=e;return i?.customParams&&this.storagePersistenceService.write("storageCustomParamsAuthRequest",i.customParams,e),o?this.parLoginService.loginWithPopUpPar(e,t,i,l):this.popUpLoginService.loginWithPopUpStandard(e,t,i,l)}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})();function R5(s){return s.reduce((c,n)=>c.concat(Array.isArray(n)?R5(n):n),[])}var ht=(()=>{let c=class c{getConfigIdForClosestMatchingRoute(e,t){for(let i of t){let{secureRoutes:l}=i;for(let a of l??[])if(e.startsWith(a))return{matchingRoute:a,matchingConfig:i}}return{matchingRoute:null,matchingConfig:null}}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})();function _5(){return(s,c)=>zt(s,c,{configurationService:r(R0),authStateService:r(U1),closestMatchingRouteService:r(ht),loggerService:r(R)})}function zt(s,c,n){if(!n.configurationService.hasAtLeastOneConfig())return c(s);let e=n.configurationService.getAllConfigurations(),t=e.map(u=>u.secureRoutes||[]);if(R5(t).length===0)return n.loggerService.logDebug(e[0],"No routes to check configured"),c(s);let{matchingConfig:l,matchingRoute:a}=n.closestMatchingRouteService.getConfigIdForClosestMatchingRoute(s.url,e);if(!l)return n.loggerService.logDebug(e[0],`Did not find any configured route for route ${s.url}`),c(s);n.loggerService.logDebug(l,`'${s.url}' matches configured route '${a}'`);let o=n.authStateService.getAccessToken(l);return o?(n.loggerService.logDebug(l,`'${s.url}' matches configured route '${a}', adding token`),s=s.clone({headers:s.headers.set("Authorization","Bearer "+o)}),c(s)):(n.loggerService.logDebug(l,`Wanted to add token to ${s.url} but found no token: '${o}'`),c(s))}function Ct(s){let c=z({},s);for(let n in s)(s[n]===void 0||s[n]===null)&&delete c[n];return c}var Lt=(()=>{let c=class c{constructor(){this.loggerService=r(R),this.dataService=r($2),this.storagePersistenceService=r(u1),this.urlService=r(e2),this.checkSessionService=r(O0),this.resetAuthDataService=r(N2),this.redirectService=r(q0)}logoff(e,t,i){if(!e)return A(()=>new Error("Please provide a configuration before setting up the module"));this.loggerService.logDebug(e,"logoff, remove auth",i);let{urlHandler:l,customParams:a}=i||{},o=this.urlService.getEndSessionUrl(e,a);return o?this.checkSessionService.serverStateChanged(e)?(this.loggerService.logDebug(e,"Server State changed. Logoff was only locally. Returning."),b(null)):l?(this.loggerService.logDebug(e,`Custom UrlHandler found. Using this to handle logoff with url '${o}'`),l(o),this.resetAuthDataService.resetAuthorizationData(e,t),b(null)):this.logoffInternal(i,o,e,t):(this.loggerService.logDebug(e,"No endsessionUrl present. Logoff was only locally. Returning."),b(null))}logoffLocal(e,t){this.resetAuthDataService.resetAuthorizationData(e,t),this.checkSessionService.stop()}logoffLocalMultiple(e){e.forEach(t=>this.logoffLocal(t,e))}logoffAndRevokeTokens(e,t,i){if(!e)return A(()=>new Error("Please provide a configuration before setting up the module"));let{revocationEndpoint:l}=this.storagePersistenceService.read("authWellKnownEndPoints",e)||{};return l?this.storagePersistenceService.getRefreshToken(e)?this.revokeRefreshToken(e).pipe(L(a=>this.revokeAccessToken(e)),h1(a=>{let o="revoke token failed";return this.loggerService.logError(e,o,a),A(()=>new Error(o))}),G(()=>this.logoff(e,t,i))):this.revokeAccessToken(e).pipe(h1(a=>{let o="revoke accessToken failed";return this.loggerService.logError(e,o,a),A(()=>new Error(o))}),G(()=>this.logoff(e,t,i))):(this.loggerService.logDebug(e,"revocation endpoint not supported"),this.logoff(e,t,i))}revokeAccessToken(e,t){if(!e)return A(()=>new Error("Please provide a configuration before setting up the module"));let i=t||this.storagePersistenceService.getAccessToken(e),l=this.urlService.createRevocationEndpointBodyAccessToken(i,e);return this.sendRevokeRequest(e,l)}revokeRefreshToken(e,t){if(!e)return A(()=>new Error("Please provide a configuration before setting up the module"));let i=t||this.storagePersistenceService.getRefreshToken(e),l=this.urlService.createRevocationEndpointBodyRefreshToken(i,e);return this.sendRevokeRequest(e,l)}logoffInternal(e,t,i,l){let{logoffMethod:a,customParams:o}=e||{};if(!a||a==="GET")return this.redirectService.redirectTo(t),this.resetAuthDataService.resetAuthorizationData(i,l),b(null);let{state:u,logout_hint:p,ui_locales:C}=o||{},{clientId:v}=i,P=this.storagePersistenceService.getIdToken(i),Q=this.urlService.getPostLogoutRedirectUrl(i),V=this.getHeaders(),{url:p1}=this.urlService.getEndSessionEndpoint(i),o1=Ct({id_token_hint:P,client_id:v,post_logout_redirect_uri:Q,state:u,logout_hint:p,ui_locales:C});return this.resetAuthDataService.resetAuthorizationData(i,l),this.dataService.post(p1,o1,i,V)}sendRevokeRequest(e,t){let i=this.urlService.getRevocationEndpointUrl(e),l=this.getHeaders();return this.dataService.post(i,t,e,l).pipe(X2(2),L(a=>(this.loggerService.logDebug(e,"revocation endpoint post response: ",a),b(a))),h1(a=>{let o="Revocation request failed";return this.loggerService.logError(e,o,a),A(()=>new Error(o))}))}getHeaders(){let e=new l3;return e=e.set("Content-Type","application/x-www-form-urlencoded"),e}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),O5=(()=>{let c=class c{constructor(){this.checkSessionService=r(O0),this.checkAuthService=r(U0),this.userService=r(d3),this.tokenHelperService=r(b4),this.configurationService=r(R0),this.authStateService=r(U1),this.flowsDataService=r(k1),this.callbackService=r(V5),this.logoffRevocationService=r(Lt),this.loginService=r(pt),this.refreshSessionService=r(H5),this.urlService=r(e2),this.authWellKnownService=r(p3),this.userData=N1(this.userData$,{requireSync:!0}),this.authenticated=N1(this.isAuthenticated$,{requireSync:!0})}get userData$(){return this.userService.userData$}get isAuthenticated$(){return this.authStateService.authenticated$}get checkSessionChanged$(){return this.checkSessionService.checkSessionChanged$}get stsCallback$(){return this.callbackService.stsCallback$}preloadAuthWellKnownDocument(e){return this.configurationService.getOpenIDConfiguration(e).pipe(G(t=>this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(t)))}getConfigurations(){return this.configurationService.getAllConfigurations()}getConfiguration(e){return this.configurationService.getOpenIDConfiguration(e)}getUserData(e){return this.configurationService.getOpenIDConfiguration(e).pipe(k(t=>this.userService.getUserDataFromStore(t)))}checkAuth(e,t){return this.configurationService.getOpenIDConfigurations(t).pipe(G(({allConfigs:i,currentConfig:l})=>this.checkAuthService.checkAuth(l,i,e)))}checkAuthMultiple(e){return this.configurationService.getOpenIDConfigurations().pipe(G(({allConfigs:t})=>this.checkAuthService.checkAuthMultiple(t,e)))}isAuthenticated(e){return this.configurationService.getOpenIDConfiguration(e).pipe(k(t=>this.authStateService.isAuthenticated(t)))}checkAuthIncludingServer(e){return this.configurationService.getOpenIDConfigurations(e).pipe(G(({allConfigs:t,currentConfig:i})=>this.checkAuthService.checkAuthIncludingServer(i,t)))}getAccessToken(e){return this.configurationService.getOpenIDConfiguration(e).pipe(k(t=>this.authStateService.getAccessToken(t)))}getIdToken(e){return this.configurationService.getOpenIDConfiguration(e).pipe(k(t=>this.authStateService.getIdToken(t)))}getRefreshToken(e){return this.configurationService.getOpenIDConfiguration(e).pipe(k(t=>this.authStateService.getRefreshToken(t)))}getAuthenticationResult(e){return this.configurationService.getOpenIDConfiguration(e).pipe(k(t=>this.authStateService.getAuthenticationResult(t)))}getPayloadFromIdToken(e=!1,t){return this.configurationService.getOpenIDConfiguration(t).pipe(k(i=>{let l=this.authStateService.getIdToken(i);return this.tokenHelperService.getPayloadFromToken(l,e,i)}))}getPayloadFromAccessToken(e=!1,t){return this.configurationService.getOpenIDConfiguration(t).pipe(k(i=>{let l=this.authStateService.getAccessToken(i);return this.tokenHelperService.getPayloadFromToken(l,e,i)}))}setState(e,t){return this.configurationService.getOpenIDConfiguration(t).pipe(k(i=>this.flowsDataService.setAuthStateControl(e,i)))}getState(e){return this.configurationService.getOpenIDConfiguration(e).pipe(k(t=>this.flowsDataService.getAuthStateControl(t)))}authorize(e,t){this.configurationService.getOpenIDConfiguration(e).subscribe(i=>this.loginService.login(i,t))}authorizeWithPopUp(e,t,i){return this.configurationService.getOpenIDConfigurations(i).pipe(G(({allConfigs:l,currentConfig:a})=>this.loginService.loginWithPopUp(a,l,e,t)))}forceRefreshSession(e,t){return this.configurationService.getOpenIDConfigurations(t).pipe(G(({allConfigs:i,currentConfig:l})=>this.refreshSessionService.userForceRefreshSession(l,i,e)))}logoffAndRevokeTokens(e,t){return this.configurationService.getOpenIDConfigurations(e).pipe(G(({allConfigs:i,currentConfig:l})=>this.logoffRevocationService.logoffAndRevokeTokens(l,i,t)))}logoff(e,t){return this.configurationService.getOpenIDConfigurations(e).pipe(G(({allConfigs:i,currentConfig:l})=>this.logoffRevocationService.logoff(l,i,t)))}logoffLocal(e){this.configurationService.getOpenIDConfigurations(e).subscribe(({allConfigs:t,currentConfig:i})=>this.logoffRevocationService.logoffLocal(i,t))}logoffLocalMultiple(){this.configurationService.getOpenIDConfigurations().subscribe(({allConfigs:e})=>this.logoffRevocationService.logoffLocalMultiple(e))}revokeAccessToken(e,t){return this.configurationService.getOpenIDConfiguration(t).pipe(G(i=>this.logoffRevocationService.revokeAccessToken(i,e)))}revokeRefreshToken(e,t){return this.configurationService.getOpenIDConfiguration(t).pipe(G(i=>this.logoffRevocationService.revokeRefreshToken(i,e)))}getEndSessionUrl(e,t){return this.configurationService.getOpenIDConfiguration(t).pipe(k(i=>this.urlService.getEndSessionUrl(i,e)))}getAuthorizeUrl(e,t){return this.configurationService.getOpenIDConfiguration(t).pipe(G(i=>this.urlService.getAuthorizeUrl(i,e?{customParams:e}:void 0)))}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})();var w2=(()=>{class s{http=r(Q1);oidcSecurityService=r(O5);connectedUserQuery;notConnected="NOT_CONNECTED";fetch(){return f1(()=>({queryKey:["connected-user"],queryFn:()=>M6(this.fetchUserHttp(!1))}))}fetchUserHttp(n){let e=new i2().set("forceResync",n);return this.http.get(`${t1.apiUrl}/users/authenticated`,{params:e})}login(){this.oidcSecurityService.authorize()}logout(){this.oidcSecurityService.logoff().subscribe()}initAuthentication(){this.oidcSecurityService.checkAuth().subscribe(n=>{n.isAuthenticated?console.log("connected"):console.log("not connected")})}hasAnyAuthorities(n,e){return Array.isArray(e)||(e=[e]),n.authorities?n.authorities.some(t=>e.includes(t)):!1}static \u0275fac=function(e){return new(e||s)};static \u0275prov=M({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function k4(s,c,n){!c&&R1(s);let e=c??r(t3);return n?c3(e,n):e}function U5(s){return function(e={}){var t=e,{injector:c}=t,n=L6(t,["injector"]);return c=k4(this,c),c3(c,()=>r(s,n))}}function q5(s,c,n={}){let{deps:e=[],multi:t=!1,extraProviders:i=[],isFunctionValue:l=!1}=n;return(a,o=l)=>{let u;return typeof a<"u"?u={provide:s,useFactory:typeof a=="function"?o?()=>a:a:()=>a,multi:t}:u={provide:s,useFactory:c,deps:e,multi:t},[i,u]}}function B5(s,c){let n=s.name||s.toString(),e=c??{isRoot:!0};if(e.isRoot??=!0,e.multi&&(e.isRoot=!1),e.isRoot){if(e.token)throw new Error(`createInjectionToken is creating a root InjectionToken but an external token is passed in.
`);let i=new D(`Token for ${n}`,{factory:()=>e.deps&&Array.isArray(e.deps)?s(...e.deps.map(a=>(a=Array.isArray(a)?a.at(-1):a,r(a)))):s()}),l=U5(i);return[l,q5(i,s,e),i,()=>({provide:x6,useValue:()=>l(),multi:!0})]}let t=e.token||new D(`Token for ${n}`);return[U5(t),q5(t,s,e),t,()=>[]]}var j0=s=>(s=k4(j0,s),c3(s,()=>{let c=r(O2),n=new Y2(1);return c.onDestroy(()=>{n.next(),n.complete()}),Object.assign(n,{onDestroy:c.onDestroy.bind(c)}),n}));var[Mt]=B5(()=>{let s=new u2,[c,n]=[r(s3),r(a1)];return c.runOutsideAngular(()=>{c4(n,"click").subscribe(s)}),s}),j5=(()=>{let c=class c{constructor(){this.ngZone=r(s3),this.elementRef=r(j1),this.documentClick$=Mt(),this.destroy$=j0(),this.clickOutside=new s2}ngOnInit(){this.documentClick$.pipe(l4(this.destroy$),V1(e=>!this.elementRef.nativeElement.contains(e.target))).subscribe(e=>{this.ngZone.run(()=>this.clickOutside.emit(e))})}};c.\u0275fac=function(t){return new(t||c)},c.\u0275dir=X({type:c,selectors:[["","clickOutside",""]],outputs:{clickOutside:"clickOutside"},standalone:!0});let s=c;return s})();var k2=(()=>{class s{platformId=r(m1);http=r(Q1);keyCartStorage="cart";keySessionId="stripe-session-id";addedToCart$=new F1([]);addedToCart=this.addedToCart$.asObservable();constructor(){let n=this.getCartFromLocalStorage();this.addedToCart$.next(n)}getCartFromLocalStorage(){if($(this.platformId)){let n=localStorage.getItem(this.keyCartStorage);return n?JSON.parse(n):[]}else return[]}addToCart(n,e){if($(this.platformId)){let t={publicId:n,quantity:1},i=this.getCartFromLocalStorage();if(i.length!==0){let l=i.find(a=>a.publicId===n);l?e==="add"?l.quantity++:e==="remove"&&l.quantity--:i.push(t)}else i.push(t);localStorage.setItem(this.keyCartStorage,JSON.stringify(i)),this.addedToCart$.next(i)}}removeFromCart(n){if($(this.platformId)){let e=this.getCartFromLocalStorage(),t=e.find(i=>i.publicId===n);t&&(e.splice(e.indexOf(t),1),localStorage.setItem(this.keyCartStorage,JSON.stringify(e)),this.addedToCart$.next(e))}}getCartDetail(){let n=this.getCartFromLocalStorage(),e=n.reduce((t,i)=>`${t}${t.length>0?",":""}${i.publicId}`,"");return this.http.get(`${t1.apiUrl}/orders/get-cart-details`,{params:{productIds:e}}).pipe(k(t=>this.mapQuantity(t,n)))}mapQuantity(n,e){for(let t of e){let i=n.products.find(l=>l.publicId===t.publicId);i&&(i.quantity=t.quantity)}return n}initPaymentSession(n){return this.http.post(`${t1.apiUrl}/orders/init-payment`,n)}storeSessionId(n){$(this.platformId)&&localStorage.setItem(this.keySessionId,n)}getSessionId(){if($(this.platformId)){let n=localStorage.getItem(this.keySessionId);if(n)return n}return""}deleteSessionId(){$(this.platformId)&&localStorage.removeItem(this.keySessionId)}clearCart(){$(this.platformId)&&(localStorage.removeItem(this.keyCartStorage),this.addedToCart$.next([]))}static \u0275fac=function(e){return new(e||s)};static \u0275prov=M({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var gt=(s,c)=>c.publicId,vt=()=>["fas","cart-shopping"],St=()=>["products"],yt=s=>({category:s}),bt=()=>["fas","user"];function xt(s,c){if(s&1){let n=A1();f(0,"li")(1,"a",20),_("click",function(){n1(n);let t=F(2),i=n2(13);return i1(t.closeMenu(i))})("clickOutside",function(){n1(n);let t=F(2),i=n2(13);return i1(t.closeMenu(i))}),d(2),m()()}if(s&2){let n=c.$implicit;h(),w("routerLink",l1(3,St))("queryParams",$1(4,yt,n.publicId)),h(),I(n.name)}}function Nt(s,c){if(s&1&&e1(0,xt,3,6,"li",null,gt),s&2){let n=F();c1(n.categoryQuery.data().content)}}function wt(s,c){if(s&1){let n=A1();f(0,"li")(1,"details",null,1)(3,"summary"),d(4,"Admin"),m(),f(5,"ul",10)(6,"li")(7,"a",21),_("click",function(){n1(n);let t=n2(2),i=F();return i1(i.closeMenu(t))})("clickOutside",function(){n1(n);let t=n2(2),i=F();return i1(i.closeMenu(t))}),d(8,"Categories"),m()(),f(9,"li")(10,"a",22),_("click",function(){n1(n);let t=n2(2),i=F();return i1(i.closeMenu(t))})("clickOutside",function(){n1(n);let t=n2(2),i=F();return i1(i.closeMenu(t))}),d(11,"Products"),m()(),f(12,"li")(13,"a",23),_("click",function(){n1(n);let t=n2(2),i=F();return i1(i.closeMenu(t))})("clickOutside",function(){n1(n);let t=n2(2),i=F();return i1(i.closeMenu(t))}),d(14,"Orders"),m()()()()()}}function kt(s,c){if(s&1&&(f(0,"div",14),g(1,"img",24),m()),s&2){let n,e=F();h(),W1("src",e.connectedUserQuery==null||(n=e.connectedUserQuery.data())==null?null:n.imageUrl,n3)}}function At(s,c){s&1&&g(0,"fa-icon",15),s&2&&w("icon",l1(1,bt))}function Et(s,c){if(s&1){let n=A1();f(0,"ul",16)(1,"li")(2,"button",25),_("click",function(){n1(n);let t=F();return i1(t.closeDropDownMenu())}),d(3,"My Orders"),m()(),f(4,"li")(5,"button",26),_("click",function(){n1(n);let t=F();return i1(t.logout())}),d(6,"Logout"),m()()()}}function It(s,c){if(s&1){let n=A1();f(0,"ul",16)(1,"li")(2,"button",26),_("click",function(){n1(n);let t=F();return i1(t.login())}),d(3,"Login"),m()()()}}var W5=(()=>{class s{oauth2Service=r(w2);productService=r(a3);cartService=r(k2);nbItemsInCart=0;connectedUserQuery=this.oauth2Service.connectedUserQuery;categoryQuery=f1(()=>({queryKey:["categories"],queryFn:()=>K(this.productService.findAllCategories())}));login(){this.closeDropDownMenu(),this.oauth2Service.login()}logout(){this.closeDropDownMenu(),this.oauth2Service.logout()}isConnected(){return this.connectedUserQuery?.status()==="success"&&this.connectedUserQuery?.data()?.email!==this.oauth2Service.notConnected}closeDropDownMenu(){let n=document.activeElement;n&&n.blur()}closeMenu(n){n.removeAttribute("open")}ngOnInit(){this.listenToCart()}listenToCart(){this.cartService.addedToCart.subscribe(n=>{this.nbItemsInCart=n.reduce((e,t)=>e+t.quantity,0)})}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=O({type:s,selectors:[["ecom-navbar"]],standalone:!0,features:[U],decls:32,vars:7,consts:[["productsMenu",""],["adminMenu",""],[1,"navbar","bg-base-100"],[1,"navbar-start"],[1,"dropdown"],[1,"btn","btn-ghost","text-xl"],["routerLink","/",1,"border-1","bg-secondary","logo","p-2","rounded-xl"],[1,"navbar-center","flex"],[1,"menu","menu-sm","sm:menu-lg","menu-horizontal","px-1"],["href","/"],[1,"z-30"],[1,"navbar-end","pe-4","flex","align-items-center"],[1,"dropdown","dropdown-end","pe-4"],["tabindex","0","role","button"],[1,"border","border-solid","rounded-full"],[1,"menu-icon",3,"icon"],[1,"dropdown-content","menu","menu-lg","bg-base-100","rounded-box","z-10","w-52","p-2","shadow"],["routerLink","/cart",1,"dropdown","dropdown-end","me-2"],[1,"indicator"],[1,"indicator-item","badge","badge-primary"],[3,"click","clickOutside","routerLink","queryParams"],["routerLink","admin/categories/list",3,"click","clickOutside"],["routerLink","admin/products/list",3,"click","clickOutside"],["routerLink","admin/orders/list",3,"click","clickOutside"],["alt","user-avatar","width","45px",1,"avatar-unknown","rounded-full",3,"src"],["routerLink","/users/orders",1,"link",3,"click"],[1,"link",3,"click"]],template:function(e,t){if(e&1&&(f(0,"div",2)(1,"div",3)(2,"div",4)(3,"a",5)(4,"div",6),d(5,"EC"),m()()()(),f(6,"div",7)(7,"div",8)(8,"li")(9,"a",9),d(10,"Home"),m()(),f(11,"li")(12,"details",null,0)(14,"summary"),d(15,"Products"),m(),f(16,"ul",10),T(17,Nt,2,0),m()()(),T(18,wt,15,0,"li"),m()(),f(19,"div",11)(20,"div",12)(21,"div",13),T(22,kt,2,1,"div",14)(23,At,1,2,"fa-icon",15),m(),T(24,Et,7,0,"ul",16)(25,It,4,0,"ul",16),m(),f(26,"div",17)(27,"div",13)(28,"div",18)(29,"span",19),d(30),m(),g(31,"fa-icon",15),m()()()()()),e&2){let i;h(17),B(t.categoryQuery.isSuccess()&&t.categoryQuery.data()?17:-1),h(),B((t.connectedUserQuery==null?null:t.connectedUserQuery.status())==="success"&&t.oauth2Service.hasAnyAuthorities(t.connectedUserQuery==null?null:t.connectedUserQuery.data(),"ROLE_ADMIN")?18:-1),h(4),B(t.isConnected()&&(t.connectedUserQuery==null||(i=t.connectedUserQuery.data())==null?null:i.imageUrl)!==null?22:23),h(2),B(t.isConnected()?24:25),h(6),I(t.nbItemsInCart),h(),w("icon",l1(6,vt))}},dependencies:[j,Z1,C1,j5],styles:[".menu-icon[_ngcontent-%COMP%]{font-size:1.8rem}"]})}return s})();var Pt=()=>["fas","truck-fast"],Vt=()=>["fab","twitter"],Dt=()=>["fab","youtube"],Tt=()=>["fab","facebook"],G5=(()=>{class s{static \u0275fac=function(e){return new(e||s)};static \u0275cmp=O({type:s,selectors:[["ecom-footer"]],standalone:!0,features:[U],decls:47,vars:8,consts:[[1,"footer","bg-secondary","border-2","border-t","text-base-content","p-10"],[1,"footer-title"],["href","#",1,"link","link-hover"],[1,"footer","bg-secondary","text-base-content","px-10","py-4"],[1,"grid-flow-col","items-center"],["size","3x",1,"pe-3",3,"icon"],[1,"md:place-self-center","md:justify-self-end"],[1,"grid","grid-flow-col","gap-4"],["href","#","aria-label","Twitter shop"],["size","2x",3,"icon"],["href","#","aria-label","Youtube shop"],["href","#","aria-label","Facebook shop"]],template:function(e,t){e&1&&(f(0,"footer",0)(1,"nav")(2,"h6",1),d(3,"Help"),m(),f(4,"a",2),d(5,"Shipping"),m(),f(6,"a",2),d(7,"Returns + Exchanges"),m(),f(8,"a",2),d(9,"FAQ"),m(),f(10,"a",2),d(11,"Compare"),m()(),f(12,"nav")(13,"h6",1),d(14,"Company"),m(),f(15,"a",2),d(16,"About us"),m(),f(17,"a",2),d(18,"Contact"),m(),f(19,"a",2),d(20,"Jobs"),m(),f(21,"a",2),d(22,"Press kit"),m()(),f(23,"nav")(24,"h6",1),d(25,"Legal"),m(),f(26,"a",2),d(27,"Terms of use"),m(),f(28,"a",2),d(29,"Privacy policy"),m(),f(30,"a",2),d(31,"Cookie policy"),m()()(),f(32,"footer",3)(33,"aside",4),g(34,"fa-icon",5),f(35,"p"),d(36," CodeCake Ltd. "),g(37,"br"),d(38," Providing Ecommerce solutions "),m()(),f(39,"nav",6)(40,"div",7)(41,"a",8),g(42,"fa-icon",9),m(),f(43,"a",10),g(44,"fa-icon",9),m(),f(45,"a",11),g(46,"fa-icon",9),m()()()()),e&2&&(h(34),w("icon",l1(4,Pt)),h(8),w("icon",l1(5,Vt)),h(2),w("icon",l1(6,Dt)),h(2),w("icon",l1(7,Tt)))},dependencies:[j,C1]})}return s})();var v1=(()=>{class s{toasts=[];show(n,e,t=5e3){let i={body:n,type:e};this.toasts.push(i),b(i).pipe(S6(t)).subscribe(()=>this.remove(i))}remove(n){this.toasts=this.toasts.filter(e=>e!=n)}static \u0275fac=function(e){return new(e||s)};static \u0275prov=M({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var Ft=(s,c)=>({"alert-error":s,"alert-success":c}),Ht=()=>["fas","xmark"],Rt=()=>["fas","check"];function _t(s,c){s&1&&g(0,"fa-icon",5),s&2&&w("icon",l1(1,Ht))}function Ot(s,c){s&1&&g(0,"fa-icon",5),s&2&&w("icon",l1(1,Rt))}function Ut(s,c){if(s&1&&(f(0,"div",1),T(1,_t,1,2,"fa-icon",5)(2,Ot,1,2,"fa-icon",5),f(3,"div"),d(4),m()()),s&2){let n=c.$implicit;w("ngClass",R6(4,Ft,n.type==="ERROR",n.type==="SUCCESS")),h(),B(n.type==="ERROR"?1:-1),h(),B(n.type==="SUCCESS"?2:-1),h(2),I(n.body)}}var $5=(()=>{class s{faIconLibrary=r(E0);faConfig=r(A0);oauth2Service=r(w2);toastService=r(v1);platformId=r(m1);constructor(){$(this.platformId)&&this.oauth2Service.initAuthentication(),this.oauth2Service.connectedUserQuery=this.oauth2Service.fetch()}ngOnInit(){this.initFontAwesome()}initFontAwesome(){this.faConfig.defaultPrefix="far",this.faIconLibrary.addIcons(...M5)}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=O({type:s,selectors:[["ecom-root"]],standalone:!0,features:[U],decls:9,vars:0,consts:[["role","alert",1,"absolute","z-30","top-0","right-0","me-4"],["role","alert",1,"alert","my-4","flex","justify-start","items-center",3,"ngClass"],[1,"flex","flex-col","min-h-screen"],[1,"container","mx-auto","py-7","grow","h-full"],[1,"mx-5"],["size","2x",1,"mt-1",3,"icon"]],template:function(e,t){e&1&&(f(0,"div",0),e1(1,Ut,5,7,"div",1,i3),m(),f(3,"div",2),g(4,"ecom-navbar"),f(5,"div",3)(6,"div",4),g(7,"router-outlet"),m()(),g(8,"ecom-footer"),m()),e&2&&(h(),c1(t.toastService.toasts))},dependencies:[c8,X6,C1,W5,G5,q6]})}return s})();var A2=(()=>{class s{http=r(Q1);createCategory(n){return this.http.post(`${t1.apiUrl}/categories`,n)}deleteCategory(n){let e=new i2().set("publicId",n);return this.http.delete(`${t1.apiUrl}/categories`,{params:e})}findAllCategories(){return this.http.get(`${t1.apiUrl}/categories`)}createProduct(n){let e=new FormData;for(let i=0;i<n.pictures.length;++i)e.append("picture-"+i,n.pictures[i].file);let t=structuredClone(n);return t.pictures=[],e.append("dto",JSON.stringify(t)),this.http.post(`${t1.apiUrl}/products`,e)}deleteProduct(n){let e=new i2().set("publicId",n);return this.http.delete(`${t1.apiUrl}/products`,{params:e})}findAllProducts(n){let e=V3(n);return this.http.get(`${t1.apiUrl}/products`,{params:e})}static \u0275fac=function(e){return new(e||s)};static \u0275prov=M({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var qt=(s,c)=>c.publicId,Bt=()=>["fas","circle-exclamation"];function jt(s,c){if(s&1){let n=A1();f(0,"tr",9)(1,"th"),d(2),m(),f(3,"td"),d(4),m(),f(5,"td"),d(6),m(),f(7,"td")(8,"div",11),_("click",function(){let t=n1(n).$implicit,i=F(2);return i1(i.deleteCategory(t.publicId))}),d(9," Delete "),m()()()}if(s&2){let n=c.$implicit,e=c.$index;h(2),I(e),h(2),I(n.publicId),h(2),I(n.name)}}function Wt(s,c){if(s&1&&(f(0,"div",4)(1,"table",8)(2,"thead",9)(3,"tr",9),g(4,"th"),f(5,"th"),d(6,"Public Id"),m(),f(7,"th"),d(8,"Name"),m(),f(9,"th"),d(10,"Actions"),m()()(),f(11,"tbody",10),e1(12,jt,10,3,"tr",9,qt),m()()()),s&2){let n=F();h(12),c1(n.categoriesQuery.data().content)}}function Gt(s,c){s&1&&(f(0,"div",5),g(1,"span",12),m())}function $t(s,c){s&1&&(f(0,"div",6)(1,"span"),d(2,"Error! Failed to load categories."),m()())}function Qt(s,c){s&1&&(f(0,"div",7),g(1,"fa-icon",13),f(2,"span"),d(3,"No category created yet."),m()()),s&2&&(h(),w("icon",l1(1,Bt)))}var Q5=(()=>{class s{productAdminService=r(A2);toastService=r(v1);queryClient=f4();constructor(){z1(()=>this.handleCategoriesQueryError())}categoriesQuery=f1(()=>({queryKey:["categories"],queryFn:()=>K(this.productAdminService.findAllCategories())}));deleteMutation=K1(()=>({mutationFn:n=>K(this.productAdminService.deleteCategory(n)),onSuccess:()=>this.onDeletionSuccess(),onError:()=>this.onDeletionError()}));onDeletionSuccess(){this.queryClient.invalidateQueries({queryKey:["categories"]}),this.toastService.show("Category deleted","SUCCESS")}onDeletionError(){this.toastService.show("Issue when deleting category","ERROR")}handleCategoriesQueryError(){this.categoriesQuery.isError()&&this.toastService.show("Error! Failed to load categories. please try again.","ERROR")}deleteCategory(n){this.deleteMutation.mutate(n)}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=O({type:s,selectors:[["ecom-admin-categories"]],standalone:!0,features:[U],decls:13,vars:1,consts:[[1,"w-full","flex","justify-between","items-center"],[1,"text-2xl","font-bold"],["routerLink","/admin/categories/create",1,"btn","btn-primary"],[1,"border-t","w-full","border-solid","border-gray-300","mt-3","mb-5"],[1,"overflow-x-auto","border","border-gray-300","rounded-md"],[1,"flex","w-full","justify-center"],[1,"alert","alert-error"],["role","alert",1,"alert","alert-info"],[1,"table","table-lg","table-zebra"],[1,"border-gray-300"],[1,"border-0"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"loading","loading-spinner","loading-lg"],["size","2x",3,"icon"]],template:function(e,t){e&1&&(f(0,"div",0)(1,"div")(2,"h1",1),d(3,"Categories"),m(),f(4,"div"),d(5,"Add and delete categories"),m()(),f(6,"button",2),d(7," Create categories "),m()(),g(8,"div",3),T(9,Wt,14,0,"div",4)(10,Gt,2,0,"div",5)(11,$t,3,0,"div",6)(12,Qt,4,2,"div",7)),e&2&&(h(9),B(t.categoriesQuery.isSuccess()&&t.categoriesQuery.data().content.length!==0?9:t.categoriesQuery.isPending()?10:t.categoriesQuery.isError()?11:t.categoriesQuery.data().content.length===0?12:-1))},dependencies:[j,Z1,C1]})}return s})();var s7=(()=>{let c=class c{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}};c.\u0275fac=function(t){return new(t||c)(H(z2),H(j1))},c.\u0275dir=X({type:c});let s=c;return s})(),v3=(()=>{let c=class c extends s7{};c.\u0275fac=(()=>{let e;return function(i){return(e||(e=_2(c)))(i||c)}})(),c.\u0275dir=X({type:c,features:[b1]});let s=c;return s})(),Z2=new D(""),Kt={provide:Z2,useExisting:B1(()=>Q3),multi:!0},Q3=(()=>{let c=class c extends v3{writeValue(e){this.setProperty("checked",e)}};c.\u0275fac=(()=>{let e;return function(i){return(e||(e=_2(c)))(i||c)}})(),c.\u0275dir=X({type:c,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,i){t&1&&_("change",function(a){return i.onChange(a.target.checked)})("blur",function(){return i.onTouched()})},features:[G1([Kt]),b1]});let s=c;return s})(),Yt={provide:Z2,useExisting:B1(()=>V2),multi:!0};function Xt(){let s=Z4()?Z4().getUserAgent():"";return/android (\d+)/.test(s.toLowerCase())}var Jt=new D(""),V2=(()=>{let c=class c extends s7{constructor(e,t,i){super(e,t),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Xt())}writeValue(e){let t=e??"";this.setProperty("value",t)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}};c.\u0275fac=function(t){return new(t||c)(H(z2),H(j1),H(Jt,8))},c.\u0275dir=X({type:c,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){t&1&&_("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[G1([Yt]),b1]});let s=c;return s})();function E2(s){return s==null||(typeof s=="string"||Array.isArray(s))&&s.length===0}function n7(s){return s!=null&&typeof s.length=="number"}var Y0=new D(""),X0=new D(""),es=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,g1=class{static min(c){return cs(c)}static max(c){return ts(c)}static required(c){return ss(c)}static requiredTrue(c){return ns(c)}static email(c){return is(c)}static minLength(c){return ls(c)}static maxLength(c){return as(c)}static pattern(c){return rs(c)}static nullValidator(c){return i7(c)}static compose(c){return m7(c)}static composeAsync(c){return u7(c)}};function cs(s){return c=>{if(E2(c.value)||E2(s))return null;let n=parseFloat(c.value);return!isNaN(n)&&n<s?{min:{min:s,actual:c.value}}:null}}function ts(s){return c=>{if(E2(c.value)||E2(s))return null;let n=parseFloat(c.value);return!isNaN(n)&&n>s?{max:{max:s,actual:c.value}}:null}}function ss(s){return E2(s.value)?{required:!0}:null}function ns(s){return s.value===!0?null:{required:!0}}function is(s){return E2(s.value)||es.test(s.value)?null:{email:!0}}function ls(s){return c=>E2(c.value)||!n7(c.value)?null:c.value.length<s?{minlength:{requiredLength:s,actualLength:c.value.length}}:null}function as(s){return c=>n7(c.value)&&c.value.length>s?{maxlength:{requiredLength:s,actualLength:c.value.length}}:null}function rs(s){if(!s)return i7;let c,n;return typeof s=="string"?(n="",s.charAt(0)!=="^"&&(n+="^"),n+=s,s.charAt(s.length-1)!=="$"&&(n+="$"),c=new RegExp(n)):(n=s.toString(),c=s),e=>{if(E2(e.value))return null;let t=e.value;return c.test(t)?null:{pattern:{requiredPattern:n,actualValue:t}}}}function i7(s){return null}function l7(s){return s!=null}function a7(s){return _6(s)?S(s):s}function r7(s){let c={};return s.forEach(n=>{c=n!=null?z(z({},c),n):c}),Object.keys(c).length===0?null:c}function o7(s,c){return c.map(n=>n(s))}function os(s){return!s.validate}function f7(s){return s.map(c=>os(c)?c:n=>c.validate(n))}function m7(s){if(!s)return null;let c=s.filter(l7);return c.length==0?null:function(n){return r7(o7(n,c))}}function J0(s){return s!=null?m7(f7(s)):null}function u7(s){if(!s)return null;let c=s.filter(l7);return c.length==0?null:function(n){let e=o7(n,c).map(a7);return d2(e).pipe(k(r7))}}function e6(s){return s!=null?u7(f7(s)):null}function Z5(s,c){return s===null?[c]:Array.isArray(s)?[...s,c]:[s,c]}function d7(s){return s._rawValidators}function p7(s){return s._rawAsyncValidators}function W0(s){return s?Array.isArray(s)?s:[s]:[]}function E4(s,c){return Array.isArray(s)?s.includes(c):s===c}function K5(s,c){let n=W0(c);return W0(s).forEach(t=>{E4(n,t)||n.push(t)}),n}function Y5(s,c){return W0(c).filter(n=>!E4(s,n))}var I4=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(c){this._rawValidators=c||[],this._composedValidatorFn=J0(this._rawValidators)}_setAsyncValidators(c){this._rawAsyncValidators=c||[],this._composedAsyncValidatorFn=e6(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(c){this._onDestroyCallbacks.push(c)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(c=>c()),this._onDestroyCallbacks=[]}reset(c=void 0){this.control&&this.control.reset(c)}hasError(c,n){return this.control?this.control.hasError(c,n):!1}getError(c,n){return this.control?this.control.getError(c,n):null}},I2=class extends I4{get formDirective(){return null}get path(){return null}},L3=class extends I4{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},P4=class{constructor(c){this._cd=c}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},fs={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Cr=E(z({},fs),{"[class.ng-submitted]":"isSubmitted"}),S3=(()=>{let c=class c extends P4{constructor(e){super(e)}};c.\u0275fac=function(t){return new(t||c)(H(L3,2))},c.\u0275dir=X({type:c,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){t&2&&x1("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[b1]});let s=c;return s})(),y3=(()=>{let c=class c extends P4{constructor(e){super(e)}};c.\u0275fac=function(t){return new(t||c)(H(I2,10))},c.\u0275dir=X({type:c,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){t&2&&x1("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[b1]});let s=c;return s})();var B3="VALID",A4="INVALID",z3="PENDING",j3="DISABLED",P2=class{},V4=class extends P2{constructor(c,n){super(),this.value=c,this.source=n}},G3=class extends P2{constructor(c,n){super(),this.pristine=c,this.source=n}},$3=class extends P2{constructor(c,n){super(),this.touched=c,this.source=n}},C3=class extends P2{constructor(c,n){super(),this.status=c,this.source=n}},G0=class extends P2{constructor(c){super(),this.source=c}},$0=class extends P2{constructor(c){super(),this.source=c}};function c6(s){return(F4(s)?s.validators:s)||null}function ms(s){return Array.isArray(s)?J0(s):s||null}function t6(s,c){return(F4(c)?c.asyncValidators:s)||null}function us(s){return Array.isArray(s)?e6(s):s||null}function F4(s){return s!=null&&!Array.isArray(s)&&typeof s=="object"}function h7(s,c,n){let e=s.controls;if(!(c?Object.keys(e):e).length)throw new F2(1e3,"");if(!e[n])throw new F2(1001,"")}function z7(s,c,n){s._forEachChild((e,t)=>{if(n[t]===void 0)throw new F2(1002,"")})}var M3=class{constructor(c,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=C2(()=>this.statusReactive()),this.statusReactive=y1(void 0),this._pristine=C2(()=>this.pristineReactive()),this.pristineReactive=y1(!0),this._touched=C2(()=>this.touchedReactive()),this.touchedReactive=y1(!1),this._events=new u2,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(c),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(c){this._rawValidators=this._composedValidatorFn=c}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(c){this._rawAsyncValidators=this._composedAsyncValidatorFn=c}get parent(){return this._parent}get status(){return D1(this.statusReactive)}set status(c){D1(()=>this.statusReactive.set(c))}get valid(){return this.status===B3}get invalid(){return this.status===A4}get pending(){return this.status==z3}get disabled(){return this.status===j3}get enabled(){return this.status!==j3}get pristine(){return D1(this.pristineReactive)}set pristine(c){D1(()=>this.pristineReactive.set(c))}get dirty(){return!this.pristine}get touched(){return D1(this.touchedReactive)}set touched(c){D1(()=>this.touchedReactive.set(c))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(c){this._assignValidators(c)}setAsyncValidators(c){this._assignAsyncValidators(c)}addValidators(c){this.setValidators(K5(c,this._rawValidators))}addAsyncValidators(c){this.setAsyncValidators(K5(c,this._rawAsyncValidators))}removeValidators(c){this.setValidators(Y5(c,this._rawValidators))}removeAsyncValidators(c){this.setAsyncValidators(Y5(c,this._rawAsyncValidators))}hasValidator(c){return E4(this._rawValidators,c)}hasAsyncValidator(c){return E4(this._rawAsyncValidators,c)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(c={}){let n=this.touched===!1;this.touched=!0;let e=c.sourceControl??this;this._parent&&!c.onlySelf&&this._parent.markAsTouched(E(z({},c),{sourceControl:e})),n&&c.emitEvent!==!1&&this._events.next(new $3(!0,e))}markAllAsTouched(c={}){this.markAsTouched({onlySelf:!0,emitEvent:c.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(c))}markAsUntouched(c={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let e=c.sourceControl??this;this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0,emitEvent:c.emitEvent,sourceControl:e})}),this._parent&&!c.onlySelf&&this._parent._updateTouched(c,e),n&&c.emitEvent!==!1&&this._events.next(new $3(!1,e))}markAsDirty(c={}){let n=this.pristine===!0;this.pristine=!1;let e=c.sourceControl??this;this._parent&&!c.onlySelf&&this._parent.markAsDirty(E(z({},c),{sourceControl:e})),n&&c.emitEvent!==!1&&this._events.next(new G3(!1,e))}markAsPristine(c={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let e=c.sourceControl??this;this._forEachChild(t=>{t.markAsPristine({onlySelf:!0,emitEvent:c.emitEvent})}),this._parent&&!c.onlySelf&&this._parent._updatePristine(c,e),n&&c.emitEvent!==!1&&this._events.next(new G3(!0,e))}markAsPending(c={}){this.status=z3;let n=c.sourceControl??this;c.emitEvent!==!1&&(this._events.next(new C3(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!c.onlySelf&&this._parent.markAsPending(E(z({},c),{sourceControl:n}))}disable(c={}){let n=this._parentMarkedDirty(c.onlySelf);this.status=j3,this.errors=null,this._forEachChild(t=>{t.disable(E(z({},c),{onlySelf:!0}))}),this._updateValue();let e=c.sourceControl??this;c.emitEvent!==!1&&(this._events.next(new V4(this.value,e)),this._events.next(new C3(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(E(z({},c),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(t=>t(!0))}enable(c={}){let n=this._parentMarkedDirty(c.onlySelf);this.status=B3,this._forEachChild(e=>{e.enable(E(z({},c),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:c.emitEvent}),this._updateAncestors(E(z({},c),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(c,n){this._parent&&!c.onlySelf&&(this._parent.updateValueAndValidity(c),c.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(c){this._parent=c}getRawValue(){return this.value}updateValueAndValidity(c={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let e=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===B3||this.status===z3)&&this._runAsyncValidator(e,c.emitEvent)}let n=c.sourceControl??this;c.emitEvent!==!1&&(this._events.next(new V4(this.value,n)),this._events.next(new C3(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!c.onlySelf&&this._parent.updateValueAndValidity(E(z({},c),{sourceControl:n}))}_updateTreeValidity(c={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(c)),this.updateValueAndValidity({onlySelf:!0,emitEvent:c.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?j3:B3}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(c,n){if(this.asyncValidator){this.status=z3,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let e=a7(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(t=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(t,{emitEvent:n,shouldHaveEmitted:c})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let c=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,c}return!1}setErrors(c,n={}){this.errors=c,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(c){let n=c;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((e,t)=>e&&e._find(t),this)}getError(c,n){let e=n?this.get(n):this;return e&&e.errors?e.errors[c]:null}hasError(c,n){return!!this.getError(c,n)}get root(){let c=this;for(;c._parent;)c=c._parent;return c}_updateControlsErrors(c,n,e){this.status=this._calculateStatus(),c&&this.statusChanges.emit(this.status),(c||e)&&this._events.next(new C3(this.status,n)),this._parent&&this._parent._updateControlsErrors(c,n,e)}_initObservables(){this.valueChanges=new s2,this.statusChanges=new s2}_calculateStatus(){return this._allControlsDisabled()?j3:this.errors?A4:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(z3)?z3:this._anyControlsHaveStatus(A4)?A4:B3}_anyControlsHaveStatus(c){return this._anyControls(n=>n.status===c)}_anyControlsDirty(){return this._anyControls(c=>c.dirty)}_anyControlsTouched(){return this._anyControls(c=>c.touched)}_updatePristine(c,n){let e=!this._anyControlsDirty(),t=this.pristine!==e;this.pristine=e,this._parent&&!c.onlySelf&&this._parent._updatePristine(c,n),t&&this._events.next(new G3(this.pristine,n))}_updateTouched(c={},n){this.touched=this._anyControlsTouched(),this._events.next(new $3(this.touched,n)),this._parent&&!c.onlySelf&&this._parent._updateTouched(c,n)}_registerOnCollectionChange(c){this._onCollectionChange=c}_setUpdateStrategy(c){F4(c)&&c.updateOn!=null&&(this._updateOn=c.updateOn)}_parentMarkedDirty(c){let n=this._parent&&this._parent.dirty;return!c&&!!n&&!this._parent._anyControlsDirty()}_find(c){return null}_assignValidators(c){this._rawValidators=Array.isArray(c)?c.slice():c,this._composedValidatorFn=ms(this._rawValidators)}_assignAsyncValidators(c){this._rawAsyncValidators=Array.isArray(c)?c.slice():c,this._composedAsyncValidatorFn=us(this._rawAsyncValidators)}},g3=class extends M3{constructor(c,n,e){super(c6(n),t6(e,n)),this.controls=c,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(c,n){return this.controls[c]?this.controls[c]:(this.controls[c]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(c,n,e={}){this.registerControl(c,n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}removeControl(c,n={}){this.controls[c]&&this.controls[c]._registerOnCollectionChange(()=>{}),delete this.controls[c],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(c,n,e={}){this.controls[c]&&this.controls[c]._registerOnCollectionChange(()=>{}),delete this.controls[c],n&&this.registerControl(c,n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}contains(c){return this.controls.hasOwnProperty(c)&&this.controls[c].enabled}setValue(c,n={}){z7(this,!0,c),Object.keys(c).forEach(e=>{h7(this,!0,e),this.controls[e].setValue(c[e],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(c,n={}){c!=null&&(Object.keys(c).forEach(e=>{let t=this.controls[e];t&&t.patchValue(c[e],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(c={},n={}){this._forEachChild((e,t)=>{e.reset(c?c[t]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(c,n,e)=>(c[e]=n.getRawValue(),c))}_syncPendingControls(){let c=this._reduceChildren(!1,(n,e)=>e._syncPendingControls()?!0:n);return c&&this.updateValueAndValidity({onlySelf:!0}),c}_forEachChild(c){Object.keys(this.controls).forEach(n=>{let e=this.controls[n];e&&c(e,n)})}_setUpControls(){this._forEachChild(c=>{c.setParent(this),c._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(c){for(let[n,e]of Object.entries(this.controls))if(this.contains(n)&&c(e))return!0;return!1}_reduceValue(){let c={};return this._reduceChildren(c,(n,e,t)=>((e.enabled||this.disabled)&&(n[t]=e.value),n))}_reduceChildren(c,n){let e=c;return this._forEachChild((t,i)=>{e=n(e,t,i)}),e}_allControlsDisabled(){for(let c of Object.keys(this.controls))if(this.controls[c].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(c){return this.controls.hasOwnProperty(c)?this.controls[c]:null}};var Q0=class extends g3{};var Z3=new D("CallSetDisabledState",{providedIn:"root",factory:()=>K3}),K3="always";function ds(s,c){return[...c.path,s]}function Z0(s,c,n=K3){s6(s,c),c.valueAccessor.writeValue(s.value),(s.disabled||n==="always")&&c.valueAccessor.setDisabledState?.(s.disabled),hs(s,c),Cs(s,c),zs(s,c),ps(s,c)}function X5(s,c,n=!0){let e=()=>{};c.valueAccessor&&(c.valueAccessor.registerOnChange(e),c.valueAccessor.registerOnTouched(e)),T4(s,c),s&&(c._invokeOnDestroyCallbacks(),s._registerOnCollectionChange(()=>{}))}function D4(s,c){s.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(c)})}function ps(s,c){if(c.valueAccessor.setDisabledState){let n=e=>{c.valueAccessor.setDisabledState(e)};s.registerOnDisabledChange(n),c._registerOnDestroy(()=>{s._unregisterOnDisabledChange(n)})}}function s6(s,c){let n=d7(s);c.validator!==null?s.setValidators(Z5(n,c.validator)):typeof n=="function"&&s.setValidators([n]);let e=p7(s);c.asyncValidator!==null?s.setAsyncValidators(Z5(e,c.asyncValidator)):typeof e=="function"&&s.setAsyncValidators([e]);let t=()=>s.updateValueAndValidity();D4(c._rawValidators,t),D4(c._rawAsyncValidators,t)}function T4(s,c){let n=!1;if(s!==null){if(c.validator!==null){let t=d7(s);if(Array.isArray(t)&&t.length>0){let i=t.filter(l=>l!==c.validator);i.length!==t.length&&(n=!0,s.setValidators(i))}}if(c.asyncValidator!==null){let t=p7(s);if(Array.isArray(t)&&t.length>0){let i=t.filter(l=>l!==c.asyncValidator);i.length!==t.length&&(n=!0,s.setAsyncValidators(i))}}}let e=()=>{};return D4(c._rawValidators,e),D4(c._rawAsyncValidators,e),n}function hs(s,c){c.valueAccessor.registerOnChange(n=>{s._pendingValue=n,s._pendingChange=!0,s._pendingDirty=!0,s.updateOn==="change"&&C7(s,c)})}function zs(s,c){c.valueAccessor.registerOnTouched(()=>{s._pendingTouched=!0,s.updateOn==="blur"&&s._pendingChange&&C7(s,c),s.updateOn!=="submit"&&s.markAsTouched()})}function C7(s,c){s._pendingDirty&&s.markAsDirty(),s.setValue(s._pendingValue,{emitModelToViewChange:!1}),c.viewToModelUpdate(s._pendingValue),s._pendingChange=!1}function Cs(s,c){let n=(e,t)=>{c.valueAccessor.writeValue(e),t&&c.viewToModelUpdate(e)};s.registerOnChange(n),c._registerOnDestroy(()=>{s._unregisterOnChange(n)})}function L7(s,c){s==null,s6(s,c)}function Ls(s,c){return T4(s,c)}function Ms(s,c){if(!s.hasOwnProperty("model"))return!1;let n=s.model;return n.isFirstChange()?!0:!Object.is(c,n.currentValue)}function gs(s){return Object.getPrototypeOf(s.constructor)===v3}function M7(s,c){s._syncPendingControls(),c.forEach(n=>{let e=n.control;e.updateOn==="submit"&&e._pendingChange&&(n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function vs(s,c){if(!c)return null;Array.isArray(c);let n,e,t;return c.forEach(i=>{i.constructor===V2?n=i:gs(i)?e=i:t=i}),t||e||n||null}function Ss(s,c){let n=s.indexOf(c);n>-1&&s.splice(n,1)}var ys={provide:I2,useExisting:B1(()=>n6)},W3=Promise.resolve(),n6=(()=>{let c=class c extends I2{get submitted(){return D1(this.submittedReactive)}constructor(e,t,i){super(),this.callSetDisabledState=i,this._submitted=C2(()=>this.submittedReactive()),this.submittedReactive=y1(!1),this._directives=new Set,this.ngSubmit=new s2,this.form=new g3({},J0(e),e6(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){W3.then(()=>{let t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),Z0(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){W3.then(()=>{let t=this._findContainer(e.path);t&&t.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){W3.then(()=>{let t=this._findContainer(e.path),i=new g3({});L7(i,e),t.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){W3.then(()=>{let t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){W3.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),M7(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}};c.\u0275fac=function(t){return new(t||c)(H(Y0,10),H(X0,10),H(Z3,8))},c.\u0275dir=X({type:c,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){t&1&&_("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[G1([ys]),b1]});let s=c;return s})();function J5(s,c){let n=s.indexOf(c);n>-1&&s.splice(n,1)}function e7(s){return typeof s=="object"&&s!==null&&Object.keys(s).length===2&&"value"in s&&"disabled"in s}var d1=class extends M3{constructor(c=null,n,e){super(c6(n),t6(e,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(c),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),F4(n)&&(n.nonNullable||n.initialValueIsDefault)&&(e7(c)?this.defaultValue=c.value:this.defaultValue=c)}setValue(c,n={}){this.value=this._pendingValue=c,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(e=>e(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(c,n={}){this.setValue(c,n)}reset(c=this.defaultValue,n={}){this._applyFormState(c),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(c){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(c){this._onChange.push(c)}_unregisterOnChange(c){J5(this._onChange,c)}registerOnDisabledChange(c){this._onDisabledChange.push(c)}_unregisterOnDisabledChange(c){J5(this._onDisabledChange,c)}_forEachChild(c){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(c){e7(c)?(this.value=this._pendingValue=c.value,c.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=c}};var bs=s=>s instanceof d1;var b3=(()=>{let c=class c{};c.\u0275fac=function(t){return new(t||c)},c.\u0275dir=X({type:c,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let s=c;return s})(),xs={provide:Z2,useExisting:B1(()=>i6),multi:!0},i6=(()=>{let c=class c extends v3{writeValue(e){let t=e??"";this.setProperty("value",t)}registerOnChange(e){this.onChange=t=>{e(t==""?null:parseFloat(t))}}};c.\u0275fac=(()=>{let e;return function(i){return(e||(e=_2(c)))(i||c)}})(),c.\u0275dir=X({type:c,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,i){t&1&&_("input",function(a){return i.onChange(a.target.value)})("blur",function(){return i.onTouched()})},features:[G1([xs]),b1]});let s=c;return s})(),Ns={provide:Z2,useExisting:B1(()=>l6),multi:!0};var ws=(()=>{let c=class c{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e){this._accessors.splice(t,1);return}}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return e[0].control?e[0]._parent===t._control._parent&&e[1].name===t.name:!1}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})(),l6=(()=>{let c=class c extends v3{constructor(e,t,i,l){super(e,t),this._registry=i,this._injector=l,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=r(Z3,{optional:!0})??K3}ngOnInit(){this._control=this._injector.get(L3),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}};c.\u0275fac=function(t){return new(t||c)(H(z2),H(j1),H(ws),H(t3))},c.\u0275dir=X({type:c,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,i){t&1&&_("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[G1([Ns]),b1]});let s=c;return s})();var g7=new D("");var ks={provide:I2,useExisting:B1(()=>o2)},o2=(()=>{let c=class c extends I2{get submitted(){return D1(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}constructor(e,t,i){super(),this.callSetDisabledState=i,this._submitted=C2(()=>this._submittedReactive()),this._submittedReactive=y1(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s2,this._setValidators(e),this._setAsyncValidators(t)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(T4(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let t=this.form.get(e.path);return Z0(t,e,this.callSetDisabledState),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){X5(e.control||null,e,!1),Ss(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this._submittedReactive.set(!0),M7(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new G0(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new $0(this.form))}_updateDomValue(){this.directives.forEach(e=>{let t=e.control,i=this.form.get(e.path);t!==i&&(X5(t||null,e),bs(i)&&(Z0(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let t=this.form.get(e.path);L7(t,e),t.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let t=this.form.get(e.path);t&&Ls(t,e)&&t.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){s6(this.form,this),this._oldForm&&T4(this._oldForm,this)}_checkFormPresent(){this.form}};c.\u0275fac=function(t){return new(t||c)(H(Y0,10),H(X0,10),H(Z3,8))},c.\u0275dir=X({type:c,selectors:[["","formGroup",""]],hostBindings:function(t,i){t&1&&_("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[G1([ks]),b1,h2]});let s=c;return s})();var As={provide:L3,useExisting:B1(()=>K2)},K2=(()=>{let c=class c extends L3{set isDisabled(e){}constructor(e,t,i,l,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new s2,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(t),this._setAsyncValidators(i),this.valueAccessor=vs(this,l)}ngOnChanges(e){this._added||this._setUpControl(),Ms(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return ds(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};c._ngModelWarningSentOnce=!1,c.\u0275fac=function(t){return new(t||c)(H(I2,13),H(Y0,10),H(X0,10),H(Z2,10),H(g7,8))},c.\u0275dir=X({type:c,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[G1([As]),b1,h2]});let s=c;return s})(),Es={provide:Z2,useExisting:B1(()=>H4),multi:!0};function v7(s,c){return s==null?`${c}`:(c&&typeof c=="object"&&(c="Object"),`${s}: ${c}`.slice(0,50))}function Is(s){return s.split(":")[0]}var H4=(()=>{let c=class c extends v3{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let t=this._getOptionId(e),i=v7(t,e);this.setProperty("value",i)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let t of this._optionMap.keys())if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){let t=Is(e);return this._optionMap.has(t)?this._optionMap.get(t):e}};c.\u0275fac=(()=>{let e;return function(i){return(e||(e=_2(c)))(i||c)}})(),c.\u0275dir=X({type:c,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,i){t&1&&_("change",function(a){return i.onChange(a.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[G1([Es]),b1]});let s=c;return s})(),S7=(()=>{let c=class c{constructor(e,t,i){this._element=e,this._renderer=t,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(v7(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};c.\u0275fac=function(t){return new(t||c)(H(j1),H(z2),H(H4,9))},c.\u0275dir=X({type:c,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let s=c;return s})(),Ps={provide:Z2,useExisting:B1(()=>y7),multi:!0};function c7(s,c){return s==null?`${c}`:(typeof c=="string"&&(c=`'${c}'`),c&&typeof c=="object"&&(c="Object"),`${s}: ${c}`.slice(0,50))}function Vs(s){return s.split(":")[0]}var y7=(()=>{let c=class c extends v3{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let t;if(Array.isArray(e)){let i=e.map(l=>this._getOptionId(l));t=(l,a)=>{l._setSelected(i.indexOf(a.toString())>-1)}}else t=(i,l)=>{i._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{let i=[],l=t.selectedOptions;if(l!==void 0){let a=l;for(let o=0;o<a.length;o++){let u=a[o],p=this._getOptionValue(u.value);i.push(p)}}else{let a=t.options;for(let o=0;o<a.length;o++){let u=a[o];if(u.selected){let p=this._getOptionValue(u.value);i.push(p)}}}this.value=i,e(i)}}_registerOption(e){let t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(let t of this._optionMap.keys())if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){let t=Vs(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}};c.\u0275fac=(()=>{let e;return function(i){return(e||(e=_2(c)))(i||c)}})(),c.\u0275dir=X({type:c,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,i){t&1&&_("change",function(a){return i.onChange(a.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[G1([Ps]),b1]});let s=c;return s})(),b7=(()=>{let c=class c{constructor(e,t,i){this._element=e,this._renderer=t,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(c7(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(c7(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};c.\u0275fac=function(t){return new(t||c)(H(j1),H(z2),H(y7,9))},c.\u0275dir=X({type:c,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let s=c;return s})();var x7=(()=>{let c=class c{};c.\u0275fac=function(t){return new(t||c)},c.\u0275mod=R2({type:c}),c.\u0275inj=H2({});let s=c;return s})(),K0=class extends M3{constructor(c,n,e){super(c6(n),t6(e,n)),this.controls=c,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(c){return this.controls[this._adjustIndex(c)]}push(c,n={}){this.controls.push(c),this._registerControl(c),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(c,n,e={}){this.controls.splice(c,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent})}removeAt(c,n={}){let e=this._adjustIndex(c);e<0&&(e=0),this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(c,n,e={}){let t=this._adjustIndex(c);t<0&&(t=0),this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),n&&(this.controls.splice(t,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(c,n={}){z7(this,!1,c),c.forEach((e,t)=>{h7(this,!1,t),this.at(t).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(c,n={}){c!=null&&(c.forEach((e,t)=>{this.at(t)&&this.at(t).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(c=[],n={}){this._forEachChild((e,t)=>{e.reset(c[t],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(c=>c.getRawValue())}clear(c={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:c.emitEvent}))}_adjustIndex(c){return c<0?c+this.length:c}_syncPendingControls(){let c=this.controls.reduce((n,e)=>e._syncPendingControls()?!0:n,!1);return c&&this.updateValueAndValidity({onlySelf:!0}),c}_forEachChild(c){this.controls.forEach((n,e)=>{c(n,e)})}_updateValue(){this.value=this.controls.filter(c=>c.enabled||this.disabled).map(c=>c.value)}_anyControls(c){return this.controls.some(n=>n.enabled&&c(n))}_setUpControls(){this._forEachChild(c=>this._registerControl(c))}_allControlsDisabled(){for(let c of this.controls)if(c.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(c){c.setParent(this),c._registerOnCollectionChange(this._onCollectionChange)}_find(c){return this.at(c)??null}};function t7(s){return!!s&&(s.asyncValidators!==void 0||s.validators!==void 0||s.updateOn!==void 0)}var x3=(()=>{let c=class c{constructor(){this.useNonNullable=!1}get nonNullable(){let e=new c;return e.useNonNullable=!0,e}group(e,t=null){let i=this._reduceControls(e),l={};return t7(t)?l=t:t!==null&&(l.validators=t.validator,l.asyncValidators=t.asyncValidator),new g3(i,l)}record(e,t=null){let i=this._reduceControls(e);return new Q0(i,t)}control(e,t,i){let l={};return this.useNonNullable?(t7(t)?l=t:(l.validators=t,l.asyncValidators=i),new d1(e,E(z({},l),{nonNullable:!0}))):new d1(e,t,i)}array(e,t,i){let l=e.map(a=>this._createControl(a));return new K0(l,t,i)}_reduceControls(e){let t={};return Object.keys(e).forEach(i=>{t[i]=this._createControl(e[i])}),t}_createControl(e){if(e instanceof d1)return e;if(e instanceof M3)return e;if(Array.isArray(e)){let t=e[0],i=e.length>1?e[1]:null,l=e.length>2?e[2]:null;return this.control(t,i,l)}else return this.control(e)}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"});let s=c;return s})();var N7=(()=>{let c=class c{static withConfig(e){return{ngModule:c,providers:[{provide:Z3,useValue:e.callSetDisabledState??K3}]}}};c.\u0275fac=function(t){return new(t||c)},c.\u0275mod=R2({type:c}),c.\u0275inj=H2({imports:[x7]});let s=c;return s})(),N3=(()=>{let c=class c{static withConfig(e){return{ngModule:c,providers:[{provide:g7,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Z3,useValue:e.callSetDisabledState??K3}]}}};c.\u0275fac=function(t){return new(t||c)},c.\u0275mod=R2({type:c}),c.\u0275inj=H2({imports:[x7]});let s=c;return s})();var w7=()=>V1(s=>s!=null);var Ds=s=>{let c=new F1(s.touched),n=s.markAsTouched.bind(s),e=s.markAsUntouched.bind(s);return s.markAsTouched=(...t)=>{n(...t),c.next(!0)},s.markAsUntouched=(...t)=>{e(...t),c.next(!1)},c.pipe(p2())},Ts=(s,c)=>e4([s.valueChanges.pipe(J2(s.value)),s.statusChanges.pipe(J2(s.status),p2()),Ds(s),c?.ngSubmit.pipe(k(()=>!0),J2(c.submitted),p2())??b(!1)],(n,e,t,i)=>e==="INVALID"&&(t||i)),Fs=new D("NGX_CONTROL_ERROR_STATE_MATCHER",{factory:()=>Ts}),Hs=new D("NGX_CONTROL_ERROR_PARENT");var R4=(()=>{let c=class c{constructor(){this.templateRef=r(r4),this.viewContainerRef=r(A6),this.track$=y1(void 0),this.parent$=y1(r(Hs,{optional:!0})??r(o2,{optional:!0})??r(n6,{optional:!0})??void 0),this.control$=y1(void 0),this.errorStateMatcher$=y1(r(Fs)),this._hasError$=e4([b2(this.track$),b2(this.errorStateMatcher$),b2(this.control$).pipe(w7()),b2(this.parent$)]).pipe(L(([e,t,i,l])=>t(i,l).pipe(k(a=>a&&e!=null&&i!=null&&(typeof e=="string"?i.hasError(e):e.some(o=>i.hasError(o)))))),i4(1)),this.hasError$=N1(this._hasError$,{initialValue:!1}),e4([b2(this.track$),b2(this.control$),this._hasError$],(e,t,i)=>{this.viewContainerRef.clear(),i&&t!=null&&e!=null&&this.viewContainerRef.createEmbeddedView(this.templateRef,{$implicit:t.errors??{},track:e,control:t})}).pipe(P0()).subscribe()}set track(e){this.track$.set(e)}get track(){return this.track$()}set control(e){this.control$.set(e)}get control(){return this.control$()}set errorStateMatcher(e){this.errorStateMatcher$.set(e)}get errorStateMatcher(){return this.errorStateMatcher$()}set parent(e){this.parent$.set(e)}get parent(){return this.parent$()}get context(){return this.viewContainerRef.get(0)?.context}};c.ngTemplateContextGuard=(e,t)=>!0,c.\u0275fac=function(t){return new(t||c)},c.\u0275dir=X({type:c,selectors:[["","ngxControlError",""]],inputs:{track:[0,"ngxControlErrorTrack","track"],control:[0,"ngxControlError","control"],errorStateMatcher:[0,"ngxControlErrorErrorStateMatcher","errorStateMatcher"],parent:[0,"ngxControlErrorParent","parent"]},standalone:!0});let s=c;return s})();function Rs(s,c){s&1&&(f(0,"span",10),d(1," Name is required "),m())}function _s(s,c){s&1&&g(0,"span",9)}var k7=(()=>{class s{formBuilder=r(x3);productService=r(A2);toastService=r(v1);router=r(T1);name=new d1("",{nonNullable:!0,validators:[g1.required]});createForm=this.formBuilder.nonNullable.group({name:this.name});loading=!1;createMutation=K1(()=>({mutationFn:n=>K(this.productService.createCategory(n)),onSettled:()=>this.onCreationSettled(),onSuccess:()=>this.onCreationSuccess(),onError:()=>this.onCreationError()}));create(){let n={name:this.createForm.getRawValue().name};this.loading=!0,this.createMutation.mutate(n)}onCreationSettled(){this.loading=!1}onCreationSuccess(){this.toastService.show("Category created","SUCCESS"),this.router.navigate(["/admin/categories/list"])}onCreationError(){this.toastService.show("Issue when creating category","ERROR")}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=O({type:s,selectors:[["ecom-create-category"]],standalone:!0,features:[U],decls:16,vars:7,consts:[[1,"grid","grid-cols-3"],["id","createForm",3,"ngSubmit","formGroup"],[1,"text-lg","font-bold"],[1,"form-control","w-full"],[1,"label"],[1,"label-text"],["type","text","placeholder","Type name here","formControlName","name",1,"input","input-bordered","w-full"],["class","label-text-alt text-red-600",4,"ngxControlError","ngxControlErrorTrack"],["type","submit",1,"btn","btn-primary","btn-wide","w-full",3,"disabled"],[1,"loading","loading-spinner"],[1,"label-text-alt","text-red-600"]],template:function(e,t){e&1&&(f(0,"div",0),g(1,"div"),f(2,"form",1),_("ngSubmit",function(){return t.create()}),f(3,"h1",2),d(4,"Create new category"),m(),f(5,"label",3)(6,"div",4)(7,"span",5),d(8,"Name"),m()(),g(9,"input",6),f(10,"div",4),T(11,Rs,2,0,"span",7),m()(),f(12,"button",8),T(13,_s,1,0,"span",9),d(14," Create category "),m()(),g(15,"div"),m()),e&2&&(h(2),w("formGroup",t.createForm),h(7),x1("input-error",t.name.invalid&&!t.name.untouched),h(2),w("ngxControlError",t.name)("ngxControlErrorTrack","required"),h(),w("disabled",t.createForm.invalid),h(),B(t.loading?13:-1))},dependencies:[j,N3,b3,V2,S3,y3,o2,K2,R4]})}return s})();var w3=(s,c)=>{let n=r(w2),e=r(m1);if($(e)){let t=s.data.authorities;return s4(50).pipe(V1(()=>n.connectedUserQuery?.isPending()==!1),k(()=>n.connectedUserQuery?.data()),k(i=>!t||t.length===0||n.hasAnyAuthorities(i,t)),J3(3e3))}else return!1};var Y3=["XS","S","M","L","XL","XXL"];var Os=(s,c)=>c.publicId;function Us(s,c){s&1&&(f(0,"span",18),d(1," Name is required "),m())}function qs(s,c){s&1&&(f(0,"span",18),d(1," Brand is required "),m())}function Bs(s,c){s&1&&(f(0,"span",18),d(1," Color is required "),m())}function js(s,c){s&1&&(f(0,"span",18),d(1," Description is required "),m())}function Ws(s,c){s&1&&(f(0,"span",18),d(1," Brand is required "),m())}function Gs(s,c){s&1&&(f(0,"span",18),d(1," Stock is required "),m())}function $s(s,c){if(s&1&&(f(0,"option",15),d(1),m()),s&2){let n=c.$implicit;W1("value",n),h(),I(n)}}function Qs(s,c){if(s&1&&(f(0,"option",15),d(1),m()),s&2){let n=c.$implicit;F6("value","",n.publicId,"+",n.name,""),h(),I(n.name)}}function Zs(s,c){if(s&1&&e1(0,Qs,2,4,"option",15,Os),s&2){let n=F();c1(n.categoriesQuery.data().content)}}function Ks(s,c){s&1&&(f(0,"span",18),d(1," At least one picture is required "),m())}function Ys(s,c){s&1&&g(0,"span",23)}var A7=(()=>{class s{formBuilder=r(x3);productService=r(A2);toastService=r(v1);router=r(T1);productPictures=new Array;name=new d1("",{nonNullable:!0,validators:[g1.required]});description=new d1("",{nonNullable:!0,validators:[g1.required]});price=new d1(0,{nonNullable:!0,validators:[g1.required]});size=new d1("XS",{nonNullable:!0,validators:[g1.required]});category=new d1("",{nonNullable:!0,validators:[g1.required]});brand=new d1("",{nonNullable:!0,validators:[g1.required]});color=new d1("",{nonNullable:!0,validators:[g1.required]});featured=new d1(!1,{nonNullable:!0,validators:[g1.required]});pictures=new d1([],{nonNullable:!0,validators:[g1.required]});stock=new d1(0,{nonNullable:!0,validators:[g1.required]});createForm=this.formBuilder.nonNullable.group({brand:this.brand,color:this.color,description:this.description,name:this.name,price:this.price,size:this.size,category:this.category,featured:this.featured,pictures:this.pictures,stock:this.stock});loading=!1;categoriesQuery=f1(()=>({queryKey:["categories"],queryFn:()=>K(this.productService.findAllCategories())}));createMutation=K1(()=>({mutationFn:n=>K(this.productService.createProduct(n)),onSettled:()=>this.onCreationSettled(),onSuccess:()=>this.onCreationSuccess(),onError:()=>this.onCreationError()}));create(){let n={brand:this.createForm.getRawValue().brand,color:this.createForm.getRawValue().color,description:this.createForm.getRawValue().description,name:this.createForm.getRawValue().name,price:this.createForm.getRawValue().price,size:this.createForm.getRawValue().size,category:{publicId:this.createForm.getRawValue().category.split("+")[0],name:this.createForm.getRawValue().category.split("+")[1]},featured:this.createForm.getRawValue().featured,pictures:this.productPictures,nbInStock:this.createForm.getRawValue().stock};this.loading=!0,this.createMutation.mutate(n)}extractFileFromTarget(n){let e=n;return n===null||e.files===null?null:e.files}onUploadNewPicture(n){this.productPictures=[];let e=this.extractFileFromTarget(n);if(e!==null)for(let t=0;t<e.length;t++){let i=e.item(t);if(i!==null){let l={file:i,mimeType:i.type};this.productPictures.push(l)}}}onCreationSettled(){this.loading=!1}onCreationSuccess(){this.router.navigate(["/admin/products/list"]),this.toastService.show("Product created","SUCCESS")}onCreationError(){this.toastService.show("Issue when creating product","ERROR")}sizes=Y3;static \u0275fac=function(e){return new(e||s)};static \u0275cmp=O({type:s,selectors:[["ecom-create-product"]],standalone:!0,features:[U],decls:85,vars:31,consts:[[1,"grid","grid-cols-3"],["id","createForm",3,"ngSubmit","formGroup"],[1,"text-lg","font-bold"],[1,"form-control","w-full"],[1,"label"],[1,"label-text"],["type","text","placeholder","Type name here","formControlName","name",1,"input","input-bordered","w-full"],["class","label-text-alt text-red-600",4,"ngxControlError","ngxControlErrorTrack"],["type","text","placeholder","Type brand here","formControlName","brand",1,"input","input-bordered","w-full"],["type","color","formControlName","color",1,"input","input-bordered","w-full"],["placeholder","Type description here","formControlName","description",1,"textarea","textarea-bordered","w-full"],["type","number","placeholder","Type price here","formControlName","price",1,"input","input-bordered","w-full"],["type","number","placeholder","Enter the stock here","formControlName","stock",1,"input","input-bordered","w-full"],["formControlName","size",1,"select","select-bordered","w-full"],["disabled","","selected",""],[3,"value"],["formControlName","category",1,"select","select-bordered","w-full"],["type","file","multiple","","formControlName","pictures",1,"file-input","w-full",3,"change"],[1,"label-text-alt","text-red-600"],[1,"label","cursor-pointer"],[1,"flex","justify-center"],["type","checkbox","checked","checked","formControlName","featured",1,"checkbox","checkbox-primary"],["type","submit",1,"btn","btn-primary","btn-wide","w-full",3,"disabled"],[1,"loading-spinner","loading"]],template:function(e,t){e&1&&(f(0,"div",0),g(1,"div"),f(2,"form",1),_("ngSubmit",function(){return t.create()}),f(3,"h1",2),d(4,"Create a new Product"),m(),f(5,"label",3)(6,"div",4)(7,"span",5),d(8,"Name"),m()(),g(9,"input",6),f(10,"div",4),T(11,Us,2,0,"span",7),m()(),f(12,"label",3)(13,"div",4)(14,"span",5),d(15,"Brand"),m()(),g(16,"input",8),f(17,"div",4),T(18,qs,2,0,"span",7),m()(),f(19,"label",3)(20,"div",4)(21,"span",5),d(22,"Color"),m()(),g(23,"input",9),f(24,"div",4),T(25,Bs,2,0,"span",7),m()(),f(26,"label",3)(27,"div",4)(28,"span",5),d(29,"Description"),m()(),f(30,"textarea",10),d(31," "),m(),f(32,"div",4),T(33,js,2,0,"span",7),m()(),f(34,"label",3)(35,"div",4)(36,"span",5),d(37,"Price"),m()(),g(38,"input",11),f(39,"div",4),T(40,Ws,2,0,"span",7),m()(),f(41,"label",3)(42,"div",4)(43,"span",5),d(44,"Number of stock"),m()(),g(45,"input",12),f(46,"div",4),T(47,Gs,2,0,"span",7),m()(),f(48,"label",3)(49,"div",4)(50,"span",5),d(51,"Size"),m()(),f(52,"select",13)(53,"option",14),d(54,"Select size"),m(),e1(55,$s,2,2,"option",15,i3),m(),g(57,"div",4),m(),f(58,"label",3)(59,"div",4)(60,"span",5),d(61,"Category"),m()(),f(62,"select",16)(63,"option",14),d(64,"Select size"),m(),T(65,Zs,2,0),m(),g(66,"div",4),m(),f(67,"label",3)(68,"div",4)(69,"span",5),d(70,"Pictures"),m()(),f(71,"input",17),_("change",function(l){return t.onUploadNewPicture(l.target)}),m(),f(72,"div",4),T(73,Ks,2,0,"span",18),m()(),f(74,"div",3)(75,"label",19)(76,"span",5),d(77,"Featured"),m()(),f(78,"div",20),g(79,"input",21),m(),g(80,"div",4),m(),f(81,"button",22),T(82,Ys,1,0,"span",23),d(83," Create product "),m()(),g(84,"div"),m()),e&2&&(h(2),w("formGroup",t.createForm),h(7),x1("input-error",t.name.invalid&&!t.name.untouched),h(2),w("ngxControlError",t.name)("ngxControlErrorTrack","required"),h(5),x1("input-error",t.brand.invalid&&!t.brand.untouched),h(2),w("ngxControlError",t.brand)("ngxControlErrorTrack","required"),h(5),x1("input-error",t.color.invalid&&!t.color.untouched),h(2),w("ngxControlError",t.color)("ngxControlErrorTrack","required"),h(5),x1("input-error",t.description.invalid&&!t.description.untouched),h(3),w("ngxControlError",t.description)("ngxControlErrorTrack","required"),h(5),x1("input-error",t.price.invalid&&!t.price.untouched),h(2),w("ngxControlError",t.price)("ngxControlErrorTrack","required"),h(5),x1("input-error",t.stock.invalid&&!t.stock.untouched),h(2),w("ngxControlError",t.stock)("ngxControlErrorTrack","required"),h(8),c1(t.sizes),h(10),B(t.categoriesQuery.isSuccess()?65:-1),h(6),x1("input-error",t.brand.invalid&&!t.brand.untouched),h(2),B(t.productPictures.length===0&&t.pictures.invalid&&!t.pictures.untouched?73:-1),h(8),w("disabled",t.createForm.invalid),h(),B(t.loading?82:-1))},dependencies:[j,N7,b3,S7,b7,V2,i6,Q3,H4,S3,y3,N3,o2,K2,R4]})}return s})();var Xs=(s,c)=>c.publicId,Js=s=>["/product",s],en=s=>({"background-color":s}),cn=()=>["fas","circle-exclamation"];function tn(s,c){if(s&1){let n=A1();f(0,"tr",10)(1,"th"),d(2),m(),f(3,"td",13)(4,"a",14),d(5),m()(),f(6,"td"),d(7),m(),f(8,"td"),g(9,"div",15),m(),f(10,"td"),d(11),m(),f(12,"td"),d(13),m(),f(14,"td"),d(15),m(),f(16,"td"),d(17),m(),f(18,"td")(19,"div",16),_("click",function(){let t=n1(n).$implicit,i=F(2);return i1(i.deleteProduct(t.publicId))}),d(20," Delete "),m()()()}if(s&2){let n=c.$implicit,e=c.$index;h(2),I(e),h(2),w("routerLink",$1(9,Js,n.publicId)),h(),I(n.name),h(2),I(n.brand),h(2),w("ngStyle",$1(11,en,n.color)),h(2),I(n.price),h(2),I(n.nbInStock),h(2),I(n.featured),h(2),I(n.category.name)}}function sn(s,c){if(s&1&&(f(0,"div",5)(1,"table",9)(2,"thead",10)(3,"tr",10),g(4,"th"),f(5,"th",11),d(6,"Name"),m(),f(7,"th"),d(8,"Brand"),m(),f(9,"th"),d(10,"Color"),m(),f(11,"th"),d(12,"Price"),m(),f(13,"th"),d(14,"Nb in stock"),m(),f(15,"th"),d(16,"Featured"),m(),f(17,"th"),d(18,"Category"),m(),f(19,"th"),d(20,"Actions"),m()()(),f(21,"tbody",12),e1(22,tn,21,13,"tr",10,Xs),m()()()),s&2){let n=F();h(22),c1(n.productsQuery.data().content)}}function nn(s,c){s&1&&(f(0,"div",6),g(1,"span",17),m())}function ln(s,c){s&1&&(f(0,"div",7)(1,"span"),d(2,"Error! Failed to load products."),m()())}function an(s,c){s&1&&(f(0,"div",8),g(1,"fa-icon",18),f(2,"span"),d(3,"No product created yet."),m()()),s&2&&(h(),w("icon",l1(1,cn)))}var E7=(()=>{class s{productService=r(A2);toastService=r(v1);queryClient=f4();pageRequest={page:0,size:20,sort:["createdDate,desc"]};constructor(){z1(()=>this.handleProductQueryError())}productsQuery=f1(()=>({queryKey:["products",this.pageRequest],queryFn:()=>K(this.productService.findAllProducts(this.pageRequest))}));deleteMutation=K1(()=>({mutationFn:n=>K(this.productService.deleteProduct(n)),onSuccess:()=>this.onDeletionSuccess(),onError:()=>this.onDeletionError()}));deleteProduct(n){this.deleteMutation.mutate(n)}onDeletionSuccess(){this.queryClient.invalidateQueries({queryKey:["products"]}),this.toastService.show("Product deleted","SUCCESS")}onDeletionError(){this.toastService.show("Issue when deleting product","ERROR")}handleProductQueryError(){this.productsQuery.isError()&&this.toastService.show("Error failed to load products, please try again","ERROR")}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=O({type:s,selectors:[["ecom-admin-products"]],standalone:!0,features:[U],decls:16,vars:1,consts:[[1,"w-full","flex","justify-between","items-center"],[1,"text-2xl","font-bold"],["routerLink","/admin/products/create",1,"btn","btn-primary","me-5"],["routerLink","/admin/categories/create",1,"btn","btn-primary"],[1,"border-t","w-full","border-solid","border-gray-300","mt-3","mb-5"],[1,"overflow-x-auto","border","border-gray-300","rounded-md"],[1,"flex","w-full","justify-center"],[1,"alert","alert-error"],["role","alert",1,"alert","alert-info"],[1,"table","table-lg","table-zebra"],[1,"border-gray-300"],[1,"min-w-40"],[1,"border-0"],[1,"max-w-20","overflow-ellipsis","whitespace-nowrap","overflow-hidden"],[1,"link",3,"routerLink"],[1,"h-5","w-5","rounded-full",3,"ngStyle"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"loading","loading-spinner","loading-lg"],["size","2x",3,"icon"]],template:function(e,t){e&1&&(f(0,"div",0)(1,"div")(2,"h1",1),d(3,"Products"),m(),f(4,"div"),d(5,"Add and delete products"),m()(),f(6,"div")(7,"button",2),d(8," Create products "),m(),f(9,"button",3),d(10," Create categories "),m()()(),g(11,"div",4),T(12,sn,24,0,"div",5)(13,nn,2,0,"div",6)(14,ln,3,0,"div",7)(15,an,4,2,"div",8)),e&2&&(h(12),B(t.productsQuery.isSuccess()&&t.productsQuery.data().content.length!==0?12:t.productsQuery.isPending()?13:t.productsQuery.isError()?14:t.productsQuery.data().content.length===0?15:-1))},dependencies:[j,o4,Z1,C1]})}return s})();var rn=()=>[import("./chunk-G4WCNS4T.mjs").then(s=>s.FeaturedComponent)];function on(s,c){s&1&&g(0,"ecom-featured")}function fn(s,c){s&1&&(f(0,"div"),d(1,"Loading... "),m())}var I7=(()=>{class s{static \u0275fac=function(e){return new(e||s)};static \u0275cmp=O({type:s,selectors:[["ecom-home"]],standalone:!0,features:[U],decls:17,vars:0,consts:[[1,"hero","min-h-screen","rounded-xl",2,"background-image","url(./home/hero.webp)","background-size","cover"],[1,"hero-overlay","bg-opacity-20"],[1,"hero-content","justify-start","text-neutral-content","w-full","px-6","sm:px-8","lg:px-10"],[1,"text-left"],[1,"mb-5","text-3xl","sm:text-5xl","text-white","font-bold"],[1,"mb-5","text-lg","sm:text-2xl","text-white"],["routerLink","/products",1,"btn","btn-primary","btn-lg"],[1,"w-full","my-10","md:my-20"],[1,"text-2xl","sm:text-3xl","font-bold","text-center","my-8","sm:my-12"]],template:function(e,t){e&1&&(f(0,"div",0),g(1,"div",1),f(2,"div",2)(3,"div",3)(4,"h1",4),d(5," Ecommerce app "),m(),f(6,"p",5),d(7," Check out our collection of products "),m(),f(8,"button",6),d(9," Shop collection "),m()()()(),f(10,"div",7)(11,"h2",8),d(12," Featured products "),m(),T(13,on,1,0)(14,fn,2,0),I6(15,13,rn,null,14),P6(),m())},dependencies:[j,Z1]})}return s})();function r6(s){R1(r6);let c=r(P3),n=c.snapshot.params;if(typeof s=="function")return N1(c.params.pipe(k(s)),{initialValue:s(n)});let e=t=>s?t?.[s]??null:t;return N1(c.params.pipe(k(e)),{initialValue:e(n)})}var mn=(s,c)=>c.publicId,un=s=>({"background-color":s}),dn=s=>["fas",s];function pn(s,c){s&1&&(f(0,"div",10),d(1,"In stock"),m())}function hn(s,c){s&1&&(f(0,"div",11),d(1,"Out of stock"),m())}function zn(s,c){s&1&&(f(0,"div",12),d(1," Best seller "),m())}function Cn(s,c){if(s&1){let n=A1();f(0,"div",0)(1,"div",6),g(2,"img",7),m(),f(3,"div",8)(4,"h1",9),d(5),m(),T(6,pn,2,0,"div",10)(7,hn,2,0,"div",11)(8,zn,2,0,"div",12),f(9,"div",13)(10,"span",14),d(11),_1(12,"currency"),m(),f(13,"span",15),d(14),_1(15,"currency"),m()(),f(16,"div"),d(17,"Brand: "),f(18,"span",16),d(19),m()(),f(20,"div",17)(21,"div",18),d(22,"Color:"),m(),g(23,"div",19),m(),f(24,"div"),d(25,"Size: "),f(26,"span",16),d(27),m()(),f(28,"div",20)(29,"h2",21),d(30,"Description"),m(),d(31),m(),f(32,"button",22),_("click",function(){n1(n);let t=F();return i1(t.addToCart(t.productQuery.data()))}),g(33,"fa-icon",23),d(34),m()()()}if(s&2){let n=F();h(2),W1("alt",n.productQuery.data().name),w("src","data:"+n.productQuery.data().pictures[0].mimeType+";base64,"+n.productQuery.data().pictures[0].file,n3),h(3),H6("",n.productQuery.data().name," - ",n.productQuery.data().size,""),h(),B(n.productQuery.data().nbInStock>0?6:7),h(2),B(n.productQuery.data().featured?8:-1),h(3),I(O1(12,15,n.productQuery.data().price+200)),h(3),I(O1(15,17,n.productQuery.data().price)),h(5),I(n.productQuery.data().brand),h(4),w("ngStyle",$1(19,un,n.productQuery.data().color)),h(4),I(n.productQuery.data().size),h(4),I3(" ",n.productQuery.data().description," "),h(),w("disabled",n.productQuery.data().nbInStock<=0),h(),w("icon",$1(21,dn,n.iconAddToCart)),h(),I3(" ",n.labelAddToCart," ")}}function Ln(s,c){s&1&&(f(0,"div",1),g(1,"span",24),m())}function Mn(s,c){if(s&1&&g(0,"ecom-product-card",5),s&2){let n=c.$implicit;w("product",n)}}var P7=(()=>{class s{publicId=r6("publicId");productService=r(a3);router=r(T1);toastService=r(v1);cartService=r(k2);lastPublicId="";pageRequest={page:0,size:20,sort:[]};labelAddToCart="Add to cart";iconAddToCart="shopping-cart";constructor(){z1(()=>this.handlePublicIdChange()),z1(()=>this.handleProductQueryError()),z1(()=>this.handleRelatedProductQueryError())}productQuery=f1(()=>({queryKey:["product",this.publicId()],queryFn:()=>K(this.productService.findOneByPublicId(this.publicId()))}));relatedProductQuery=f1(()=>({queryKey:["related-product",this.publicId(),this.pageRequest],queryFn:()=>K(this.productService.findRelatedProduct(this.pageRequest,this.publicId()))}));handlePublicIdChange(){this.publicId()&&(this.lastPublicId!=this.publicId()&&this.lastPublicId!==""&&(this.relatedProductQuery.refetch(),this.productQuery.refetch()),this.lastPublicId=this.publicId())}handleRelatedProductQueryError(){this.relatedProductQuery.isError()&&this.toastService.show("Error! Failed to load related product. please try again.","ERROR")}handleProductQueryError(){this.productQuery.isError()&&this.toastService.show("Error! Failed to load product. please try again.","ERROR")}addToCart(n){this.cartService.addToCart(n.publicId,"add"),this.labelAddToCart="Added to cart",this.iconAddToCart="check",s4(3e3).pipe(T2(1)).subscribe(()=>{this.labelAddToCart="Add to cart",this.iconAddToCart="shopping-cart"})}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=O({type:s,selectors:[["ecom-product-detail"]],standalone:!0,features:[U],decls:8,vars:1,consts:[[1,"flex","flex-col","lg:flex-row","justify-center","items-center","w-full"],[1,"flex","w-full","justify-center"],[1,"mt-10"],[1,"text-2xl","font-bold","mb-7","ms-4","sm:ms-0"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","xl:grid-cols-5","gap-8","sm:gap-5"],[3,"product"],[1,"lg:me-5"],["width","500px",1,"max-w-full","lg:max-w-none",3,"src","alt"],[1,"w-full","lg:w-auto"],[1,"text-3xl","font-bold"],[1,"text-green-500","text-lg"],[1,"text-red-500","text-lg"],[1,"rounded-md","border","w-32","p-2","text-center","border-black","my-5"],[1,"text-2xl","my-5"],[1,"line-through","me-2"],[1,"me-2"],[1,"font-bold"],[1,"flex","items-center","mt-1"],[1,"me-1"],[1,"w-5","h-5","rounded-full",3,"ngStyle"],[1,"my-5","w-96"],[1,"text-xl","font-bold"],[1,"btn","btn-primary","mt-5","w-full","lg:w-64",3,"click","disabled"],[1,"me-1",3,"icon"],[1,"loading","loading-spinner","loading-lg"]],template:function(e,t){if(e&1&&(T(0,Cn,35,23,"div",0)(1,Ln,2,0,"div",1),f(2,"div",2)(3,"h2",3),d(4,"Related products"),m(),f(5,"div",4),e1(6,Mn,1,1,"ecom-product-card",5,mn),m()()),e&2){let i;B(t.productQuery.isSuccess()?0:t.productQuery.isPending()?1:-1),h(6),c1((i=t.relatedProductQuery.data())==null?null:i.content)}},dependencies:[j,o4,L2,C1,m4]})}return s})();function gn(s,c){if(s&1&&(f(0,"label",2),g(1,"input",7),f(2,"span",5),d(3),m()()),s&2){let n=c.$implicit;h(),W1("formControlName",n),h(2),I(n)}}var V7=(()=>{class s{sort=$4("createdDate,asc");size=$4();productFilter=N6();formBuilder=r(x3);constructor(){z1(()=>this.updateSizeFormValue()),z1(()=>this.updateSortFormValue()),this.formFilterProducts.valueChanges.subscribe(()=>this.onFilterChange(this.formFilterProducts.getRawValue()))}formFilterProducts=this.formBuilder.nonNullable.group({sort:new d1(this.sort().split(",")[1],{nonNullable:!0,validators:[g1.required]}),size:this.buildSizeFormControl()});buildSizeFormControl(){let n=this.formBuilder.nonNullable.record({});for(let e of Y3)n.addControl(e,new d1(!1,{nonNullable:!0}));return n}onFilterChange(n){let e={size:"",sort:[`createdDate,${n.sort}`]},t=[];n.size!==void 0&&(t=Object.entries(n.size));for(let[i,l]of t)l&&(e.size?.length===0?e.size=i:e.size+=`,${i}`);this.productFilter.emit(e)}getSizeFormGroup(){return this.formFilterProducts.get("size")}updateSizeFormValue(){if(this.size()){let n=this.size().split(",");for(let e of n)this.getSizeFormGroup().get(e).setValue(!0,{emitEvent:!1})}}updateSortFormValue(){this.sort()&&this.formFilterProducts.controls.sort.setValue(this.sort().split(",")[1],{emitEvent:!1})}sizes=Y3;static \u0275fac=function(e){return new(e||s)};static \u0275cmp=O({type:s,selectors:[["ecom-products-filter"]],inputs:{sort:[1,"sort"],size:[1,"size"]},outputs:{productFilter:"productFilter"},standalone:!0,features:[U],decls:16,vars:2,consts:[[3,"formGroup"],[1,"font-bold","text-lg","mb-2"],[1,"cursor-pointer","label","justify-start","items-center"],[1,"font-bold","text-lg","mt-5","mb-2"],["type","radio","name","sort","value","asc","formControlName","sort",1,"radio","radio-primary"],[1,"label-text","ms-3"],["type","radio","name","sort","value","desc","formControlName","sort",1,"radio","radio-primary"],["type","checkbox","checked","checked",1,"checkbox","checkbox-primary","checkbox-md",3,"formControlName"]],template:function(e,t){e&1&&(f(0,"form",0)(1,"div",1),d(2,"Size"),m(),f(3,"form",0),e1(4,gn,4,2,"label",2,i3),m(),f(6,"div",3),d(7,"Sorted By"),m(),f(8,"label",2),g(9,"input",4),f(10,"span",5),d(11,"Oldest"),m()(),f(12,"label",2),g(13,"input",6),f(14,"span",5),d(15,"Newest"),m()()()),e&2&&(w("formGroup",t.formFilterProducts),h(3),w("formGroup",t.getSizeFormGroup()),h(),c1(t.sizes))},dependencies:[j,N3,b3,V2,Q3,l6,S3,y3,o2,K2]})}return s})();function f2(s,c={}){R1(f2);let n=r(P3),e=n.snapshot.queryParams||{},{transform:t,initialValue:i}=c;if(!s)return N1(n.queryParams,{initialValue:e});if(typeof s=="function")return N1(n.queryParams.pipe(k(s)),{initialValue:s(e)});let l=a=>{let o=a?.[s];return o?Array.isArray(o)?o.length<1?i??null:t?t(o[0]):o[0]:t?t(o):o:i??null};return N1(n.queryParams.pipe(k(l)),{initialValue:l(e)})}(function(s){function c(n,e={}){R1(s.array);let t=r(P3),i=t.snapshot.queryParams||{},{transform:l,initialValue:a}=e,o=p=>p?Array.isArray(p)?p.length<1?a??null:l?p.map(C=>l(C)):p:[l?l(p):p]:a??null,u=p=>{let C=p?.[n];return o(C)};return N1(t.queryParams.pipe(k(u)),{initialValue:u(i)})}s.array=c})(f2||(f2={}));var vn=(s,c)=>c.publicId;function Sn(s,c){if(s&1&&g(0,"ecom-product-card",6),s&2){let n=c.$implicit;w("product",n)}}function yn(s,c){if(s&1&&(f(0,"div",3),e1(1,Sn,1,1,"ecom-product-card",6,vn),m()),s&2){let n=F();h(),c1(n.filteredProductsQuery.data().content)}}function bn(s,c){s&1&&(f(0,"div",4),g(1,"span",7),m())}function xn(s,c){s&1&&(f(0,"div",5)(1,"div",8),d(2,"No results found"),m(),f(3,"div"),d(4,"Try to change your filters"),m()())}var D7=(()=>{class s{category=f2("category");size=f2("size");sort=f2("sort");productService=r(a3);router=r(T1);toastService=r(v1);pageRequest={page:0,size:20,sort:["createdDate,desc"]};filterProducts={category:this.category(),size:this.size()?this.size():"",sort:[this.sort()?this.sort():""]};lastCategory="";constructor(){z1(()=>this.handleFilteredProductsQueryError()),z1(()=>this.handleParametersChange())}filteredProductsQuery=f1(()=>({queryKey:["products",this.filterProducts],queryFn:()=>K(this.productService.filter(this.pageRequest,this.filterProducts))}));onFilterChange(n){n.category=this.category(),this.filterProducts=n,this.pageRequest.sort=n.sort,this.router.navigate(["/products"],{queryParams:z({},n)}),this.filteredProductsQuery.refetch()}handleFilteredProductsQueryError(){this.filteredProductsQuery.isError()&&this.toastService.show("Error! Failed to load products, please try again","ERROR")}handleParametersChange(){this.category()&&this.lastCategory!=this.category()&&this.lastCategory!==""&&(this.filterProducts={category:this.category(),size:this.size()?this.size():"",sort:[this.sort()?this.sort():""]},this.filteredProductsQuery.refetch()),this.lastCategory=this.category()}filter=V1;static \u0275fac=function(e){return new(e||s)};static \u0275cmp=O({type:s,selectors:[["ecom-products"]],standalone:!0,features:[U],decls:6,vars:3,consts:[[1,"grid","grid-cols-[1fr_6fr]","gap-5"],[1,"ms-5"],[3,"productFilter","sort","size"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-4"],[1,"flex","w-full","justify-center"],[1,"flex","flex-col","items-center","justify-center"],[3,"product"],[1,"loading","loading-spinner","loading-lg"],[1,"font-bold","text-2xl"]],template:function(e,t){e&1&&(f(0,"div",0)(1,"div",1)(2,"ecom-products-filter",2),_("productFilter",function(l){return t.onFilterChange(l)}),m()(),T(3,yn,3,0,"div",3)(4,bn,2,0,"div",4)(5,xn,5,0,"div",5),m()),e&2&&(h(2),w("sort",t.sort())("size",t.size()),h(),B(t.filteredProductsQuery.isSuccess()&&t.filteredProductsQuery.data().content.length!==0?3:t.filteredProductsQuery.isFetching()?4:t.filteredProductsQuery.isSuccess()&&t.filteredProductsQuery.data().content.length===0?5:-1))},dependencies:[j,V7,m4]})}return s})();var o6=new D("Stripe Publishable Key"),f6=new D("Stripe Options"),m6=new D("NGX_STRIPE_VERSION"),X3=class{version;loader;window;key;options;stripe$=new F1(void 0);stripe=this.stripe$.asObservable().pipe(V1(c=>!!c));constructor(c,n,e,t,i){this.version=c,this.loader=n,this.window=e,this.key=t,this.options=i,this.loader.asStream().pipe(V1(l=>l.loaded===!0),y(),k(()=>this.window.getNativeWindow().Stripe)).subscribe(l=>{let a=this.options?l(this.key,this.options):l(this.key);a.registerAppInfo(this.getNgxStripeAppInfo(this.version)),this.stripe$.next(a)})}getInstance(){return this.stripe$.getValue()}elements(c){return this.stripe.pipe(k(n=>n.elements(c)),y())}redirectToCheckout(c){return this.stripe.pipe(L(n=>S(n.redirectToCheckout(c))),y())}confirmPayment(c){return this.stripe.pipe(L(n=>S(n.confirmPayment(c))),y())}confirmAcssDebitPayment(c,n,e){return this.stripe.pipe(L(t=>S(t.confirmAcssDebitPayment(c,n,e))),y())}confirmUsBankAccountPayment(c,n){return this.stripe.pipe(L(e=>S(e.confirmUsBankAccountPayment(c,n))),y())}confirmAlipayPayment(c,n,e){return this.stripe.pipe(L(t=>S(t.confirmAlipayPayment(c,n,e))),y())}confirmAuBecsDebitPayment(c,n){return this.stripe.pipe(L(e=>S(e.confirmAuBecsDebitPayment(c,n))),y())}confirmBancontactPayment(c,n,e){return this.stripe.pipe(L(t=>S(t.confirmBancontactPayment(c,n,e))),y())}confirmBlikPayment(c,n,e){return this.stripe.pipe(L(t=>S(t.confirmBlikPayment(c,n,e))),y())}confirmBoletoPayment(c,n,e){return this.stripe.pipe(L(t=>S(t.confirmBoletoPayment(c,n,e))),y())}confirmCardPayment(c,n,e){return this.stripe.pipe(L(t=>S(t.confirmCardPayment(c,n,e))),y())}confirmCashappPayment(c,n,e){return this.stripe.pipe(L(t=>S(t.confirmCashappPayment(c,n,e))),y())}confirmCustomerBalancePayment(c,n,e){return this.stripe.pipe(L(t=>S(t.confirmCustomerBalancePayment(c,n,e))),y())}confirmEpsPayment(c,n,e){return this.stripe.pipe(L(t=>S(t.confirmEpsPayment(c,n,e))),y())}confirmFpxPayment(c,n,e){return this.stripe.pipe(L(t=>S(t.confirmFpxPayment(c,n,e))),y())}confirmGiropayPayment(c,n,e){return this.stripe.pipe(L(t=>S(t.confirmGiropayPayment(c,n,e))),y())}confirmGrabPayPayment(c,n,e){return this.stripe.pipe(L(t=>S(t.confirmGrabPayPayment(c,n,e))),y())}confirmIdealPayment(c,n,e){return this.stripe.pipe(L(t=>S(t.confirmIdealPayment(c,n,e))),y())}confirmKlarnaPayment(c,n,e){return this.stripe.pipe(L(t=>S(t.confirmKlarnaPayment(c,n,e))),y())}confirmKonbiniPayment(c,n,e){return this.stripe.pipe(L(t=>S(t.confirmKonbiniPayment(c,n,e))),y())}confirmMobilepayPayment(c,n,e){return this.stripe.pipe(L(t=>S(t.confirmMobilepayPayment(c,n,e))),y())}confirmOxxoPayment(c,n,e){return this.stripe.pipe(L(t=>S(t.confirmOxxoPayment(c,n,e))),y())}confirmP24Payment(c,n,e){return this.stripe.pipe(L(t=>S(t.confirmP24Payment(c,n,e))),y())}confirmPayNowPayment(c,n,e){return this.stripe.pipe(L(t=>S(t.confirmPayNowPayment(c,n,e))),y())}confirmPayPalPayment(c,n){return this.stripe.pipe(L(e=>S(e.confirmPayPalPayment(c,n))),y())}confirmPixPayment(c,n,e){return this.stripe.pipe(L(t=>S(t.confirmPixPayment(c,n,e))),y())}confirmPromptPayPayment(c,n,e){return this.stripe.pipe(L(t=>S(t.confirmPromptPayPayment(c,n,e))),y())}confirmSepaDebitPayment(c,n){return this.stripe.pipe(L(e=>S(e.confirmSepaDebitPayment(c,n))),y())}confirmSofortPayment(c,n,e){return this.stripe.pipe(L(t=>S(t.confirmSofortPayment(c,n,e))),y())}confirmWechatPayPayment(c,n,e){return this.stripe.pipe(L(t=>S(t.confirmWechatPayPayment(c,n,e))),y())}handleCardAction(c){return this.stripe.pipe(L(n=>S(n.handleCardAction(c))),y())}handleNextAction(c){return this.stripe.pipe(L(n=>S(n.handleNextAction(c))),y())}verifyMicrodepositsForPayment(c,n){return this.stripe.pipe(L(e=>S(e.verifyMicrodepositsForPayment(c,n))),y())}createRadarSession(){return this.stripe.pipe(L(c=>S(c.createRadarSession())),y())}collectBankAccountForPayment(c){return this.stripe.pipe(L(n=>S(n.collectBankAccountForPayment(c))),y())}createPaymentMethod(c){return this.stripe.pipe(L(n=>S(n.createPaymentMethod(c))),y())}createConfirmationToken(c){return this.stripe.pipe(L(n=>S(n.createConfirmationToken(c))),y())}retrievePaymentIntent(c){return this.stripe.pipe(L(n=>S(n.retrievePaymentIntent(c))),y())}confirmSetup(c){return this.stripe.pipe(L(n=>S(n.confirmSetup(c))),y())}confirmAcssDebitSetup(c,n,e){return this.stripe.pipe(L(t=>S(t.confirmAcssDebitSetup(c,n,e))),y())}confirmUsBankAccountSetup(c,n){return this.stripe.pipe(L(e=>S(e.confirmUsBankAccountSetup(c,n))),y())}confirmAuBecsDebitSetup(c,n){return this.stripe.pipe(L(e=>S(e.confirmAuBecsDebitSetup(c,n))),y())}confirmBacsDebitSetup(c,n){return this.stripe.pipe(L(e=>S(e.confirmBacsDebitSetup(c,n))),y())}confirmBancontactSetup(c,n){return this.stripe.pipe(L(e=>S(e.confirmBancontactSetup(c,n))),y())}confirmCardSetup(c,n,e){return this.stripe.pipe(L(t=>S(t.confirmCardSetup(c,n,e))),y())}confirmCashappSetup(c,n,e){return this.stripe.pipe(L(t=>S(t.confirmCashappSetup(c,n,e))),y())}confirmIdealSetup(c,n){return this.stripe.pipe(L(e=>S(e.confirmIdealSetup(c,n))),y())}confirmPayPalSetup(c,n){return this.stripe.pipe(L(e=>S(e.confirmPayPalSetup(c,n))),y())}confirmSepaDebitSetup(c,n){return this.stripe.pipe(L(e=>S(e.confirmSepaDebitSetup(c,n))),y())}confirmSofortSetup(c,n,e){return this.stripe.pipe(L(t=>S(t.confirmSofortSetup(c,n,e))),y())}confirmAffirmPayment(c,n,e){return this.stripe.pipe(L(t=>S(t.confirmAffirmPayment(c,n,e))),y())}confirmAfterpayClearpayPayment(c,n,e){return this.stripe.pipe(L(t=>S(t.confirmAfterpayClearpayPayment(c,n,e))),y())}verifyMicrodepositsForSetup(c,n){return this.stripe.pipe(L(e=>S(e.verifyMicrodepositsForSetup(c,n))),y())}collectBankAccountForSetup(c){return this.stripe.pipe(L(n=>S(n.collectBankAccountForSetup(c))),y())}retrieveSetupIntent(c){return this.stripe.pipe(L(n=>S(n.retrieveSetupIntent(c))),y())}processOrder(c){return this.stripe.pipe(L(n=>S(n.processOrder(c))),y())}retrieveOrder(c){return this.stripe.pipe(L(n=>S(n.retrieveOrder(c))),y())}paymentRequest(c){return this.getInstance().paymentRequest(c)}createToken(c,n){return this.stripe.pipe(L(e=>S(e.createToken(c,n))),y())}createSource(c,n){return this.stripe.pipe(L(e=>S(e.createSource(c,n))),y())}retrieveSource(c){return this.stripe.pipe(L(n=>S(n.retrieveSource(c))),y())}verifyIdentity(c){return this.stripe.pipe(L(n=>S(n.verifyIdentity(c))),y())}collectFinancialConnectionsAccounts(c){return this.stripe.pipe(L(n=>S(n.collectFinancialConnectionsAccounts(c))),y())}collectBankAccountToken(c){return this.stripe.pipe(L(n=>S(n.collectBankAccountToken(c))),y())}createEphemeralKeyNonce(c){return this.stripe.pipe(L(n=>S(n.createEphemeralKeyNonce(c))),y())}initCustomCheckout(c){return this.stripe.pipe(L(n=>S(n.initCustomCheckout(c))),y())}initEmbeddedCheckout(c){return this.stripe.pipe(L(n=>S(n.initEmbeddedCheckout(c))),y())}handleCardPayment(c,n,e){return this.stripe.pipe(L(t=>S(t.handleCardPayment(c,n,e))),y())}confirmPaymentIntent(c,n,e){return this.stripe.pipe(L(t=>S(t.confirmPaymentIntent(c,n,e))),y())}handleCardSetup(c,n,e){return this.stripe.pipe(L(t=>S(t.handleCardSetup(c,n,e))),y())}confirmSetupIntent(c,n,e){return this.stripe.pipe(L(t=>S(t.confirmSetupIntent(c,n,e))),y())}handleFpxPayment(c,n,e){return this.stripe.pipe(L(t=>S(t.handleFpxPayment(c,n,e))),y())}getNgxStripeAppInfo(c){return{name:"ngx-stripe",url:"https://ngx-stripe.dev",partner_id:"pp_partner_JR4l1rmvUoPP4V",version:c}}},O4=(()=>{class s{platformId;constructor(n){this.platformId=n}getNativeWindow(){return $(this.platformId)?window:{}}static \u0275fac=function(e){return new(e||s)(M1(m1))};static \u0275prov=M({token:s,factory:s.\u0275fac})}return s})(),T7=(()=>{class s{platformId;constructor(n){this.platformId=n}getNativeDocument(){return $(this.platformId)?document:{}}static \u0275fac=function(e){return new(e||s)(M1(m1))};static \u0275prov=M({token:s,factory:s.\u0275fac})}return s})(),u6=(()=>{class s{platformId;window;document;status=new F1({error:!1,loaded:!1,loading:!1});constructor(n,e,t){this.platformId=n,this.window=e,this.document=t}asStream(){return this.load(),this.status.asObservable()}isReady(){return this.status.getValue().loaded}load(){if(B6(this.platformId))return;let n=this.status.getValue();if(this.window.getNativeWindow().hasOwnProperty("Stripe"))this.status.next({error:!1,loaded:!0,loading:!1});else if(!n.loaded&&!n.loading){this.status.next(E(z({},n),{loading:!0}));let e=this.document.getNativeDocument().createElement("script");e.type="text/javascript",e.async=!0,e.defer=!0,e.src="https://js.stripe.com/v3/",e.onload=()=>{this.status.next({error:!1,loaded:!0,loading:!1})},e.onerror=()=>{this.status.next({error:!0,loaded:!1,loading:!1})},this.document.getNativeDocument().body.appendChild(e)}}static \u0275fac=function(e){return new(e||s)(M1(m1),M1(O4),M1(T7))};static \u0275prov=M({token:s,factory:s.\u0275fac})}return s})(),U4=(()=>{class s{version;key;options;loader;window;stripe;constructor(n,e,t,i,l){this.version=n,this.key=e,this.options=t,this.loader=i,this.window=l,e&&(this.stripe=new X3(this.version,this.loader,this.window,e,t))}getStripeReference(){return this.loader.asStream().pipe(V1(n=>n.loaded===!0),k(()=>this.window.getNativeWindow().Stripe))}getInstance(){return this.stripe.getInstance()}setKey(n,e){return this.changeKey(n,e)}changeKey(n,e){return this.stripe=new X3(this.version,this.loader,this.window,n,e),this.stripe}elements(n){return this.stripe.elements(n)}redirectToCheckout(n){return this.stripe.redirectToCheckout(n)}confirmPayment(n){return this.stripe.confirmPayment(n)}confirmAcssDebitPayment(n,e,t){return this.stripe.confirmAcssDebitPayment(n,e,t)}confirmUsBankAccountPayment(n,e){return this.stripe.confirmUsBankAccountPayment(n,e)}confirmAlipayPayment(n,e,t){return this.stripe.confirmAlipayPayment(n,e,t)}confirmAuBecsDebitPayment(n,e){return this.stripe.confirmAuBecsDebitPayment(n,e)}confirmBancontactPayment(n,e,t){return this.stripe.confirmBancontactPayment(n,e,t)}confirmBlikPayment(n,e,t){return this.stripe.confirmBlikPayment(n,e,t)}confirmBoletoPayment(n,e,t){return this.stripe.confirmBoletoPayment(n,e,t)}confirmCardPayment(n,e,t){return this.stripe.confirmCardPayment(n,e,t)}confirmCashappPayment(n,e,t){return this.stripe.confirmCashappPayment(n,e,t)}confirmCustomerBalancePayment(n,e,t){return this.stripe.confirmCustomerBalancePayment(n,e,t)}confirmEpsPayment(n,e,t){return this.stripe.confirmEpsPayment(n,e,t)}confirmFpxPayment(n,e,t){return this.stripe.confirmFpxPayment(n,e,t)}confirmGiropayPayment(n,e,t){return this.stripe.confirmGiropayPayment(n,e,t)}confirmGrabPayPayment(n,e,t){return this.stripe.confirmGrabPayPayment(n,e,t)}confirmIdealPayment(n,e,t){return this.stripe.confirmIdealPayment(n,e,t)}confirmKlarnaPayment(n,e,t){return this.stripe.confirmKlarnaPayment(n,e,t)}confirmKonbiniPayment(n,e,t){return this.stripe.confirmKonbiniPayment(n,e,t)}confirmMobilepayPayment(n,e,t){return this.stripe.confirmMobilepayPayment(n,e,t)}confirmOxxoPayment(n,e,t){return this.stripe.confirmOxxoPayment(n,e,t)}confirmP24Payment(n,e,t){return this.stripe.confirmP24Payment(n,e,t)}confirmPayNowPayment(n,e,t){return this.stripe.confirmPayNowPayment(n,e,t)}confirmPayPalPayment(n,e){return this.stripe.confirmPayPalPayment(n,e)}confirmPixPayment(n,e,t){return this.stripe.confirmPixPayment(n,e,t)}confirmPromptPayPayment(n,e,t){return this.stripe.confirmPromptPayPayment(n,e,t)}confirmSepaDebitPayment(n,e){return this.stripe.confirmSepaDebitPayment(n,e)}confirmSofortPayment(n,e,t){return this.stripe.confirmSofortPayment(n,e,t)}confirmWechatPayPayment(n,e,t){return this.stripe.confirmWechatPayPayment(n,e,t)}handleCardAction(n){return this.stripe.handleCardAction(n)}handleNextAction(n){return this.stripe.handleNextAction(n)}verifyMicrodepositsForPayment(n,e){return this.stripe.verifyMicrodepositsForPayment(n,e)}createRadarSession(){return this.stripe.createRadarSession()}collectBankAccountForPayment(n){return this.stripe.collectBankAccountForPayment(n)}createPaymentMethod(n){return this.stripe.createPaymentMethod(n)}createConfirmationToken(n){return this.stripe.createConfirmationToken(n)}retrievePaymentIntent(n){return this.stripe.retrievePaymentIntent(n)}confirmSetup(n){return this.stripe.confirmSetup(n)}confirmAcssDebitSetup(n,e,t){return this.stripe.confirmAcssDebitSetup(n,e,t)}confirmUsBankAccountSetup(n,e){return this.stripe.confirmUsBankAccountSetup(n,e)}confirmAuBecsDebitSetup(n,e){return this.stripe.confirmAuBecsDebitSetup(n,e)}confirmBacsDebitSetup(n,e){return this.stripe.confirmBacsDebitSetup(n,e)}confirmBancontactSetup(n,e){return this.stripe.confirmBancontactSetup(n,e)}confirmCardSetup(n,e,t){return this.stripe.confirmCardSetup(n,e,t)}confirmCashappSetup(n,e,t){return this.stripe.confirmCashappSetup(n,e,t)}confirmIdealSetup(n,e){return this.stripe.confirmIdealSetup(n,e)}confirmPayPalSetup(n,e){return this.stripe.confirmPayPalSetup(n,e)}confirmSepaDebitSetup(n,e){return this.stripe.confirmSepaDebitSetup(n,e)}confirmSofortSetup(n,e,t){return this.stripe.confirmSofortSetup(n,e,t)}confirmAffirmPayment(n,e,t){return this.stripe.confirmAffirmPayment(n,e,t)}confirmAfterpayClearpayPayment(n,e,t){return this.stripe.confirmAfterpayClearpayPayment(n,e,t)}verifyMicrodepositsForSetup(n,e){return this.stripe.verifyMicrodepositsForSetup(n,e)}collectBankAccountForSetup(n){return this.stripe.collectBankAccountForSetup(n)}retrieveSetupIntent(n){return this.stripe.retrieveSetupIntent(n)}processOrder(n){return this.stripe.processOrder(n)}retrieveOrder(n){return this.stripe.retrieveOrder(n)}paymentRequest(n){return this.stripe.paymentRequest(n)}createToken(n,e){return this.stripe.createToken(n,e)}createSource(n,e){return this.stripe.createSource(n,e)}retrieveSource(n){return this.stripe.retrieveSource(n)}verifyIdentity(n){return this.stripe.verifyIdentity(n)}collectFinancialConnectionsAccounts(n){return this.stripe.collectFinancialConnectionsAccounts(n)}collectBankAccountToken(n){return this.stripe.collectBankAccountToken(n)}createEphemeralKeyNonce(n){return this.stripe.createEphemeralKeyNonce(n)}initCustomCheckout(n){return this.stripe.initCustomCheckout(n)}initEmbeddedCheckout(n){return this.stripe.initEmbeddedCheckout(n)}handleCardPayment(n,e,t){return this.stripe.handleCardPayment(n,e,t)}confirmPaymentIntent(n,e,t){return this.stripe.confirmPaymentIntent(n,e,t)}handleCardSetup(n,e,t){return this.stripe.handleCardSetup(n,e,t)}confirmSetupIntent(n,e,t){return this.stripe.confirmSetupIntent(n,e,t)}handleFpxPayment(n,e,t){return this.stripe.handleFpxPayment(n,e,t)}static \u0275fac=function(e){return new(e||s)(M1(m6),M1(o6),M1(f6),M1(u6),M1(O4))};static \u0275prov=M({token:s,factory:s.\u0275fac})}return s})(),Nn=(()=>{class s{stripeService;constructor(n){this.stripeService=n}elements(n,e={}){return n?Object.keys(e).length>0?n.elements(e):n.elements():Object.keys(e).length>0?this.stripeService.elements(e):this.stripeService.elements()}paymentRequest(n,e){return n?n.paymentRequest(e):this.stripeService.paymentRequest(e)}mergeOptions(n,e){return!e||n&&n.classes?n||{}:!n||!n.classes?E(z({},n||{}),{classes:{base:e,complete:`${e}--complete`,empty:`${e}--empty`,focus:`${e}--focus`,invalid:`${e}--invalid`,webkitAutoFill:`${e}--webkit-autoFill`}}):n||{}}static \u0275fac=function(e){return new(e||s)(M1(U4))};static \u0275prov=M({token:s,factory:s.\u0275fac})}return s})();var wn=(()=>{class s{version;baseKey;baseOptions;loader;window;constructor(n,e,t,i,l){this.version=n,this.baseKey=e,this.baseOptions=t,this.loader=i,this.window=l}create(n,e){if(!n&&!this.baseKey)throw new Error("No key defined! Either you need to pass it as a parameter or define it when you call NgxStripeModule.forRoot()");return new X3(this.version,this.loader,this.window,n||this.baseKey,e||this.baseOptions)}static \u0275fac=function(e){return new(e||s)(M1(m6),M1(o6),M1(f6),M1(u6),M1(O4))};static \u0275prov=M({token:s,factory:s.\u0275fac})}return s})();var kn="17.2.0";function An(s,c){return[u6,U4,wn,Nn,O4,T7,{provide:o6,useValue:s},{provide:f6,useValue:c},{provide:m6,useValue:kn}]}function F7(s,c){return a4([...An(s,c)])}var En=(s,c)=>c.publicId,In=s=>["/product",s];function Pn(s,c){if(s&1){let n=A1();g(0,"div",11),f(1,"div",12)(2,"div",13),g(3,"img",14),f(4,"div",15)(5,"a",16),d(6),m(),f(7,"div",17),d(8),m(),f(9,"div",6),d(10),_1(11,"currency"),m()()(),f(12,"div",18)(13,"div",19)(14,"button",20),_("click",function(){let t=n1(n).$implicit,i=F(2);return i1(i.removeQuantityToCart(t.publicId,t.quantity))}),d(15,"- "),m(),f(16,"div"),d(17),m(),f(18,"button",20),_("click",function(){let t=n1(n).$implicit,i=F(2);return i1(i.addQuantityToCart(t.publicId))}),d(19,"+ "),m()(),f(20,"div",21),_("click",function(){let t=n1(n).$implicit,i=F(2);return i1(i.removeItem(t.publicId))}),d(21," Remove "),m()()()}if(s&2){let n=c.$implicit;h(3),W1("alt",n.name),w("src","data:"+n.picture.mimeType+";base64,"+n.picture.file,n3),h(2),w("routerLink",$1(9,In,n.publicId)),h(),I(n.name),h(2),I(n.brand),h(2),I(O1(11,7,n.price)),h(7),I(n.quantity)}}function Vn(s,c){if(s&1&&e1(0,Pn,22,11,null,null,En),s&2){let n=F();c1(n.cart)}}function Dn(s,c){s&1&&(f(0,"div",3),g(1,"span",22),m())}function Tn(s,c){s&1&&(f(0,"div",4)(1,"div",23),d(2,"No items in cart"),m(),f(3,"div"),d(4,"Add some items to your cart"),m()())}var H7=(()=>{class s{cartService=r(k2);oauth2Service=r(w2);toastService=r(v1);stripeService=r(U4);cart=[];platformId=r(m1);labelCheckout="Login to checkout";action="login";isInitPaymentSessionLoading=!1;cartQuery=f1(()=>({queryKey:["cart"],queryFn:()=>K(this.cartService.getCartDetail())}));initPaymentSession=K1(()=>({mutationFn:n=>K(this.cartService.initPaymentSession(n)),onSuccess:n=>this.onSessionCreateSuccess(n)}));constructor(){this.extractListToUpdate(),this.checkUserLoggedIn()}extractListToUpdate(){z1(()=>{this.cartQuery.isSuccess()&&(this.cart=this.cartQuery.data().products)})}checkUserLoggedIn(){z1(()=>{let n=this.oauth2Service.connectedUserQuery;n?.isError()?(this.labelCheckout="Login to checkout",this.action="login"):n?.isSuccess()&&(this.labelCheckout="Checkout",this.action="checkout")})}ngOnInit(){this.cartService.addedToCart.subscribe(n=>this.updateQuantity(n))}updateQuantity(n){for(let e of this.cart){let t=n.find(i=>i.publicId===e.publicId);t?e.quantity=t.quantity:this.cart.splice(this.cart.indexOf(e),1)}}addQuantityToCart(n){this.cartService.addToCart(n,"add")}removeQuantityToCart(n,e){e>1&&this.cartService.addToCart(n,"remove")}removeItem(n){let e=this.cart.findIndex(t=>t.publicId===n);e&&this.cart.splice(e,1),this.cartService.removeFromCart(n)}computeTotal(){return this.cart.reduce((n,e)=>n+e.price*e.quantity,0)}checkIfEmptyCart(){return $(this.platformId)?this.cartQuery.isSuccess()&&this.cartQuery.data().products.length===0:!1}checkout(){if(this.action==="login")this.oauth2Service.login();else if(this.action==="checkout"){this.isInitPaymentSessionLoading=!0;let n=this.cart.map(e=>({publicId:e.publicId,quantity:e.quantity}));this.initPaymentSession.mutate(n)}}onSessionCreateSuccess(n){this.cartService.storeSessionId(n.id),this.stripeService.redirectToCheckout({sessionId:n.id}).subscribe(e=>{this.isInitPaymentSessionLoading=!1,this.toastService.show(`Order error ${e.error.message}`,"ERROR")})}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=O({type:s,selectors:[["ecom-cart"]],standalone:!0,features:[U],decls:27,vars:9,consts:[[1,"text-2xl","mb-2"],[1,"flex","flex-col","lg:flex-row"],[1,"flex-grow","me-5","w-full"],[1,"flex","w-full","justify-center"],[1,"flex","flex-col","items-center","justify-center","h-60"],[1,"bg-gray-100","border-gray-400","p-5","w-full","lg:w-96","h-72","mt-6","lg:mt-0","rounded-md"],[1,"font-bold"],[1,"border-t","border-gray-300","my-5"],[1,"flex","justify-between"],[1,"flex","justify-between","font-bold"],[1,"btn","btn-primary","w-full",3,"click","disabled"],[1,"border-t","border-gray-200"],[1,"flex","items-center","justify-between"],[1,"p-4","flex"],["width","110px",1,"max-w-full","lg:max-w-none","me-5",3,"src","alt"],[1,"w-40"],[3,"routerLink"],[1,"text-sm"],[1,"flex"],[1,"w-32","flex","justify-around","items-center"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"ms-5","btn","btn-error","btn-outline",3,"click"],[1,"loading","loading-spinner","loading-lg"],[1,"font-bold","text-2xl"]],template:function(e,t){e&1&&(f(0,"div",0),d(1,"Shopping cart"),m(),f(2,"div",1)(3,"div",2),T(4,Vn,2,0)(5,Dn,2,0,"div",3)(6,Tn,5,0,"div",4),m(),f(7,"div",5)(8,"div",6),d(9,"Order Summary"),m(),g(10,"div",7),f(11,"div",8)(12,"div"),d(13,"Delivery"),m(),f(14,"div"),d(15),_1(16,"currency"),m()(),g(17,"div",7),f(18,"div",9)(19,"div"),d(20,"Total"),m(),f(21,"div"),d(22),_1(23,"currency"),m()(),g(24,"div",7),f(25,"button",10),_("click",function(){return t.checkout()}),d(26),m()()()),e&2&&(h(4),B(t.cartQuery.isSuccess()&&t.cart.length!==0?4:t.cartQuery.isPending()?5:t.checkIfEmptyCart()?6:-1),h(11),I(O1(16,5,0)),h(7),I(O1(23,7,t.computeTotal())),h(3),w("disabled",t.cartQuery.isSuccess()&&t.cartQuery.data().products.length===0),h(),I3(" ",t.labelCheckout," "))},dependencies:[j,L2,Z1]})}return s})();var Fn=()=>["far","circle-check"];function Hn(s,c){s&1&&(f(0,"div",0),g(1,"fa-icon",2),f(2,"div",3),d(3,"Thanks for your order"),m(),f(4,"div"),d(5,"You will receive an confirmation email shortly"),m()()),s&2&&(h(),w("icon",l1(1,Fn)))}function Rn(s,c){s&1&&(f(0,"div",1)(1,"div",3),d(2,"Invalid cart session"),m(),f(3,"div"),d(4,"Please try again"),m()())}var R7=(()=>{class s{sessionId=f2("session_id");cartService=r(k2);isValidAccess=!0;constructor(){E6(()=>this.verifySession())}verifySession(){this.cartService.getSessionId()!==this.sessionId()?this.isValidAccess=!1:(this.cartService.deleteSessionId(),this.cartService.clearCart())}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=O({type:s,selectors:[["ecom-cart-success"]],standalone:!0,features:[U],decls:2,vars:1,consts:[[1,"flex","flex-col","items-center","justify-center","mt-20"],[1,"flex","flex-col","items-center","justify-center"],["size","5x",1,"text-green-600",3,"icon"],[1,"font-bold","text-2xl"]],template:function(e,t){e&1&&T(0,Hn,6,2,"div",0)(1,Rn,5,0,"div",1),e&2&&B(t.isValidAccess?0:1)},dependencies:[j,C1]})}return s})();var q4=(()=>{class s{http=r(Q1);getOrdersForConnectedUser(n){let e=V3(n);return this.http.get(`${t1.apiUrl}/orders/user`,{params:e})}getOrdersForAdmin(n){let e=V3(n);return this.http.get(`${t1.apiUrl}/orders/admin`,{params:e})}static \u0275fac=function(e){return new(e||s)};static \u0275prov=M({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var _n=(s,c)=>c.publicId,On=()=>["fas","circle-exclamation"];function Un(s,c){if(s&1&&(f(0,"tr",10)(1,"th"),d(2),m(),f(3,"td"),d(4),m(),f(5,"td"),d(6),m(),f(7,"td"),d(8),m(),f(9,"td"),d(10),_1(11,"currency"),m()()),s&2){let n=c.$implicit,e=c.$index,t=F(2);h(2),I(e),h(2),I(t.computeItemsName(n.orderedItems)),h(2),I(n.status),h(2),I(t.computeItemsQuantity(n.orderedItems)),h(2),I(O1(11,5,t.computeTotal(n.orderedItems)))}}function qn(s,c){if(s&1&&(f(0,"div",3)(1,"table",7)(2,"thead",8)(3,"tr",8),g(4,"th"),f(5,"th"),d(6,"Products"),m(),f(7,"th"),d(8,"Status"),m(),f(9,"th"),d(10,"Nb of items"),m(),f(11,"th"),d(12,"Total amount"),m()()(),f(13,"tbody",9),e1(14,Un,12,7,"tr",10,_n),m()()()),s&2){let n=F();h(14),c1(n.ordersQuery.data().content)}}function Bn(s,c){s&1&&(f(0,"div",4),g(1,"span",11),m())}function jn(s,c){s&1&&(f(0,"div",5),g(1,"fa-icon",12),f(2,"span"),d(3,"No order created yet."),m()()),s&2&&(h(),w("icon",l1(1,On)))}function Wn(s,c){s&1&&(f(0,"div",6)(1,"span"),d(2,"Error! Failed to load orders!"),m()())}var _7=(()=>{class s{orderService=r(q4);pageRequest={page:0,size:20,sort:[]};platformId=r(m1);ordersQuery=f1(()=>({queryKey:["user-orders",this.pageRequest],queryFn:()=>K(this.orderService.getOrdersForConnectedUser(this.pageRequest))}));computeItemsName(n){return n.map(e=>e.name).join(", ")}computeItemsQuantity(n){return n.reduce((e,t)=>e+t.quantity,0)}computeTotal(n){return n.reduce((e,t)=>e+t.price*t.quantity,0)}checkIfPlatformBrowser(){return $(this.platformId)}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=O({type:s,selectors:[["ecom-user-orders"]],standalone:!0,features:[U],decls:11,vars:1,consts:[[1,"w-full","flex","justify-between","items-center"],[1,"text-2xl","font-bold"],[1,"border-t","w-full","border-solid","border-gray-300","mt-2","mb-5"],[1,"overflow-x-auto","border","border-gray-300","rounded-md"],[1,"flex","w-full","justify-center"],[1,"alert","alert-info"],[1,"alert","alert-error"],[1,"table","table-lg","table-zebra"],[1,"border-gray-300"],[1,"border-0"],[1,"border-t-1","border-gray-300"],[1,"loading","loading-spinner","loading-lg"],["size","2x",3,"icon"]],template:function(e,t){if(e&1&&(f(0,"div",0)(1,"div")(2,"h1",1),d(3,"Your orders"),m(),f(4,"div"),d(5,"Here's the list of your orders"),m()()(),g(6,"div",2),T(7,qn,16,0,"div",3)(8,Bn,2,0,"div",4)(9,jn,4,2,"div",5)(10,Wn,3,0,"div",6)),e&2){let i;h(7),B(t.ordersQuery.isSuccess()&&t.ordersQuery.data().numberOfElements!==0?7:t.ordersQuery.isPending()?8:((i=t.ordersQuery.data())==null?null:i.numberOfElements)===0?9:t.ordersQuery.isError()&&t.checkIfPlatformBrowser()?10:-1)}},dependencies:[j,L2,C1]})}return s})();var Gn=(s,c)=>c.publicId,$n=()=>["fas","circle-exclamation"];function Qn(s,c){if(s&1&&(f(0,"tr",10)(1,"th"),d(2),m(),f(3,"td"),d(4),m(),f(5,"td"),d(6),m(),f(7,"td"),d(8),m(),f(9,"td"),d(10),m(),f(11,"td"),d(12),m(),f(13,"td"),d(14),_1(15,"currency"),m()()),s&2){let n=c.$implicit,e=c.$index,t=F(2);h(2),I(e),h(2),I(t.computeItemsName(n.orderedItems)),h(2),I(n.email),h(2),I(n.address),h(2),I(n.status),h(2),I(t.computeItemsQuantity(n.orderedItems)),h(2),I(O1(15,7,t.computeTotal(n.orderedItems)))}}function Zn(s,c){if(s&1&&(f(0,"div",3)(1,"table",7)(2,"thead",8)(3,"tr",8),g(4,"th"),f(5,"th"),d(6,"Products"),m(),f(7,"th"),d(8,"Email"),m(),f(9,"th"),d(10,"Address"),m(),f(11,"th"),d(12,"Status"),m(),f(13,"th"),d(14,"Nb of items"),m(),f(15,"th"),d(16,"Total amount"),m()()(),f(17,"tbody",9),e1(18,Qn,16,9,"tr",10,Gn),m()()()),s&2){let n=F();h(18),c1(n.ordersAdminQuery.data().content)}}function Kn(s,c){s&1&&(f(0,"div",4),g(1,"span",11),m())}function Yn(s,c){s&1&&(f(0,"div",5),g(1,"fa-icon",12),f(2,"span"),d(3,"No order created yet."),m()()),s&2&&(h(),w("icon",l1(1,$n)))}function Xn(s,c){s&1&&(f(0,"div",6)(1,"span"),d(2,"Error! Failed to load orders!"),m()())}var O7=(()=>{class s{orderService=r(q4);pageRequest={page:0,size:20,sort:[]};platformId=r(m1);ordersAdminQuery=f1(()=>({queryKey:["admin-orders",this.pageRequest],queryFn:()=>K(this.orderService.getOrdersForAdmin(this.pageRequest))}));computeItemsName(n){return n.map(e=>e.name).join(", ")}computeItemsQuantity(n){return n.reduce((e,t)=>e+t.quantity,0)}computeTotal(n){return n.reduce((e,t)=>e+t.price*t.quantity,0)}checkIfPlatformBrowser(){return $(this.platformId)}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=O({type:s,selectors:[["ecom-admin-orders"]],standalone:!0,features:[U],decls:11,vars:1,consts:[[1,"w-full","flex","justify-between","items-center"],[1,"text-2xl","font-bold"],[1,"border-t","w-full","border-solid","border-gray-300","mt-2","mb-5"],[1,"overflow-x-auto","border","border-gray-300","rounded-md"],[1,"flex","w-full","justify-center"],[1,"alert","alert-info"],[1,"alert","alert-error"],[1,"table","table-lg","table-zebra"],[1,"border-gray-300"],[1,"border-0"],[1,"border-t-1","border-gray-300"],[1,"loading","loading-spinner","loading-lg"],["size","2x",3,"icon"]],template:function(e,t){if(e&1&&(f(0,"div",0)(1,"div")(2,"h1",1),d(3,"Your orders"),m(),f(4,"div"),d(5,"Here's the list of your orders"),m()()(),g(6,"div",2),T(7,Zn,20,0,"div",3)(8,Kn,2,0,"div",4)(9,Yn,4,2,"div",5)(10,Xn,3,0,"div",6)),e&2){let i;h(7),B(t.ordersAdminQuery.isSuccess()&&t.ordersAdminQuery.data().numberOfElements!==0?7:t.ordersAdminQuery.isPending()?8:((i=t.ordersAdminQuery.data())==null?null:i.numberOfElements)===0?9:t.ordersAdminQuery.isError()&&t.checkIfPlatformBrowser()?10:-1)}},dependencies:[j,L2,C1]})}return s})();var U7=[{path:"admin/categories/list",component:Q5,canActivate:[w3],data:{authorities:["ROLE_ADMIN"]}},{path:"admin/categories/create",component:k7,canActivate:[w3],data:{authorities:["ROLE_ADMIN"]}},{path:"admin/products/create",component:A7,canActivate:[w3],data:{authorities:["ROLE_ADMIN"]}},{path:"admin/products/list",component:E7,canActivate:[w3],data:{authorities:["ROLE_ADMIN"]}},{path:"admin/orders/list",component:O7,canActivate:[w3],data:{authorities:["ROLE_ADMIN"]}},{path:"",component:I7},{path:"product/:publicId",component:P7},{path:"products",component:D7},{path:"cart",component:H7},{path:"cart/success",component:R7},{path:"users/orders",component:_7}];var q7=(()=>{class s{platformId=r(m1);clear(){$(this.platformId)&&sessionStorage.clear()}read(n){return $(this.platformId)?sessionStorage.getItem(n):null}remove(n){$(this.platformId)&&sessionStorage.removeItem(n)}write(n,e){$(this.platformId)&&sessionStorage.setItem(n,e)}static \u0275fac=function(e){return new(e||s)};static \u0275prov=M({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var B7={providers:[K6(),O6({eventCoalescing:!0}),J6(U7,e8()),K4($6(),G6([_5()])),k5({config:{authority:t1.kinde.authority,redirectUrl:t1.kinde.redirectUrl,postLogoutRedirectUri:t1.kinde.postLogoutRedirectUri,clientId:t1.kinde.clientId,scope:"openid profile email offline",responseType:"code",silentRenew:!0,useRefreshToken:!0,logLevel:G2.Warn,secureRoutes:[t1.apiUrl],customParamsAuthRequest:{audience:t1.kinde.audience}}}),{provide:y4,useClass:q7},s8(new t8),F7(t1.stripePublishableKey)]};var Jn=new D("[WA_WINDOW]",{factory:()=>{let{defaultView:s}=r(a1);if(!s)throw new Error("Window is not available");return s}}),S1=Jn,ei=new D("[WA_ANIMATION_FRAME]",{factory:()=>{let{requestAnimationFrame:s,cancelAnimationFrame:c}=r(S1);return new t2(e=>{let t=NaN,i=l=>{e.next(l),t=s(i)};return t=s(i),()=>{c(t)}}).pipe(b6())}}),j7=ei,ci=new D("[WA_CACHES]",{factory:()=>r(S1).caches}),W7=ci,ti=new D("[WA_CRYPTO]",{factory:()=>r(S1).crypto}),G7=ti,Gm=new D("[WA_CSS]",{factory:()=>r(S1).CSS??{escape:s=>s,supports:()=>!1}});var si=new D("[WA_HISTORY]",{factory:()=>r(S1).history}),$7=si,ni=new D("[WA_LOCAL_STORAGE]",{factory:()=>r(S1).localStorage}),Q7=ni,ii=new D("[WA_LOCATION]",{factory:()=>r(S1).location}),Z7=ii,K7=new D("[WA_NAVIGATOR]",{factory:()=>r(S1).navigator}),B4=K7,li=new D("[WA_MEDIA_DEVICES]",{factory:()=>r(B4).mediaDevices}),Y7=li,$m=new D("[WA_NETWORK_INFORMATION]",{factory:()=>r(K7).connection||null});var Qm=new D("[WA_PAGE_VISIBILITY]",{factory:()=>{let s=r(a1);return c4(s,"visibilitychange").pipe(J2(0),k(()=>s.visibilityState!=="hidden"),p2(),i4({refCount:!1,bufferSize:1}))}});var ai=new D("[WA_PERFORMANCE]",{factory:()=>r(S1).performance}),X7=ai,Zm=new D("[WA_SCREEN]",{factory:()=>r(S1).screen});var ri=new D("[WA_SESSION_STORAGE]",{factory:()=>r(S1).sessionStorage}),J7=ri,Km=new D("[WA_SPEECH_RECOGNITION]: [SPEECH_RECOGNITION]",{factory:()=>{let s=r(S1);return s.speechRecognition||s.webkitSpeechRecognition||null}});var oi=new D("[WA_SPEECH_SYNTHESIS]",{factory:()=>r(S1).speechSynthesis}),ee=oi,fi=new D("[WA_USER_AGENT]",{factory:()=>r(B4).userAgent}),ce=fi;var mi={provide:j7,useValue:v6};function d6(s){return s}function N(){}function ie(){return[]}function ui(){return{}}function q1(){return!1}function te(){return null}function p6(){return 0}function W(){return m2(this,null,function*(){return Promise.reject().catch(N)})}var le={delete:()=>m2(void 0,null,function*(){return Promise.resolve(!1)}),has:()=>m2(void 0,null,function*(){return Promise.resolve(!1)}),keys:()=>m2(void 0,null,function*(){return Promise.resolve([])}),match:W,open:W},di={provide:W7,useValue:le},ae={subtle:new Proxy({},{get:()=>()=>W}),getRandomValues:d6},pi={provide:G7,useValue:ae},hi={length:0,scrollRestoration:"auto",state:{},back:N,forward:N,go:N,pushState:N,replaceState:N},zi={provide:$7,useValue:hi},E3=class{storage=new Map;get length(){return this.storage.size}getItem(c){return this.storage.has(c)?this.storage.get(c):null}setItem(c,n){this.storage.set(c,n)}clear(){this.storage.clear()}key(c){return c<this.storage.size?[...this.storage.keys()][c]:null}removeItem(c){this.storage.delete(c)}},Ci={provide:Q7,useClass:E3},h6=class extends Array{contains(){return!1}item(){return null}},j4=class{ancestorOrigins=new h6;hash="";host="";hostname="";href="";origin="";pathname="";port="";protocol="";search="";assign=N;reload=N;replace=N},Li=new D("[WA_SSR_LOCATION]"),re=Li,Mi={provide:Z7,deps:[[new e3,re]],useFactory:s=>s||new j4},gi=new D("[WA_SSR_USER_AGENT]"),C6=gi,A3={addEventListener:N,dispatchEvent:q1,removeEventListener:N};function se(){return new class extends Array{item=()=>null;namedItem=()=>null;refresh(){}}}var W4={appCodeName:"",appName:"",appVersion:"",platform:"",product:"",productSub:"",userAgent:"",vendor:"",vendorSub:"",onLine:!1,confirmSiteSpecificTrackingException:q1,confirmWebWideTrackingException:q1,share:W,registerProtocolHandler:N,unregisterProtocolHandler:N,removeSiteSpecificTrackingException:N,removeWebWideTrackingException:N,storeSiteSpecificTrackingException:N,storeWebWideTrackingException:N,credentials:{create:W,get:W,preventSilentAccess:W,store:W},msSaveBlob:q1,msSaveOrOpenBlob:q1,sendBeacon:q1,hardwareConcurrency:0,getDisplayMedia:W,language:"",languages:[],storage:{estimate:W,persist:W,persisted:W},activeVRDisplays:[],authentication:{getAssertion:W,makeCredential:W},clipboard:E(z({},A3),{readText:W,writeText:W}),cookieEnabled:!1,doNotTrack:null,gamepadInputEmulation:"keyboard",geolocation:{clearWatch:N,getCurrentPosition:N,watchPosition:p6},maxTouchPoints:0,mediaDevices:E(z({},A3),{ondevicechange:null,enumerateDevices:W,getSupportedConstraints:ui,getUserMedia:W}),mimeTypes:se(),msManipulationViewsEnabled:!1,msMaxTouchPoints:0,msPointerEnabled:!1,permissions:{query:W},plugins:se(),pointerEnabled:!1,serviceWorker:E(z({},A3),{controller:null,oncontrollerchange:null,onmessage:null,onmessageerror:null,ready:W(),getRegistration:W,getRegistrations:W,register:W,startMessages:N}),webdriver:!1,getGamepads:ie,getUserMedia:N,getVRDisplays:W,javaEnabled:q1,msLaunchUri:N,requestMediaKeySystemAccess:W,vibrate:q1},vi={provide:B4,deps:[[new e3,C6]],useFactory:s=>E(z({},W4),{userAgent:s||""})},Si={provide:Y7,useValue:W4.mediaDevices};function oe(){return he("perf_hooks").performance}var yi={provide:X7,deps:[],useFactory:oe},bi={provide:J7,useClass:E3},fe={paused:!1,pending:!1,speaking:!1,onvoiceschanged:N,addEventListener:N,removeEventListener:N,dispatchEvent:q1,cancel:N,pause:N,resume:N,speak:N,getVoices:ie},xi={provide:ee,useValue:fe},Ni={provide:ce,deps:[[new e3,C6]],useFactory:s=>s||""},z6=class{size=0;type="";arrayBuffer=()=>m2(this,null,function*(){return W()});stream=()=>new ReadableStream;text=()=>m2(this,null,function*(){return W()});slice=()=>this},wi={getPropertyPriority:()=>"",getPropertyValue:()=>"",item:()=>"",removeProperty:()=>"",setProperty:N},ki={get:(s,c)=>c in s?s[c]:null},Ai=new Proxy(wi,ki),Ei=new class extends Array{item=()=>null},k3={visible:!1},ne=E(z({},A3),{onblocked:null,onerror:null,onsuccess:null,onupgradeneeded:null,error:null,readyState:"pending",result:null,source:null,transaction:null}),Ii=["frames","parent","self","top","window"],Pi={get:(s,c)=>Ii.includes(c)?s:c.startsWith("on")?null:s[c]},Vi={provide:S1,deps:[a1,[new e3,re],[new e3,C6]],useFactory:(s,c,n)=>{let e=E(z({},A3),{document:s,localStorage:new E3,location:c||new j4,navigator:E(z({},W4),{userAgent:n||""}),performance:oe(),sessionStorage:new E3,speechSynthesis:fe,caches:le,crypto:ae,URL,URLSearchParams,setTimeout,setInterval,clearTimeout,clearInterval,console,Blob:z6,alert:N,clientInformation:E(z({},W4),{userAgent:n||""}),matchMedia:()=>E(z({},A3),{matches:!1,media:"",onchange:null,addListener:N,removeListener:N}),indexedDB:{cmp:p6,open:()=>ne,deleteDatabase:()=>ne},customElements:{define:N,get:N,upgrade:N,whenDefined:W},styleMedia:{type:"",matchMedium:q1},history:{length:0,scrollRestoration:"auto",state:{},back:N,forward:N,go:N,pushState:N,replaceState:N},closed:!1,defaultStatus:"",devicePixelRatio:1,doNotTrack:"",frameElement:null,innerHeight:0,innerWidth:0,isSecureContext:!1,length:0,name:"",offscreenBuffering:!1,opener:{},origin:"",orientation:"",outerHeight:0,outerWidth:0,pageXOffset:0,pageYOffset:0,screenLeft:0,screenTop:0,screenX:0,screenY:0,scrollX:0,scrollY:0,status:"",blur:N,cancelAnimationFrame:N,captureEvents:N,close:N,confirm:q1,departFocus:N,focus:N,moveBy:N,moveTo:N,open:te,postMessage:N,print:N,prompt:te,releaseEvents:N,requestAnimationFrame:p6,resizeBy:N,resizeTo:N,scroll:N,scrollBy:N,scrollTo:N,stop:N,atob:d6,btoa:d6,fetch:W,createImageBitmap:W,queueMicrotask:N,locationbar:k3,menubar:k3,personalbar:k3,scrollbars:k3,statusbar:k3,toolbar:k3,getComputedStyle:()=>Ai,getMatchedCSSRules:()=>Ei,getSelection:()=>null});return new Proxy(e,Pi)}},me=[mi,di,pi,zi,Ci,bi,Mi,Si,vi,yi,xi,Ni,Vi];var Di={providers:[Y6(),me]},ue=U6(B7,Di);var Ti=()=>Q6($5,ue),pu=Ti;export{pu as a};
